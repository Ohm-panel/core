# Logfile created on Mon Mar 29 21:51:42 +0200 2010  [4;36;1mDomain Load (0.6ms)[0m   [0;1mSELECT * FROM "domains" WHERE ("domains"."id" = 1) [0m
  [4;35;1mUser Load (0.9ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
  [4;36;1mDomain Load (0.4ms)[0m   [0;1mSELECT "domains".id FROM "domains" WHERE ("domains"."domain" = 'test.com') LIMIT 1[0m
  [4;35;1mDomain Load (0.1ms)[0m   [0mSELECT "domains".id FROM "domains" WHERE ("domains"."domain" IS NULL) LIMIT 1[0m
  [4;36;1mDomain Load (0.2ms)[0m   [0;1mSELECT * FROM "domains" WHERE ("domains"."id" = 1) [0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mDomain Load (0.1ms)[0m   [0;1mSELECT "domains".id FROM "domains" WHERE ("domains"."domain" = 'test.com' AND "domains".id <> 1) LIMIT 1[0m
  [4;35;1mLoggedUser Load (0.2ms)[0m   [0mSELECT * FROM "logged_users" WHERE ("logged_users"."id" = 2053932785) [0m
  [4;36;1mLoggedUser Load (0.2ms)[0m   [0;1mSELECT * FROM "logged_users" WHERE ("logged_users"."id" = 2053932785) [0m
  [4;35;1mLoggedUser Load (0.2ms)[0m   [0mSELECT * FROM "logged_users" WHERE ("logged_users"."id" = 2053932785) [0m
  [4;36;1mService Load (0.1ms)[0m   [0;1mSELECT "services".id FROM "services" WHERE ("services"."name" = 'New Service') LIMIT 1[0m
  [4;35;1mService Load (0.1ms)[0m   [0mSELECT "services".id FROM "services" WHERE ("services"."controller" = 'service_new_service') LIMIT 1[0m
  [4;36;1mService Load (0.1ms)[0m   [0;1mSELECT "services".id FROM "services" WHERE ("services"."name" = 'New Service') LIMIT 1[0m
  [4;35;1mService Load (0.1ms)[0m   [0mSELECT "services".id FROM "services" WHERE ("services"."controller" = 'service_new_service') LIMIT 1[0m
  [4;36;1mService Create (0.1ms)[0m   [0;1mINSERT INTO "services" ("name", "daemon_installed", "created_at", "updated_at", "by_domain", "deleted", "description", "controller", "tech_name", "install_files") VALUES('New Service', 'f', '2010-03-29 19:51:42', '2010-03-29 19:51:42', 'f', 'f', NULL, 'service_new_service', 'New Service', NULL)[0m
  [4;35;1mService Load (0.1ms)[0m   [0mSELECT "services".id FROM "services" WHERE ("services"."name" IS NULL) LIMIT 1[0m
  [4;36;1mService Load (0.1ms)[0m   [0;1mSELECT "services".id FROM "services" WHERE ("services"."controller" IS NULL) LIMIT 1[0m
  [4;35;1mService Load (0.2ms)[0m   [0mSELECT * FROM "services" WHERE ("services"."id" = 2053932785) [0m
  [4;36;1mService Load (0.1ms)[0m   [0;1mSELECT "services".id FROM "services" WHERE ("services"."name" = 'Service 1') LIMIT 1[0m
  [4;35;1mService Load (0.1ms)[0m   [0mSELECT "services".id FROM "services" WHERE ("services"."controller" = 'service_test_1') LIMIT 1[0m
  [4;36;1mService Load (0.2ms)[0m   [0;1mSELECT * FROM "services" WHERE ("services"."id" = 2053932785) [0m
  [4;35;1mService Load (0.1ms)[0m   [0mSELECT "services".id FROM "services" WHERE ("services"."name" = 'Service 1' AND "services".id <> 2053932785) LIMIT 1[0m
  [4;36;1mService Load (0.1ms)[0m   [0;1mSELECT "services".id FROM "services" WHERE ("services"."controller" = 'service_test_1' AND "services".id <> 2053932785) LIMIT 1[0m
  [4;35;1mService Load (0.2ms)[0m   [0mSELECT * FROM "services" WHERE ("services"."id" = 298486374) [0m
  [4;36;1mService Load (0.1ms)[0m   [0;1mSELECT "services".id FROM "services" WHERE ("services"."name" = 'Service 2' AND "services".id <> 298486374) LIMIT 1[0m
  [4;35;1mService Load (0.1ms)[0m   [0mSELECT "services".id FROM "services" WHERE ("services"."controller" = 'service_test_2' AND "services".id <> 298486374) LIMIT 1[0m
  [4;36;1mSubdomain Load (0.2ms)[0m   [0;1mSELECT * FROM "subdomains" WHERE ("subdomains"."id" = 2053932785) [0m
  [4;35;1mDomain Load (0.2ms)[0m   [0mSELECT * FROM "domains" WHERE ("domains"."id" = 1) [0m
  [4;36;1mSubdomain Load (0.1ms)[0m   [0;1mSELECT "subdomains".id FROM "subdomains" WHERE ("subdomains"."url" = 'www' AND "subdomains".domain_id = 1) LIMIT 1[0m
  [4;35;1mSubdomain Load (0.1ms)[0m   [0mSELECT "subdomains".id FROM "subdomains" WHERE ("subdomains"."path" = 'www' AND "subdomains".domain_id = 1) LIMIT 1[0m
  [4;36;1mSubdomain Load (0.1ms)[0m   [0;1mSELECT "subdomains".id FROM "subdomains" WHERE ("subdomains"."url" = 'www' AND "subdomains".domain_id = 2) LIMIT 1[0m
  [4;35;1mSubdomain Load (0.1ms)[0m   [0mSELECT "subdomains".id FROM "subdomains" WHERE ("subdomains"."path" = 'www' AND "subdomains".domain_id = 2) LIMIT 1[0m
  [4;36;1mSubdomain Load (0.1ms)[0m   [0;1mSELECT "subdomains".id FROM "subdomains" WHERE ("subdomains"."url" = 'newsub' AND "subdomains".domain_id = 1) LIMIT 1[0m
  [4;35;1mSubdomain Load (0.1ms)[0m   [0mSELECT "subdomains".id FROM "subdomains" WHERE ("subdomains"."path" = 'newsub' AND "subdomains".domain_id = 1) LIMIT 1[0m
  [4;36;1mSubdomain Load (0.1ms)[0m   [0;1mSELECT "subdomains".id FROM "subdomains" WHERE ("subdomains"."url" IS NULL AND "subdomains".domain_id IS NULL) LIMIT 1[0m
  [4;35;1mSubdomain Load (0.1ms)[0m   [0mSELECT "subdomains".id FROM "subdomains" WHERE ("subdomains"."path" IS NULL AND "subdomains".domain_id IS NULL) LIMIT 1[0m
  [4;36;1mSubdomain Load (0.2ms)[0m   [0;1mSELECT * FROM "subdomains" WHERE ("subdomains"."id" = 298486374) [0m
  [4;35;1mDomain Load (0.2ms)[0m   [0mSELECT * FROM "domains" WHERE ("domains"."id" = 1) [0m
  [4;36;1mSubdomain Load (0.1ms)[0m   [0;1mSELECT "subdomains".id FROM "subdomains" WHERE ("subdomains"."url" = 'test' AND "subdomains".domain_id = 1 AND "subdomains".id <> 298486374) LIMIT 1[0m
  [4;35;1mSubdomain Load (0.1ms)[0m   [0mSELECT "subdomains".id FROM "subdomains" WHERE ("subdomains"."path" = 'test-site' AND "subdomains".domain_id = 1 AND "subdomains".id <> 298486374) LIMIT 1[0m
  [4;36;1mSubdomain Load (0.2ms)[0m   [0;1mSELECT * FROM "subdomains" WHERE ("subdomains"."id" = 298486374) [0m
  [4;35;1mSubdomain Load (0.1ms)[0m   [0mSELECT "subdomains".id FROM "subdomains" WHERE ("subdomains"."url" = 'test' AND "subdomains".domain_id = 1 AND "subdomains".id <> 298486374) LIMIT 1[0m
  [4;36;1mSubdomain Load (0.1ms)[0m   [0;1mSELECT "subdomains".id FROM "subdomains" WHERE ("subdomains"."path" = 'test-site' AND "subdomains".domain_id = 1 AND "subdomains".id <> 298486374) LIMIT 1[0m
  [4;35;1mSubdomain Load (0.2ms)[0m   [0mSELECT * FROM "subdomains" WHERE ("subdomains"."id" = 298486374) [0m
  [4;36;1mDomain Load (0.2ms)[0m   [0;1mSELECT * FROM "domains" WHERE ("domains"."id" = 1) [0m
  [4;35;1mSubdomain Load (0.1ms)[0m   [0mSELECT "subdomains".id FROM "subdomains" WHERE ("subdomains"."url" = 'mainsub' AND "subdomains".domain_id = 1) LIMIT 1[0m
  [4;36;1mSubdomain Load (0.1ms)[0m   [0;1mSELECT "subdomains".id FROM "subdomains" WHERE ("subdomains"."path" = 'mainsub' AND "subdomains".domain_id = 1) LIMIT 1[0m
  [4;35;1mSubdomain Load (0.2ms)[0m   [0mSELECT * FROM "subdomains" WHERE ("subdomains"."domain_id" = 1 AND "subdomains"."mainsub" = 't') LIMIT 1[0m
  [4;36;1mSubdomain Update (0.1ms)[0m   [0;1mUPDATE "subdomains" SET "updated_at" = '2010-03-29 19:51:42', "mainsub" = 'f' WHERE "id" = 2053932785[0m
  [4;35;1mSubdomain Create (0.1ms)[0m   [0mINSERT INTO "subdomains" ("created_at", "updated_at", "url", "domain_id", "path", "mainsub") VALUES('2010-03-29 19:51:42', '2010-03-29 19:51:42', 'mainsub', 1, 'mainsub', 't')[0m
  [4;36;1mSubdomain Load (0.1ms)[0m   [0;1mSELECT "subdomains".id FROM "subdomains" WHERE ("subdomains"."url" = 'mainsub' AND "subdomains".domain_id = 1 AND "subdomains".id <> 2053932786) LIMIT 1[0m
  [4;35;1mSubdomain Load (0.1ms)[0m   [0mSELECT "subdomains".id FROM "subdomains" WHERE ("subdomains"."path" = 'mainsub' AND "subdomains".domain_id = 1 AND "subdomains".id <> 2053932786) LIMIT 1[0m
  [4;36;1mSubdomain Load (0.2ms)[0m   [0;1mSELECT * FROM "subdomains" WHERE ("subdomains"."domain_id" = 1 AND "subdomains"."mainsub" = 't') LIMIT 1[0m
  [4;35;1mSubdomain Load (0.3ms)[0m   [0mSELECT * FROM "subdomains" WHERE ("subdomains".domain_id = 1) [0m
  [4;36;1mSubdomain Load (0.2ms)[0m   [0;1mSELECT * FROM "subdomains" WHERE ("subdomains"."id" = 2053932785) [0m
  [4;35;1mDomain Load (0.2ms)[0m   [0mSELECT * FROM "domains" WHERE ("domains"."id" = 1) [0m
  [4;36;1mSubdomain Load (0.1ms)[0m   [0;1mSELECT "subdomains".id FROM "subdomains" WHERE ("subdomains"."url" = 'www' AND "subdomains".domain_id = 1 AND "subdomains".id <> 2053932785) LIMIT 1[0m
  [4;35;1mSubdomain Load (0.1ms)[0m   [0mSELECT "subdomains".id FROM "subdomains" WHERE ("subdomains"."path" = '' AND "subdomains".domain_id = 1 AND "subdomains".id <> 2053932785) LIMIT 1[0m
  [4;36;1mSubdomain Load (0.2ms)[0m   [0;1mSELECT * FROM "subdomains" WHERE ("subdomains"."domain_id" = 1 AND "subdomains"."mainsub" = 't') LIMIT 1[0m
  [4;35;1mSubdomain Load (0.1ms)[0m   [0mSELECT "subdomains".id FROM "subdomains" WHERE ("subdomains"."url" = 'www' AND "subdomains".domain_id = 1 AND "subdomains".id <> 2053932785) LIMIT 1[0m
  [4;36;1mSubdomain Load (0.1ms)[0m   [0;1mSELECT "subdomains".id FROM "subdomains" WHERE ("subdomains"."path" = 'www' AND "subdomains".domain_id = 1 AND "subdomains".id <> 2053932785) LIMIT 1[0m
  [4;35;1mSubdomain Load (0.2ms)[0m   [0mSELECT * FROM "subdomains" WHERE ("subdomains"."domain_id" = 1 AND "subdomains"."mainsub" = 't') LIMIT 1[0m
  [4;36;1mSubdomain Load (0.2ms)[0m   [0;1mSELECT * FROM "subdomains" WHERE ("subdomains"."id" = 2053932785) [0m
  [4;35;1mDomain Load (0.1ms)[0m   [0mSELECT * FROM "domains" WHERE ("domains"."id" = 1) [0m
  [4;36;1mSubdomain Load (0.1ms)[0m   [0;1mSELECT "subdomains".id FROM "subdomains" WHERE ("subdomains"."url" = 'www' AND "subdomains".domain_id = 1 AND "subdomains".id <> 2053932785) LIMIT 1[0m
  [4;35;1mSubdomain Load (0.1ms)[0m   [0mSELECT "subdomains".id FROM "subdomains" WHERE ("subdomains"."path" = 'www' AND "subdomains".domain_id = 1 AND "subdomains".id <> 2053932785) LIMIT 1[0m
  [4;36;1mSubdomain Load (0.2ms)[0m   [0;1mSELECT * FROM "subdomains" WHERE ("subdomains"."domain_id" = 1 AND "subdomains"."mainsub" = 't') LIMIT 1[0m
  [4;35;1mSubdomain Load (0.2ms)[0m   [0mSELECT * FROM "subdomains" WHERE ("subdomains"."id" = 298486374) [0m
  [4;36;1mDomain Load (0.1ms)[0m   [0;1mSELECT * FROM "domains" WHERE ("domains"."id" = 1) [0m
  [4;35;1mSubdomain Load (0.1ms)[0m   [0mSELECT "subdomains".id FROM "subdomains" WHERE ("subdomains"."url" = 'test' AND "subdomains".domain_id = 1 AND "subdomains".id <> 298486374) LIMIT 1[0m
  [4;36;1mSubdomain Load (0.1ms)[0m   [0;1mSELECT "subdomains".id FROM "subdomains" WHERE ("subdomains"."path" = 'test-site' AND "subdomains".domain_id = 1 AND "subdomains".id <> 298486374) LIMIT 1[0m
  [4;35;1mSubdomain Load (0.2ms)[0m   [0mSELECT * FROM "subdomains" WHERE ("subdomains"."id" = 298486374) [0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT "users".id FROM "users" WHERE ("users"."username" = 'test1' AND "users".id <> 2) LIMIT 1[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT "users".id FROM "users" WHERE ("users"."username" = 'test_email') LIMIT 1[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT "users".id FROM "users" WHERE ("users"."username" = 'test_email') LIMIT 1[0m
  [4;35;1mUser Create (0.2ms)[0m   [0mINSERT INTO "users" ("max_bandwidth", "created_at", "max_space", "updated_at", "username", "used_space", "max_subusers", "full_name", "parent_id", "password", "email", "max_subdomains", "ohmd_password") VALUES(NULL, '2010-03-29 19:51:42', -1, '2010-03-29 19:51:42', 'test_email', 0, -1, NULL, 1, 'x', 'valid.with.dots_and-stuff@123.test.co.uk', -1, NULL)[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT "users".id FROM "users" WHERE ("users"."username" = 'test_email' AND "users".id <> 4) LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT "users".id FROM "users" WHERE ("users"."username" = 'test_email' AND "users".id <> 4) LIMIT 1[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT "users".id FROM "users" WHERE ("users"."username" = 'test_email' AND "users".id <> 4) LIMIT 1[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT "users".id FROM "users" WHERE ("users"."username" = 'test1' AND "users".id <> 2) LIMIT 1[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users".parent_id = 2) [0m
  [4;35;1mDomain Load (0.1ms)[0m   [0mSELECT * FROM "domains" WHERE ("domains".user_id = 2) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM "users" WHERE ("users".parent_id = 2) [0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT "users".id FROM "users" WHERE ("users"."username" = 'quota tester') LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM "users" WHERE ("users".parent_id = 2) [0m
  [4;35;1mService Load (0.1ms)[0m   [0mSELECT * FROM "services" INNER JOIN "services_users" ON "services".id = "services_users".service_id WHERE ("services_users".user_id = 2 ) [0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT "users".id FROM "users" WHERE ("users"."username" IS NULL) LIMIT 1[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT "users".id FROM "users" WHERE ("users"."username" = 'admin') LIMIT 1[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT "users".id FROM "users" WHERE ("users"."username" = 'nobody') LIMIT 1[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT "users".id FROM "users" WHERE ("users"."username" = 'test1' AND "users".id <> 2) LIMIT 1[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT "users".id FROM "users" WHERE ("users"."username" = 'test1') LIMIT 1[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT "users".id FROM "users" WHERE ("users"."username" = 'ohmadmin' AND "users".id <> 1) LIMIT 1[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT "users".id FROM "users" WHERE ("users"."username" = 'test1' AND "users".id <> 2) LIMIT 1[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 3) [0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT "users".id FROM "users" WHERE ("users"."username" = 'test2' AND "users".id <> 3) LIMIT 1[0m
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
  [4;35;1mLoggedUser Create (0.2ms)[0m   [0mINSERT INTO "logged_users" ("created_at", "session", "updated_at", "user_id", "ip", "session_ts") VALUES('2010-03-29 19:51:44', 'test session', '2010-03-29 19:51:44', 2, '0.0.0.0', '2010-03-29 19:51:43')[0m


Processing DashboardController#index (for 0.0.0.0 at 2010-03-29 21:51:44) [GET]
  Parameters: {"action"=>"index", "controller"=>"dashboard"}
  [4;36;1mLoggedUser Load (0.2ms)[0m   [0;1mSELECT * FROM "logged_users" WHERE ("logged_users"."ip" = '0.0.0.0' AND "logged_users"."session" = 'test session') LIMIT 1[0m
  [4;35;1mLoggedUser Update (0.1ms)[0m   [0mUPDATE "logged_users" SET "updated_at" = '2010-03-29 19:51:44', "session_ts" = '2010-03-29 19:51:44' WHERE "id" = 2053932786[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
Rendering template within layouts/ohm
Rendering dashboard/index
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM "users" WHERE ("users".parent_id = 2) [0m
  [4;36;1mDomain Load (0.1ms)[0m   [0;1mSELECT * FROM "domains" WHERE ("domains".user_id = 2) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM "domains" WHERE ("domains".user_id = 2) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM "services" INNER JOIN "services_users" ON "services".id = "services_users".service_id WHERE ("services_users".user_id = 2 ) [0m
  [4;35;1mService Load (0.1ms)[0m   [0mSELECT * FROM "services" INNER JOIN "services_users" ON "services".id = "services_users".service_id WHERE ("services_users".user_id = 2 ) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM "users" WHERE ("users".parent_id = 2) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM "users" WHERE ("users".parent_id = 2) [0m
Completed in 16ms (View: 11, DB: 4) | 200 OK [http://test.host/]


Processing DashboardController#index (for 0.0.0.0 at 2010-03-29 21:51:44) [GET]
  Parameters: {"action"=>"index", "controller"=>"dashboard"}
Redirected to http://test.host/login
Filter chain halted as [:authenticate] rendered_or_redirected.
Completed in 0ms (DB: 0) | 302 Found [http://test.host/]
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mLoggedUser Create (0.1ms)[0m   [0mINSERT INTO "logged_users" ("created_at", "session", "updated_at", "user_id", "ip", "session_ts") VALUES('2010-03-29 19:51:44', 'test session', '2010-03-29 19:51:44', 1, '0.0.0.0', '2010-03-29 19:51:44')[0m
  [4;36;1mService Load (0.5ms)[0m   [0;1mSELECT * FROM "services" WHERE ("services"."id" = 2053932785) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mINSERT INTO "services_users" ("service_id", "user_id") VALUES (2053932785, 1)[0m
  [4;36;1mService Load (0.1ms)[0m   [0;1mSELECT "services".id FROM "services" WHERE ("services"."name" = 'Service 1' AND "services".id <> 2053932785) LIMIT 1[0m
  [4;35;1mService Load (0.1ms)[0m   [0mSELECT "services".id FROM "services" WHERE ("services"."controller" = 'service_test_1' AND "services".id <> 2053932785) LIMIT 1[0m
  [4;36;1mDomain Load (0.1ms)[0m   [0;1mSELECT * FROM "domains" WHERE ("domains"."id" = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM "services" INNER JOIN "domains_services" ON "services".id = "domains_services".service_id WHERE ("domains_services".domain_id = 1 ) [0m


Processing DomainsController#addservice (for 0.0.0.0 at 2010-03-29 21:51:44) [POST]
  Parameters: {"action"=>"addservice", "domain_id"=>"1", "service_id"=>[2053932785], "controller"=>"domains"}
  [4;36;1mLoggedUser Load (0.2ms)[0m   [0;1mSELECT * FROM "logged_users" WHERE ("logged_users"."ip" = '0.0.0.0' AND "logged_users"."session" = 'test session') LIMIT 1[0m
  [4;35;1mLoggedUser Update (0.1ms)[0m   [0mUPDATE "logged_users" SET "updated_at" = '2010-03-29 19:51:44', "session_ts" = '2010-03-29 19:51:44' WHERE "id" = 2053932786[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mDomain Load (0.1ms)[0m   [0mSELECT * FROM "domains" WHERE ("domains"."id" = 1) [0m
  [4;36;1mService Load (0.2ms)[0m   [0;1mSELECT * FROM "services" WHERE ("services"."id" = 2053932785) [0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT "users".id FROM "users" INNER JOIN "services_users" ON "users".id = "services_users".user_id WHERE ("users"."id" = 1) AND ("services_users".service_id = 2053932785 ) LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mINSERT INTO "domains_services" ("domain_id", "service_id") VALUES (1, 2053932785)[0m
  [4;36;1mDomain Load (0.1ms)[0m   [0;1mSELECT "domains".id FROM "domains" WHERE ("domains"."domain" = 'test.com' AND "domains".id <> 1) LIMIT 1[0m
Redirected to http://test.host/service_test_1/addtodomain?domain_id=1&service_id=2053932785
Completed in 10ms (DB: 3) | 302 Found [http://test.host/domains/addservice?domain_id=1&service_id%5B%5D=2053932785]
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM "services" INNER JOIN "domains_services" ON "services".id = "domains_services".service_id WHERE ("domains_services".domain_id = 1 ) [0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
  [4;35;1mLoggedUser Create (0.4ms)[0m   [0mINSERT INTO "logged_users" ("created_at", "session", "updated_at", "user_id", "ip", "session_ts") VALUES('2010-03-29 19:51:44', 'test session', '2010-03-29 19:51:44', 2, '0.0.0.0', '2010-03-29 19:51:44')[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM "domains" [0m


Processing DomainsController#create (for 0.0.0.0 at 2010-03-29 21:51:44) [POST]
  Parameters: {"action"=>"create", "domain"=>{"domain"=>"newdom.com"}, "controller"=>"domains"}
  [4;35;1mLoggedUser Load (0.2ms)[0m   [0mSELECT * FROM "logged_users" WHERE ("logged_users"."ip" = '0.0.0.0' AND "logged_users"."session" = 'test session') LIMIT 1[0m
  [4;36;1mLoggedUser Update (0.1ms)[0m   [0;1mUPDATE "logged_users" SET "updated_at" = '2010-03-29 19:51:44', "session_ts" = '2010-03-29 19:51:44' WHERE "id" = 2053932786[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
  [4;36;1mDomain Load (0.1ms)[0m   [0;1mSELECT "domains".id FROM "domains" WHERE ("domains"."domain" = 'newdom.com') LIMIT 1[0m
  [4;35;1mDomain Create (0.1ms)[0m   [0mINSERT INTO "domains" ("created_at", "updated_at", "domain", "user_id") VALUES('2010-03-29 19:51:44', '2010-03-29 19:51:44', 'newdom.com', 2)[0m
  [4;36;1mSubdomain Load (0.1ms)[0m   [0;1mSELECT "subdomains".id FROM "subdomains" WHERE ("subdomains"."url" = 'www' AND "subdomains".domain_id = 2) LIMIT 1[0m
  [4;35;1mSubdomain Load (0.1ms)[0m   [0mSELECT "subdomains".id FROM "subdomains" WHERE ("subdomains"."path" = 'www' AND "subdomains".domain_id = 2) LIMIT 1[0m
  [4;36;1mSubdomain Load (0.1ms)[0m   [0;1mSELECT * FROM "subdomains" WHERE ("subdomains"."mainsub" = 't' AND "subdomains"."domain_id" = 2) LIMIT 1[0m
  [4;35;1mSubdomain Create (0.1ms)[0m   [0mINSERT INTO "subdomains" ("created_at", "updated_at", "url", "domain_id", "path", "mainsub") VALUES('2010-03-29 19:51:44', '2010-03-29 19:51:44', 'www', 2, 'www', 't')[0m
Redirected to http://test.host/domains/2
Completed in 8ms (DB: 2) | 302 Found [http://test.host/domains?domain%5Bdomain%5D=newdom.com]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM "domains" [0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mLoggedUser Create (0.1ms)[0m   [0;1mINSERT INTO "logged_users" ("created_at", "session", "updated_at", "user_id", "ip", "session_ts") VALUES('2010-03-29 19:51:44', 'test session', '2010-03-29 19:51:44', 1, '0.0.0.0', '2010-03-29 19:51:44')[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM "domains" [0m
  [4;36;1mDomain Load (0.1ms)[0m   [0;1mSELECT * FROM "domains" WHERE ("domains"."id" = 1) [0m


Processing DomainsController#destroy (for 0.0.0.0 at 2010-03-29 21:51:44) [DELETE]
  Parameters: {"action"=>"destroy", "id"=>"1", "controller"=>"domains"}
  [4;35;1mLoggedUser Load (0.3ms)[0m   [0mSELECT * FROM "logged_users" WHERE ("logged_users"."ip" = '0.0.0.0' AND "logged_users"."session" = 'test session') LIMIT 1[0m
  [4;36;1mLoggedUser Update (0.1ms)[0m   [0;1mUPDATE "logged_users" SET "updated_at" = '2010-03-29 19:51:44', "session_ts" = '2010-03-29 19:51:44' WHERE "id" = 2053932786[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mDomain Load (0.2ms)[0m   [0;1mSELECT * FROM "domains" WHERE ("domains"."id" = 1) [0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mSubdomain Load (0.3ms)[0m   [0;1mSELECT * FROM "subdomains" WHERE ("subdomains".domain_id = 1) [0m
  [4;35;1mSubdomain Destroy (0.1ms)[0m   [0mDELETE FROM "subdomains" WHERE "id" = 298486374[0m
  [4;36;1mSubdomain Destroy (0.1ms)[0m   [0;1mDELETE FROM "subdomains" WHERE "id" = 2053932785[0m
  [4;35;1mSubdomain Destroy (0.1ms)[0m   [0mDELETE FROM "subdomains" WHERE "id" = 298486374[0m
  [4;36;1mSubdomain Destroy (0.1ms)[0m   [0;1mDELETE FROM "subdomains" WHERE "id" = 2053932785[0m
  [4;35;1mService Load (0.1ms)[0m   [0mSELECT * FROM "services" INNER JOIN "domains_services" ON "services".id = "domains_services".service_id WHERE ("domains_services".domain_id = 1 ) [0m
  [4;36;1mDomain Destroy (0.1ms)[0m   [0;1mDELETE FROM "domains" WHERE "id" = 1[0m
Redirected to http://test.host/domains
Completed in 55ms (DB: 3) | 302 Found [http://test.host/domains/1]
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM "domains" [0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
  [4;35;1mLoggedUser Create (0.1ms)[0m   [0mINSERT INTO "logged_users" ("created_at", "session", "updated_at", "user_id", "ip", "session_ts") VALUES('2010-03-29 19:51:44', 'test session', '2010-03-29 19:51:44', 2, '0.0.0.0', '2010-03-29 19:51:44')[0m


Processing DomainsController#index (for 0.0.0.0 at 2010-03-29 21:51:44) [GET]
  Parameters: {"action"=>"index", "controller"=>"domains"}
  [4;36;1mLoggedUser Load (0.2ms)[0m   [0;1mSELECT * FROM "logged_users" WHERE ("logged_users"."ip" = '0.0.0.0' AND "logged_users"."session" = 'test session') LIMIT 1[0m
  [4;35;1mLoggedUser Update (0.1ms)[0m   [0mUPDATE "logged_users" SET "updated_at" = '2010-03-29 19:51:44', "session_ts" = '2010-03-29 19:51:44' WHERE "id" = 2053932786[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
Rendering template within layouts/ohm
Rendering domains/index
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM "domains" WHERE ("domains".user_id = 2) [0m
  [4;36;1mDomain Load (0.1ms)[0m   [0;1mSELECT * FROM "domains" WHERE ("domains".user_id = 2) [0m
  [4;35;1mService Load (0.1ms)[0m   [0mSELECT * FROM "services" INNER JOIN "services_users" ON "services".id = "services_users".service_id WHERE ("services_users".user_id = 2 ) [0m
Completed in 8ms (View: 5, DB: 1) | 200 OK [http://test.host/domains]


Processing DomainsController#index (for 0.0.0.0 at 2010-03-29 21:51:44) [GET]
  Parameters: {"action"=>"index", "controller"=>"domains"}
Redirected to http://test.host/login
Filter chain halted as [:authenticate] rendered_or_redirected.
Completed in 0ms (DB: 0) | 302 Found [http://test.host/domains]
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
  [4;35;1mLoggedUser Create (0.1ms)[0m   [0mINSERT INTO "logged_users" ("created_at", "session", "updated_at", "user_id", "ip", "session_ts") VALUES('2010-03-29 19:51:44', 'test session', '2010-03-29 19:51:44', 2, '0.0.0.0', '2010-03-29 19:51:44')[0m


Processing DomainsController#new (for 0.0.0.0 at 2010-03-29 21:51:44) [GET]
  Parameters: {"action"=>"new", "controller"=>"domains"}
  [4;36;1mLoggedUser Load (0.2ms)[0m   [0;1mSELECT * FROM "logged_users" WHERE ("logged_users"."ip" = '0.0.0.0' AND "logged_users"."session" = 'test session') LIMIT 1[0m
  [4;35;1mLoggedUser Update (0.1ms)[0m   [0mUPDATE "logged_users" SET "updated_at" = '2010-03-29 19:51:44', "session_ts" = '2010-03-29 19:51:44' WHERE "id" = 2053932786[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
Rendering template within layouts/ohm
Rendering domains/new
  [4;35;1mService Load (0.1ms)[0m   [0mSELECT * FROM "services" INNER JOIN "services_users" ON "services".id = "services_users".service_id WHERE ("services_users".user_id = 2 ) [0m
Completed in 8ms (View: 5, DB: 1) | 200 OK [http://test.host/domains/new]
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
  [4;35;1mLoggedUser Create (0.1ms)[0m   [0mINSERT INTO "logged_users" ("created_at", "session", "updated_at", "user_id", "ip", "session_ts") VALUES('2010-03-29 19:51:44', 'test session', '2010-03-29 19:51:44', 2, '0.0.0.0', '2010-03-29 19:51:44')[0m
  [4;36;1mService Load (0.2ms)[0m   [0;1mSELECT * FROM "services" WHERE ("services"."id" = 2053932785) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mINSERT INTO "services_users" ("service_id", "user_id") VALUES (2053932785, 2)[0m
  [4;36;1mService Load (0.1ms)[0m   [0;1mSELECT "services".id FROM "services" WHERE ("services"."name" = 'Service 1' AND "services".id <> 2053932785) LIMIT 1[0m
  [4;35;1mService Load (0.1ms)[0m   [0mSELECT "services".id FROM "services" WHERE ("services"."controller" = 'service_test_1' AND "services".id <> 2053932785) LIMIT 1[0m
  [4;36;1mDomain Load (0.2ms)[0m   [0;1mSELECT * FROM "domains" WHERE ("domains"."id" = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM "services" INNER JOIN "domains_services" ON "services".id = "domains_services".service_id WHERE ("domains_services".domain_id = 1 ) [0m


Processing DomainsController#addservice (for 0.0.0.0 at 2010-03-29 21:51:44) [POST]
  Parameters: {"action"=>"addservice", "domain_id"=>"1", "service_id"=>[2053932785], "controller"=>"domains"}
  [4;36;1mLoggedUser Load (0.2ms)[0m   [0;1mSELECT * FROM "logged_users" WHERE ("logged_users"."ip" = '0.0.0.0' AND "logged_users"."session" = 'test session') LIMIT 1[0m
  [4;35;1mLoggedUser Update (0.1ms)[0m   [0mUPDATE "logged_users" SET "updated_at" = '2010-03-29 19:51:44', "session_ts" = '2010-03-29 19:51:44' WHERE "id" = 2053932786[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
  [4;35;1mDomain Load (0.1ms)[0m   [0mSELECT * FROM "domains" WHERE ("domains"."id" = 1) [0m
  [4;36;1mService Load (0.2ms)[0m   [0;1mSELECT * FROM "services" WHERE ("services"."id" = 2053932785) [0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
Redirected to http://test.host/domains
Completed in 4ms (DB: 2) | 302 Found [http://test.host/domains/addservice?domain_id=1&service_id%5B%5D=2053932785]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM "services" INNER JOIN "domains_services" ON "services".id = "domains_services".service_id WHERE ("domains_services".domain_id = 1 ) [0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
  [4;36;1mLoggedUser Create (0.1ms)[0m   [0;1mINSERT INTO "logged_users" ("created_at", "session", "updated_at", "user_id", "ip", "session_ts") VALUES('2010-03-29 19:51:44', 'test session', '2010-03-29 19:51:44', 2, '0.0.0.0', '2010-03-29 19:51:44')[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM "domains" [0m
  [4;36;1mDomain Load (0.2ms)[0m   [0;1mSELECT * FROM "domains" WHERE ("domains"."id" = 1) [0m


Processing DomainsController#destroy (for 0.0.0.0 at 2010-03-29 21:51:44) [DELETE]
  Parameters: {"action"=>"destroy", "id"=>"1", "controller"=>"domains"}
  [4;35;1mLoggedUser Load (0.2ms)[0m   [0mSELECT * FROM "logged_users" WHERE ("logged_users"."ip" = '0.0.0.0' AND "logged_users"."session" = 'test session') LIMIT 1[0m
  [4;36;1mLoggedUser Update (0.1ms)[0m   [0;1mUPDATE "logged_users" SET "updated_at" = '2010-03-29 19:51:44', "session_ts" = '2010-03-29 19:51:44' WHERE "id" = 2053932786[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
  [4;36;1mDomain Load (0.1ms)[0m   [0;1mSELECT * FROM "domains" WHERE ("domains"."id" = 1) [0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
Redirected to http://test.host/domains
Completed in 4ms (DB: 2) | 302 Found [http://test.host/domains/1]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM "domains" [0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
  [4;36;1mLoggedUser Create (0.1ms)[0m   [0;1mINSERT INTO "logged_users" ("created_at", "session", "updated_at", "user_id", "ip", "session_ts") VALUES('2010-03-29 19:51:44', 'test session', '2010-03-29 19:51:44', 2, '0.0.0.0', '2010-03-29 19:51:44')[0m
  [4;35;1mDomain Load (0.2ms)[0m   [0mSELECT * FROM "domains" WHERE ("domains"."id" = 1) [0m


Processing DomainsController#show (for 0.0.0.0 at 2010-03-29 21:51:44) [GET]
  Parameters: {"action"=>"show", "id"=>"1", "controller"=>"domains"}
  [4;36;1mLoggedUser Load (0.2ms)[0m   [0;1mSELECT * FROM "logged_users" WHERE ("logged_users"."ip" = '0.0.0.0' AND "logged_users"."session" = 'test session') LIMIT 1[0m
  [4;35;1mLoggedUser Update (0.1ms)[0m   [0mUPDATE "logged_users" SET "updated_at" = '2010-03-29 19:51:44', "session_ts" = '2010-03-29 19:51:44' WHERE "id" = 2053932786[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
  [4;35;1mDomain Load (0.1ms)[0m   [0mSELECT * FROM "domains" WHERE ("domains"."id" = 1) [0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
Redirected to http://test.host/domains
Completed in 4ms (DB: 2) | 302 Found [http://test.host/domains/1]
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mLoggedUser Create (0.1ms)[0m   [0;1mINSERT INTO "logged_users" ("created_at", "session", "updated_at", "user_id", "ip", "session_ts") VALUES('2010-03-29 19:51:44', 'test session', '2010-03-29 19:51:44', 1, '0.0.0.0', '2010-03-29 19:51:44')[0m
  [4;35;1mDomain Load (0.1ms)[0m   [0mSELECT * FROM "domains" WHERE ("domains"."id" = 1) [0m


Processing DomainsController#show (for 0.0.0.0 at 2010-03-29 21:51:44) [GET]
  Parameters: {"action"=>"show", "id"=>"1", "controller"=>"domains"}
  [4;36;1mLoggedUser Load (0.2ms)[0m   [0;1mSELECT * FROM "logged_users" WHERE ("logged_users"."ip" = '0.0.0.0' AND "logged_users"."session" = 'test session') LIMIT 1[0m
  [4;35;1mLoggedUser Update (0.1ms)[0m   [0mUPDATE "logged_users" SET "updated_at" = '2010-03-29 19:51:44', "session_ts" = '2010-03-29 19:51:44' WHERE "id" = 2053932786[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mDomain Load (0.1ms)[0m   [0mSELECT * FROM "domains" WHERE ("domains"."id" = 1) [0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
Rendering template within layouts/ohm
Rendering domains/show
  [4;35;1mSubdomain Load (0.3ms)[0m   [0mSELECT * FROM "subdomains" WHERE ("subdomains".domain_id = 1) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM "services" INNER JOIN "domains_services" ON "services".id = "domains_services".service_id WHERE ("domains_services".domain_id = 1 ) [0m
  [4;35;1mService Load (0.1ms)[0m   [0mSELECT * FROM "services" INNER JOIN "domains_services" ON "services".id = "domains_services".service_id WHERE ("domains_services".domain_id = 1 ) [0m
  [4;36;1mService Load (0.1ms)[0m   [0;1mSELECT * FROM "services" INNER JOIN "services_users" ON "services".id = "services_users".service_id WHERE ("services_users".user_id = 1 ) [0m
Rendered domains/_domain (15.1ms)
Completed in 22ms (View: 18, DB: 2) | 200 OK [http://test.host/domains/1]
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m


Processing LoginController#login (for 0.0.0.0 at 2010-03-29 21:51:44) [POST]
  Parameters: {"action"=>"login", "controller"=>"login", "user"=>#<User id: 2, username: "test1", password: "bad password", full_name: "Test User 1", email: "test1@test.com", parent_id: 1, created_at: "2010-03-29 19:51:43", updated_at: "2010-03-29 19:51:43", max_subdomains: 5, max_space: 500, max_bandwidth: nil, max_subusers: 5, used_space: 100, ohmd_password: nil>}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."username" = 'test1') LIMIT 1[0m
Redirected to http://test.host/login
Completed in 3ms (DB: 1) | 302 Found [http://test.host/login/login?user=2]
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m


Processing LoginController#login (for 0.0.0.0 at 2010-03-29 21:51:44) [POST]
  Parameters: {"action"=>"login", "controller"=>"login", "user"=>#<User id: 2, username: "test1", password: "test1", full_name: "Test User 1", email: "test1@test.com", parent_id: 1, created_at: "2010-03-29 19:51:43", updated_at: "2010-03-29 19:51:43", max_subdomains: 5, max_space: 500, max_bandwidth: nil, max_subusers: 5, used_space: 100, ohmd_password: nil>}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."username" = 'test1') LIMIT 1[0m
  [4;35;1mLoggedUser Create (0.1ms)[0m   [0mINSERT INTO "logged_users" ("created_at", "session", "updated_at", "user_id", "ip", "session_ts") VALUES('2010-03-29 19:51:44', '71815bfd4ad50a58147dd53c9bfcf287', '2010-03-29 19:51:44', 2, '0.0.0.0', '2010-03-29 19:51:44')[0m
Redirected to http://test.host/
Completed in 3ms (DB: 1) | 302 Found [http://test.host/login/login?user=2]


Processing LoginController#index (for 0.0.0.0 at 2010-03-29 21:51:44) [GET]
  Parameters: {"action"=>"index", "controller"=>"login"}
  [4;36;1mUser Load (0.5ms)[0m   [0;1mSELECT * FROM "users" [0m
Rendering template within layouts/ohm
Rendering login/index
Completed in 5ms (View: 4, DB: 1) | 200 OK [http://test.host/login]
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mLoggedUser Create (0.2ms)[0m   [0;1mINSERT INTO "logged_users" ("created_at", "session", "updated_at", "user_id", "ip", "session_ts") VALUES('2010-03-29 19:51:44', 'test session', '2010-03-29 19:51:44', 1, '0.0.0.0', '2010-03-29 19:51:44')[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM "services" [0m
  [4;36;1mService Load (0.2ms)[0m   [0;1mSELECT * FROM "services" WHERE ("services"."id" = 2053932785) [0m


Processing ServicesController#destroy (for 0.0.0.0 at 2010-03-29 21:51:44) [DELETE]
  Parameters: {"action"=>"destroy", "id"=>"2053932785", "controller"=>"services"}
  [4;35;1mLoggedUser Load (0.2ms)[0m   [0mSELECT * FROM "logged_users" WHERE ("logged_users"."ip" = '0.0.0.0' AND "logged_users"."session" = 'test session') LIMIT 1[0m
  [4;36;1mLoggedUser Update (0.1ms)[0m   [0;1mUPDATE "logged_users" SET "updated_at" = '2010-03-29 19:51:44', "session_ts" = '2010-03-29 19:51:44' WHERE "id" = 2053932786[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mService Load (0.2ms)[0m   [0;1mSELECT * FROM "services" WHERE ("services"."id" = 2053932785) [0m
  [4;35;1mService Update (0.1ms)[0m   [0mUPDATE "services" SET "updated_at" = '2010-03-29 19:51:44', "deleted" = 't' WHERE "id" = 2053932785[0m
Redirected to http://test.host/services
Completed in 6ms (DB: 2) | 302 Found [http://test.host/services/2053932785]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM "services" [0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mLoggedUser Create (0.1ms)[0m   [0;1mINSERT INTO "logged_users" ("created_at", "session", "updated_at", "user_id", "ip", "session_ts") VALUES('2010-03-29 19:51:44', 'test session', '2010-03-29 19:51:44', 1, '0.0.0.0', '2010-03-29 19:51:44')[0m
  [4;35;1mService Load (0.2ms)[0m   [0mSELECT * FROM "services" WHERE ("services"."id" = 2053932785) [0m


Processing ServicesController#edit (for 0.0.0.0 at 2010-03-29 21:51:44) [GET]
  Parameters: {"action"=>"edit", "id"=>"2053932785", "controller"=>"services"}
  [4;36;1mLoggedUser Load (0.2ms)[0m   [0;1mSELECT * FROM "logged_users" WHERE ("logged_users"."ip" = '0.0.0.0' AND "logged_users"."session" = 'test session') LIMIT 1[0m
  [4;35;1mLoggedUser Update (0.1ms)[0m   [0mUPDATE "logged_users" SET "updated_at" = '2010-03-29 19:51:44', "session_ts" = '2010-03-29 19:51:44' WHERE "id" = 2053932786[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mLoggedUser Create (0.1ms)[0m   [0;1mINSERT INTO "logged_users" ("created_at", "session", "updated_at", "user_id", "ip", "session_ts") VALUES('2010-03-29 19:51:44', 'test session', '2010-03-29 19:51:44', 1, '0.0.0.0', '2010-03-29 19:51:44')[0m


Processing ServicesController#index (for 0.0.0.0 at 2010-03-29 21:51:44) [GET]
  Parameters: {"action"=>"index", "controller"=>"services"}
  [4;35;1mLoggedUser Load (0.2ms)[0m   [0mSELECT * FROM "logged_users" WHERE ("logged_users"."ip" = '0.0.0.0' AND "logged_users"."session" = 'test session') LIMIT 1[0m
  [4;36;1mLoggedUser Update (0.1ms)[0m   [0;1mUPDATE "logged_users" SET "updated_at" = '2010-03-29 19:51:44', "session_ts" = '2010-03-29 19:51:44' WHERE "id" = 2053932786[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mService Load (0.3ms)[0m   [0;1mSELECT * FROM "services" [0m
Rendering template within layouts/ohm
Rendering services/index
  [4;35;1mService Load (0.1ms)[0m   [0mSELECT * FROM "services" INNER JOIN "services_users" ON "services".id = "services_users".service_id WHERE ("services_users".user_id = 1 ) [0m
Completed in 7ms (View: 4, DB: 1) | 200 OK [http://test.host/services]


Processing ServicesController#index (for 0.0.0.0 at 2010-03-29 21:51:44) [GET]
  Parameters: {"action"=>"index", "controller"=>"services"}
Redirected to http://test.host/login
Filter chain halted as [:authenticate_root] rendered_or_redirected.
Completed in 0ms (DB: 0) | 302 Found [http://test.host/services]
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mLoggedUser Create (0.1ms)[0m   [0mINSERT INTO "logged_users" ("created_at", "session", "updated_at", "user_id", "ip", "session_ts") VALUES('2010-03-29 19:51:44', 'test session', '2010-03-29 19:51:44', 1, '0.0.0.0', '2010-03-29 19:51:44')[0m


Processing ServicesController#new (for 0.0.0.0 at 2010-03-29 21:51:44) [GET]
  Parameters: {"action"=>"new", "controller"=>"services"}
  [4;36;1mLoggedUser Load (0.2ms)[0m   [0;1mSELECT * FROM "logged_users" WHERE ("logged_users"."ip" = '0.0.0.0' AND "logged_users"."session" = 'test session') LIMIT 1[0m
  [4;35;1mLoggedUser Update (0.1ms)[0m   [0mUPDATE "logged_users" SET "updated_at" = '2010-03-29 19:51:44', "session_ts" = '2010-03-29 19:51:44' WHERE "id" = 2053932786[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
  [4;36;1mLoggedUser Create (0.1ms)[0m   [0;1mINSERT INTO "logged_users" ("created_at", "session", "updated_at", "user_id", "ip", "session_ts") VALUES('2010-03-29 19:51:44', 'test session', '2010-03-29 19:51:44', 2, '0.0.0.0', '2010-03-29 19:51:44')[0m


Processing ServicesController#index (for 0.0.0.0 at 2010-03-29 21:51:44) [GET]
  Parameters: {"action"=>"index", "controller"=>"services"}
  [4;35;1mLoggedUser Load (0.2ms)[0m   [0mSELECT * FROM "logged_users" WHERE ("logged_users"."ip" = '0.0.0.0' AND "logged_users"."session" = 'test session') LIMIT 1[0m
  [4;36;1mLoggedUser Update (0.1ms)[0m   [0;1mUPDATE "logged_users" SET "updated_at" = '2010-03-29 19:51:44', "session_ts" = '2010-03-29 19:51:44' WHERE "id" = 2053932786[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
Redirected to http://test.host/
Filter chain halted as [:authenticate_root] rendered_or_redirected.
Completed in 3ms (DB: 1) | 302 Found [http://test.host/services]
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
  [4;35;1mLoggedUser Create (0.1ms)[0m   [0mINSERT INTO "logged_users" ("created_at", "session", "updated_at", "user_id", "ip", "session_ts") VALUES('2010-03-29 19:51:44', 'test session', '2010-03-29 19:51:44', 2, '0.0.0.0', '2010-03-29 19:51:44')[0m


Processing ServicesController#new (for 0.0.0.0 at 2010-03-29 21:51:44) [GET]
  Parameters: {"action"=>"new", "controller"=>"services"}
  [4;36;1mLoggedUser Load (0.2ms)[0m   [0;1mSELECT * FROM "logged_users" WHERE ("logged_users"."ip" = '0.0.0.0' AND "logged_users"."session" = 'test session') LIMIT 1[0m
  [4;35;1mLoggedUser Update (0.1ms)[0m   [0mUPDATE "logged_users" SET "updated_at" = '2010-03-29 19:51:44', "session_ts" = '2010-03-29 19:51:44' WHERE "id" = 2053932786[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
Redirected to http://test.host/
Filter chain halted as [:authenticate_root] rendered_or_redirected.
Completed in 2ms (DB: 1) | 302 Found [http://test.host/services/new]
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
  [4;36;1mLoggedUser Create (0.1ms)[0m   [0;1mINSERT INTO "logged_users" ("created_at", "session", "updated_at", "user_id", "ip", "session_ts") VALUES('2010-03-29 19:51:44', 'test session', '2010-03-29 19:51:44', 2, '0.0.0.0', '2010-03-29 19:51:44')[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM "services" [0m
  [4;36;1mService Load (0.2ms)[0m   [0;1mSELECT * FROM "services" WHERE ("services"."id" = 2053932785) [0m


Processing ServicesController#destroy (for 0.0.0.0 at 2010-03-29 21:51:44) [DELETE]
  Parameters: {"action"=>"destroy", "id"=>"2053932785", "controller"=>"services"}
  [4;35;1mLoggedUser Load (0.2ms)[0m   [0mSELECT * FROM "logged_users" WHERE ("logged_users"."ip" = '0.0.0.0' AND "logged_users"."session" = 'test session') LIMIT 1[0m
  [4;36;1mLoggedUser Update (0.1ms)[0m   [0;1mUPDATE "logged_users" SET "updated_at" = '2010-03-29 19:51:44', "session_ts" = '2010-03-29 19:51:44' WHERE "id" = 2053932786[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
Redirected to http://test.host/
Filter chain halted as [:authenticate_root] rendered_or_redirected.
Completed in 3ms (DB: 1) | 302 Found [http://test.host/services/2053932785]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM "services" [0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
  [4;36;1mLoggedUser Create (0.1ms)[0m   [0;1mINSERT INTO "logged_users" ("created_at", "session", "updated_at", "user_id", "ip", "session_ts") VALUES('2010-03-29 19:51:44', 'test session', '2010-03-29 19:51:44', 2, '0.0.0.0', '2010-03-29 19:51:44')[0m
  [4;35;1mService Load (0.2ms)[0m   [0mSELECT * FROM "services" WHERE ("services"."id" = 2053932785) [0m


Processing ServicesController#edit (for 0.0.0.0 at 2010-03-29 21:51:44) [GET]
  Parameters: {"action"=>"edit", "id"=>"2053932785", "controller"=>"services"}
  [4;36;1mLoggedUser Load (0.2ms)[0m   [0;1mSELECT * FROM "logged_users" WHERE ("logged_users"."ip" = '0.0.0.0' AND "logged_users"."session" = 'test session') LIMIT 1[0m
  [4;35;1mLoggedUser Update (0.1ms)[0m   [0mUPDATE "logged_users" SET "updated_at" = '2010-03-29 19:51:44', "session_ts" = '2010-03-29 19:51:44' WHERE "id" = 2053932786[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
Redirected to http://test.host/
Filter chain halted as [:authenticate_root] rendered_or_redirected.
Completed in 2ms (DB: 1) | 302 Found [http://test.host/services/2053932785/edit]
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
  [4;36;1mLoggedUser Create (0.1ms)[0m   [0;1mINSERT INTO "logged_users" ("created_at", "session", "updated_at", "user_id", "ip", "session_ts") VALUES('2010-03-29 19:51:44', 'test session', '2010-03-29 19:51:44', 2, '0.0.0.0', '2010-03-29 19:51:44')[0m
  [4;35;1mService Load (0.2ms)[0m   [0mSELECT * FROM "services" WHERE ("services"."id" = 2053932785) [0m


Processing ServicesController#show (for 0.0.0.0 at 2010-03-29 21:51:44) [GET]
  Parameters: {"action"=>"show", "id"=>"2053932785", "controller"=>"services"}
  [4;36;1mLoggedUser Load (0.2ms)[0m   [0;1mSELECT * FROM "logged_users" WHERE ("logged_users"."ip" = '0.0.0.0' AND "logged_users"."session" = 'test session') LIMIT 1[0m
  [4;35;1mLoggedUser Update (0.1ms)[0m   [0mUPDATE "logged_users" SET "updated_at" = '2010-03-29 19:51:44', "session_ts" = '2010-03-29 19:51:44' WHERE "id" = 2053932786[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
Redirected to http://test.host/
Filter chain halted as [:authenticate_root] rendered_or_redirected.
Completed in 3ms (DB: 1) | 302 Found [http://test.host/services/2053932785]
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
  [4;36;1mLoggedUser Create (0.1ms)[0m   [0;1mINSERT INTO "logged_users" ("created_at", "session", "updated_at", "user_id", "ip", "session_ts") VALUES('2010-03-29 19:51:44', 'test session', '2010-03-29 19:51:44', 2, '0.0.0.0', '2010-03-29 19:51:44')[0m
  [4;35;1mService Load (0.2ms)[0m   [0mSELECT * FROM "services" WHERE ("services"."id" = 2053932785) [0m


Processing ServicesController#update (for 0.0.0.0 at 2010-03-29 21:51:44) [PUT]
  Parameters: {"service"=>{}, "action"=>"update", "id"=>"2053932785", "controller"=>"services"}
  [4;36;1mLoggedUser Load (0.2ms)[0m   [0;1mSELECT * FROM "logged_users" WHERE ("logged_users"."ip" = '0.0.0.0' AND "logged_users"."session" = 'test session') LIMIT 1[0m
  [4;35;1mLoggedUser Update (0.1ms)[0m   [0mUPDATE "logged_users" SET "updated_at" = '2010-03-29 19:51:44', "session_ts" = '2010-03-29 19:51:44' WHERE "id" = 2053932786[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
Redirected to http://test.host/
Filter chain halted as [:authenticate_root] rendered_or_redirected.
Completed in 2ms (DB: 1) | 302 Found [http://test.host/services/2053932785?]
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mLoggedUser Create (0.1ms)[0m   [0;1mINSERT INTO "logged_users" ("created_at", "session", "updated_at", "user_id", "ip", "session_ts") VALUES('2010-03-29 19:51:44', 'test session', '2010-03-29 19:51:44', 1, '0.0.0.0', '2010-03-29 19:51:44')[0m
  [4;35;1mService Load (0.2ms)[0m   [0mSELECT * FROM "services" WHERE ("services"."id" = 2053932785) [0m


Processing ServicesController#show (for 0.0.0.0 at 2010-03-29 21:51:44) [GET]
  Parameters: {"action"=>"show", "id"=>"2053932785", "controller"=>"services"}
  [4;36;1mLoggedUser Load (0.2ms)[0m   [0;1mSELECT * FROM "logged_users" WHERE ("logged_users"."ip" = '0.0.0.0' AND "logged_users"."session" = 'test session') LIMIT 1[0m
  [4;35;1mLoggedUser Update (0.1ms)[0m   [0mUPDATE "logged_users" SET "updated_at" = '2010-03-29 19:51:44', "session_ts" = '2010-03-29 19:51:44' WHERE "id" = 2053932786[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mLoggedUser Create (0.1ms)[0m   [0;1mINSERT INTO "logged_users" ("created_at", "session", "updated_at", "user_id", "ip", "session_ts") VALUES('2010-03-29 19:51:44', 'test session', '2010-03-29 19:51:44', 1, '0.0.0.0', '2010-03-29 19:51:44')[0m
  [4;35;1mService Load (0.2ms)[0m   [0mSELECT * FROM "services" WHERE ("services"."id" = 2053932785) [0m


Processing ServicesController#update (for 0.0.0.0 at 2010-03-29 21:51:44) [PUT]
  Parameters: {"service"=>{}, "action"=>"update", "id"=>"2053932785", "controller"=>"services"}
  [4;36;1mLoggedUser Load (0.2ms)[0m   [0;1mSELECT * FROM "logged_users" WHERE ("logged_users"."ip" = '0.0.0.0' AND "logged_users"."session" = 'test session') LIMIT 1[0m
  [4;35;1mLoggedUser Update (0.1ms)[0m   [0mUPDATE "logged_users" SET "updated_at" = '2010-03-29 19:51:44', "session_ts" = '2010-03-29 19:51:44' WHERE "id" = 2053932786[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mLoggedUser Create (0.1ms)[0m   [0;1mINSERT INTO "logged_users" ("created_at", "session", "updated_at", "user_id", "ip", "session_ts") VALUES('2010-03-29 19:51:44', 'test session', '2010-03-29 19:51:44', 1, '0.0.0.0', '2010-03-29 19:51:44')[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM "subdomains" [0m
  [4;36;1mDomain Load (0.2ms)[0m   [0;1mSELECT * FROM "domains" WHERE ("domains"."id" = 1) [0m


Processing SubdomainsController#create (for 0.0.0.0 at 2010-03-29 21:51:44) [POST]
  Parameters: {"action"=>"create", "subdomain"=>{"url"=>"newsub", "domain"=>#<Domain id: 1, domain: "test.com", user_id: 1, created_at: "2010-03-29 19:51:43", updated_at: "2010-03-29 19:51:43">}, "controller"=>"subdomains"}
  [4;35;1mLoggedUser Load (0.2ms)[0m   [0mSELECT * FROM "logged_users" WHERE ("logged_users"."ip" = '0.0.0.0' AND "logged_users"."session" = 'test session') LIMIT 1[0m
  [4;36;1mLoggedUser Update (0.1ms)[0m   [0;1mUPDATE "logged_users" SET "updated_at" = '2010-03-29 19:51:44', "session_ts" = '2010-03-29 19:51:44' WHERE "id" = 2053932786[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mSubdomain Load (0.1ms)[0m   [0mSELECT "subdomains".id FROM "subdomains" WHERE ("subdomains"."url" = 'newsub' AND "subdomains".domain_id = 1) LIMIT 1[0m
  [4;36;1mSubdomain Load (0.1ms)[0m   [0;1mSELECT "subdomains".id FROM "subdomains" WHERE ("subdomains"."path" IS NULL AND "subdomains".domain_id = 1) LIMIT 1[0m
  [4;35;1mSubdomain Create (0.1ms)[0m   [0mINSERT INTO "subdomains" ("created_at", "updated_at", "url", "domain_id", "path", "mainsub") VALUES('2010-03-29 19:51:44', '2010-03-29 19:51:44', 'newsub', 1, NULL, 'f')[0m
Redirected to http://test.host/domains/1
Completed in 8ms (DB: 2) | 302 Found [http://test.host/subdomains?subdomain%5Bdomain%5D=1&subdomain%5Burl%5D=newsub]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM "subdomains" [0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mLoggedUser Create (0.1ms)[0m   [0;1mINSERT INTO "logged_users" ("created_at", "session", "updated_at", "user_id", "ip", "session_ts") VALUES('2010-03-29 19:51:44', 'test session', '2010-03-29 19:51:44', 1, '0.0.0.0', '2010-03-29 19:51:44')[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM "subdomains" [0m
  [4;36;1mSubdomain Load (0.2ms)[0m   [0;1mSELECT * FROM "subdomains" WHERE ("subdomains"."id" = 2053932785) [0m


Processing SubdomainsController#destroy (for 0.0.0.0 at 2010-03-29 21:51:44) [DELETE]
  Parameters: {"action"=>"destroy", "id"=>"2053932785", "controller"=>"subdomains"}
  [4;35;1mLoggedUser Load (0.2ms)[0m   [0mSELECT * FROM "logged_users" WHERE ("logged_users"."ip" = '0.0.0.0' AND "logged_users"."session" = 'test session') LIMIT 1[0m
  [4;36;1mLoggedUser Update (0.1ms)[0m   [0;1mUPDATE "logged_users" SET "updated_at" = '2010-03-29 19:51:44', "session_ts" = '2010-03-29 19:51:44' WHERE "id" = 2053932786[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mSubdomain Load (0.2ms)[0m   [0;1mSELECT * FROM "subdomains" WHERE ("subdomains"."id" = 2053932785) [0m
  [4;35;1mDomain Load (0.2ms)[0m   [0mSELECT * FROM "domains" WHERE ("domains"."id" = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM "subdomains" WHERE ("subdomains".domain_id = 1) [0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mSubdomain Load (0.3ms)[0m   [0;1mSELECT * FROM "subdomains" WHERE ("subdomains".domain_id = 1) [0m
  [4;35;1mSubdomain Update (0.1ms)[0m   [0mUPDATE "subdomains" SET "updated_at" = '2010-03-29 19:51:44', "mainsub" = 't' WHERE "id" = 298486374[0m
  [4;36;1mSubdomain Destroy (0.1ms)[0m   [0;1mDELETE FROM "subdomains" WHERE "id" = 2053932785[0m
Redirected to http://test.host/domains/1
Completed in 8ms (DB: 3) | 302 Found [http://test.host/subdomains/2053932785]
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM "subdomains" [0m
  [4;36;1mDomain Load (0.2ms)[0m   [0;1mSELECT * FROM "domains" WHERE ("domains"."id" = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM "subdomains" [0m
  [4;36;1mSubdomain Load (0.2ms)[0m   [0;1mSELECT * FROM "subdomains" WHERE ("subdomains"."id" = 298486374) [0m


Processing SubdomainsController#destroy (for 0.0.0.0 at 2010-03-29 21:51:44) [DELETE]
  Parameters: {"action"=>"destroy", "id"=>"298486374", "controller"=>"subdomains"}
  [4;35;1mLoggedUser Load (0.2ms)[0m   [0mSELECT * FROM "logged_users" WHERE ("logged_users"."ip" = '0.0.0.0' AND "logged_users"."session" = 'test session') LIMIT 1[0m
  [4;36;1mLoggedUser Update (0.1ms)[0m   [0;1mUPDATE "logged_users" SET "updated_at" = '2010-03-29 19:51:44', "session_ts" = '2010-03-29 19:51:44' WHERE "id" = 2053932786[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mSubdomain Load (0.2ms)[0m   [0;1mSELECT * FROM "subdomains" WHERE ("subdomains"."id" = 298486374) [0m
  [4;35;1mDomain Load (0.2ms)[0m   [0mSELECT * FROM "domains" WHERE ("domains"."id" = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM "subdomains" WHERE ("subdomains".domain_id = 1) [0m
Redirected to http://test.host/domains/1
Completed in 5ms (DB: 2) | 302 Found [http://test.host/subdomains/2053932785]
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM "subdomains" [0m
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mLoggedUser Create (0.2ms)[0m   [0mINSERT INTO "logged_users" ("created_at", "session", "updated_at", "user_id", "ip", "session_ts") VALUES('2010-03-29 19:51:44', 'test session', '2010-03-29 19:51:44', 1, '0.0.0.0', '2010-03-29 19:51:44')[0m
  [4;36;1mSubdomain Load (0.2ms)[0m   [0;1mSELECT * FROM "subdomains" WHERE ("subdomains"."id" = 2053932785) [0m


Processing SubdomainsController#edit (for 0.0.0.0 at 2010-03-29 21:51:44) [GET]
  Parameters: {"action"=>"edit", "id"=>"2053932785", "controller"=>"subdomains"}
  [4;35;1mLoggedUser Load (0.3ms)[0m   [0mSELECT * FROM "logged_users" WHERE ("logged_users"."ip" = '0.0.0.0' AND "logged_users"."session" = 'test session') LIMIT 1[0m
  [4;36;1mLoggedUser Update (0.1ms)[0m   [0;1mUPDATE "logged_users" SET "updated_at" = '2010-03-29 19:51:44', "session_ts" = '2010-03-29 19:51:44' WHERE "id" = 2053932786[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mSubdomain Load (0.2ms)[0m   [0;1mSELECT * FROM "subdomains" WHERE ("subdomains"."id" = 2053932785) [0m
  [4;35;1mDomain Load (0.2ms)[0m   [0mSELECT * FROM "domains" WHERE ("domains"."id" = 1) [0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
Rendering template within layouts/ohm
Rendering subdomains/edit
  [4;35;1mService Load (0.2ms)[0m   [0mSELECT * FROM "services" INNER JOIN "services_users" ON "services".id = "services_users".service_id WHERE ("services_users".user_id = 1 ) [0m
Completed in 12ms (View: 8, DB: 2) | 200 OK [http://test.host/subdomains/2053932785/edit]


Processing SubdomainsController#index (for 0.0.0.0 at 2010-03-29 21:51:44) [GET]
  Parameters: {"action"=>"index", "controller"=>"subdomains"}
Redirected to http://test.host/login
Filter chain halted as [:authenticate] rendered_or_redirected.
Completed in 0ms (DB: 0) | 302 Found [http://test.host/subdomains]
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mLoggedUser Create (0.2ms)[0m   [0mINSERT INTO "logged_users" ("created_at", "session", "updated_at", "user_id", "ip", "session_ts") VALUES('2010-03-29 19:51:44', 'test session', '2010-03-29 19:51:44', 1, '0.0.0.0', '2010-03-29 19:51:44')[0m
  [4;36;1mDomain Load (0.2ms)[0m   [0;1mSELECT * FROM "domains" WHERE ("domains"."id" = 1) [0m


Processing SubdomainsController#new (for 0.0.0.0 at 2010-03-29 21:51:44) [GET]
  Parameters: {"action"=>"new", "domain"=>"1", "controller"=>"subdomains"}
  [4;35;1mLoggedUser Load (0.2ms)[0m   [0mSELECT * FROM "logged_users" WHERE ("logged_users"."ip" = '0.0.0.0' AND "logged_users"."session" = 'test session') LIMIT 1[0m
  [4;36;1mLoggedUser Update (0.1ms)[0m   [0;1mUPDATE "logged_users" SET "updated_at" = '2010-03-29 19:51:44', "session_ts" = '2010-03-29 19:51:44' WHERE "id" = 2053932786[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mDomain Load (0.2ms)[0m   [0;1mSELECT * FROM "domains" WHERE ("domains"."id" = 1) [0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
Rendering template within layouts/ohm
Rendering subdomains/new
  [4;36;1mService Load (0.1ms)[0m   [0;1mSELECT * FROM "services" INNER JOIN "services_users" ON "services".id = "services_users".service_id WHERE ("services_users".user_id = 1 ) [0m
Completed in 11ms (View: 7, DB: 2) | 200 OK [http://test.host/subdomains/new?domain=1]
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
  [4;36;1mLoggedUser Create (0.1ms)[0m   [0;1mINSERT INTO "logged_users" ("created_at", "session", "updated_at", "user_id", "ip", "session_ts") VALUES('2010-03-29 19:51:44', 'test session', '2010-03-29 19:51:44', 2, '0.0.0.0', '2010-03-29 19:51:44')[0m
  [4;35;1mDomain Load (0.2ms)[0m   [0mSELECT * FROM "domains" WHERE ("domains"."id" = 1) [0m


Processing SubdomainsController#new (for 0.0.0.0 at 2010-03-29 21:51:44) [GET]
  Parameters: {"action"=>"new", "domain"=>"1", "controller"=>"subdomains"}
  [4;36;1mLoggedUser Load (0.2ms)[0m   [0;1mSELECT * FROM "logged_users" WHERE ("logged_users"."ip" = '0.0.0.0' AND "logged_users"."session" = 'test session') LIMIT 1[0m
  [4;35;1mLoggedUser Update (0.1ms)[0m   [0mUPDATE "logged_users" SET "updated_at" = '2010-03-29 19:51:44', "session_ts" = '2010-03-29 19:51:44' WHERE "id" = 2053932786[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
  [4;35;1mDomain Load (0.2ms)[0m   [0mSELECT * FROM "domains" WHERE ("domains"."id" = 1) [0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
Redirected to http://test.host/domains
Completed in 4ms (DB: 2) | 302 Found [http://test.host/subdomains/new?domain=1]
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
  [4;36;1mLoggedUser Create (0.2ms)[0m   [0;1mINSERT INTO "logged_users" ("created_at", "session", "updated_at", "user_id", "ip", "session_ts") VALUES('2010-03-29 19:51:44', 'test session', '2010-03-29 19:51:44', 2, '0.0.0.0', '2010-03-29 19:51:44')[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM "subdomains" [0m
  [4;36;1mDomain Load (0.2ms)[0m   [0;1mSELECT * FROM "domains" WHERE ("domains"."id" = 1) [0m


Processing SubdomainsController#create (for 0.0.0.0 at 2010-03-29 21:51:44) [POST]
  Parameters: {"action"=>"create", "subdomain"=>{"url"=>"newsub", "domain"=>#<Domain id: 1, domain: "test.com", user_id: 1, created_at: "2010-03-29 19:51:43", updated_at: "2010-03-29 19:51:43">}, "controller"=>"subdomains"}
  [4;35;1mLoggedUser Load (0.2ms)[0m   [0mSELECT * FROM "logged_users" WHERE ("logged_users"."ip" = '0.0.0.0' AND "logged_users"."session" = 'test session') LIMIT 1[0m
  [4;36;1mLoggedUser Update (0.1ms)[0m   [0;1mUPDATE "logged_users" SET "updated_at" = '2010-03-29 19:51:44', "session_ts" = '2010-03-29 19:51:44' WHERE "id" = 2053932786[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
Redirected to http://test.host/domains
Completed in 4ms (DB: 2) | 302 Found [http://test.host/subdomains?subdomain%5Bdomain%5D=1&subdomain%5Burl%5D=newsub]
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM "subdomains" [0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
  [4;35;1mLoggedUser Create (0.2ms)[0m   [0mINSERT INTO "logged_users" ("created_at", "session", "updated_at", "user_id", "ip", "session_ts") VALUES('2010-03-29 19:51:44', 'test session', '2010-03-29 19:51:44', 2, '0.0.0.0', '2010-03-29 19:51:44')[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM "subdomains" [0m
  [4;35;1mSubdomain Load (0.2ms)[0m   [0mSELECT * FROM "subdomains" WHERE ("subdomains"."id" = 2053932785) [0m


Processing SubdomainsController#destroy (for 0.0.0.0 at 2010-03-29 21:51:44) [DELETE]
  Parameters: {"action"=>"destroy", "id"=>"2053932785", "controller"=>"subdomains"}
  [4;36;1mLoggedUser Load (0.2ms)[0m   [0;1mSELECT * FROM "logged_users" WHERE ("logged_users"."ip" = '0.0.0.0' AND "logged_users"."session" = 'test session') LIMIT 1[0m
  [4;35;1mLoggedUser Update (0.1ms)[0m   [0mUPDATE "logged_users" SET "updated_at" = '2010-03-29 19:51:44', "session_ts" = '2010-03-29 19:51:44' WHERE "id" = 2053932786[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
  [4;35;1mSubdomain Load (0.2ms)[0m   [0mSELECT * FROM "subdomains" WHERE ("subdomains"."id" = 2053932785) [0m
  [4;36;1mDomain Load (0.2ms)[0m   [0;1mSELECT * FROM "domains" WHERE ("domains"."id" = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM "subdomains" WHERE ("subdomains".domain_id = 1) [0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
Redirected to http://test.host/domains
Completed in 5ms (DB: 2) | 302 Found [http://test.host/subdomains/2053932785]
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM "subdomains" [0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
  [4;35;1mLoggedUser Create (0.1ms)[0m   [0mINSERT INTO "logged_users" ("created_at", "session", "updated_at", "user_id", "ip", "session_ts") VALUES('2010-03-29 19:51:44', 'test session', '2010-03-29 19:51:44', 2, '0.0.0.0', '2010-03-29 19:51:44')[0m
  [4;36;1mSubdomain Load (0.2ms)[0m   [0;1mSELECT * FROM "subdomains" WHERE ("subdomains"."id" = 2053932785) [0m


Processing SubdomainsController#edit (for 0.0.0.0 at 2010-03-29 21:51:44) [GET]
  Parameters: {"action"=>"edit", "id"=>"2053932785", "controller"=>"subdomains"}
  [4;35;1mLoggedUser Load (0.2ms)[0m   [0mSELECT * FROM "logged_users" WHERE ("logged_users"."ip" = '0.0.0.0' AND "logged_users"."session" = 'test session') LIMIT 1[0m
  [4;36;1mLoggedUser Update (0.1ms)[0m   [0;1mUPDATE "logged_users" SET "updated_at" = '2010-03-29 19:51:44', "session_ts" = '2010-03-29 19:51:44' WHERE "id" = 2053932786[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
  [4;36;1mSubdomain Load (0.2ms)[0m   [0;1mSELECT * FROM "subdomains" WHERE ("subdomains"."id" = 2053932785) [0m
  [4;35;1mDomain Load (0.1ms)[0m   [0mSELECT * FROM "domains" WHERE ("domains"."id" = 1) [0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
Redirected to http://test.host/domains
Completed in 4ms (DB: 2) | 302 Found [http://test.host/subdomains/2053932785/edit]
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
  [4;36;1mLoggedUser Create (0.1ms)[0m   [0;1mINSERT INTO "logged_users" ("created_at", "session", "updated_at", "user_id", "ip", "session_ts") VALUES('2010-03-29 19:51:44', 'test session', '2010-03-29 19:51:44', 2, '0.0.0.0', '2010-03-29 19:51:44')[0m
  [4;35;1mSubdomain Load (0.2ms)[0m   [0mSELECT * FROM "subdomains" WHERE ("subdomains"."id" = 2053932785) [0m


Processing SubdomainsController#update (for 0.0.0.0 at 2010-03-29 21:51:44) [PUT]
  Parameters: {"action"=>"update", "id"=>"2053932785", "subdomain"=>{"url"=>"newurl"}, "controller"=>"subdomains"}
  [4;36;1mLoggedUser Load (0.2ms)[0m   [0;1mSELECT * FROM "logged_users" WHERE ("logged_users"."ip" = '0.0.0.0' AND "logged_users"."session" = 'test session') LIMIT 1[0m
  [4;35;1mLoggedUser Update (0.1ms)[0m   [0mUPDATE "logged_users" SET "updated_at" = '2010-03-29 19:51:44', "session_ts" = '2010-03-29 19:51:44' WHERE "id" = 2053932786[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
  [4;35;1mSubdomain Load (0.2ms)[0m   [0mSELECT * FROM "subdomains" WHERE ("subdomains"."id" = 2053932785) [0m
  [4;36;1mDomain Load (0.1ms)[0m   [0;1mSELECT * FROM "domains" WHERE ("domains"."id" = 1) [0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
Redirected to http://test.host/domains
Completed in 4ms (DB: 2) | 302 Found [http://test.host/subdomains/2053932785?subdomain%5Burl%5D=newurl]
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mLoggedUser Create (0.1ms)[0m   [0mINSERT INTO "logged_users" ("created_at", "session", "updated_at", "user_id", "ip", "session_ts") VALUES('2010-03-29 19:51:44', 'test session', '2010-03-29 19:51:44', 1, '0.0.0.0', '2010-03-29 19:51:44')[0m
  [4;36;1mDomain Load (0.2ms)[0m   [0;1mSELECT * FROM "domains" WHERE ("domains"."id" = 1) [0m


Processing SubdomainsController#update (for 0.0.0.0 at 2010-03-29 21:51:44) [PUT]
  Parameters: {"action"=>"update", "id"=>"2053932785", "subdomain"=>{"url"=>"newurl", "domain"=>#<Domain id: 1, domain: "test.com", user_id: 1, created_at: "2010-03-29 19:51:43", updated_at: "2010-03-29 19:51:43">}, "controller"=>"subdomains"}
  [4;35;1mLoggedUser Load (0.2ms)[0m   [0mSELECT * FROM "logged_users" WHERE ("logged_users"."ip" = '0.0.0.0' AND "logged_users"."session" = 'test session') LIMIT 1[0m
  [4;36;1mLoggedUser Update (0.1ms)[0m   [0;1mUPDATE "logged_users" SET "updated_at" = '2010-03-29 19:51:44', "session_ts" = '2010-03-29 19:51:44' WHERE "id" = 2053932786[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
  [4;36;1mSubdomain Load (0.2ms)[0m   [0;1mSELECT * FROM "subdomains" WHERE ("subdomains"."id" = 2053932785) [0m
  [4;35;1mDomain Load (0.1ms)[0m   [0mSELECT * FROM "domains" WHERE ("domains"."id" = 1) [0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
Redirected to http://test.host/domains
Completed in 4ms (DB: 2) | 302 Found [http://test.host/subdomains/2053932785?subdomain%5Burl%5D=newurl]
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mLoggedUser Create (0.1ms)[0m   [0;1mINSERT INTO "logged_users" ("created_at", "session", "updated_at", "user_id", "ip", "session_ts") VALUES('2010-03-29 19:51:44', 'test session', '2010-03-29 19:51:44', 1, '0.0.0.0', '2010-03-29 19:51:44')[0m
  [4;35;1mSubdomain Load (0.2ms)[0m   [0mSELECT * FROM "subdomains" WHERE ("subdomains"."id" = 2053932785) [0m


Processing SubdomainsController#update (for 0.0.0.0 at 2010-03-29 21:51:44) [PUT]
  Parameters: {"action"=>"update", "id"=>"2053932785", "subdomain"=>{"url"=>"newurl"}, "controller"=>"subdomains"}
  [4;36;1mLoggedUser Load (0.2ms)[0m   [0;1mSELECT * FROM "logged_users" WHERE ("logged_users"."ip" = '0.0.0.0' AND "logged_users"."session" = 'test session') LIMIT 1[0m
  [4;35;1mLoggedUser Update (0.1ms)[0m   [0mUPDATE "logged_users" SET "updated_at" = '2010-03-29 19:51:44', "session_ts" = '2010-03-29 19:51:44' WHERE "id" = 2053932786[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mSubdomain Load (0.2ms)[0m   [0mSELECT * FROM "subdomains" WHERE ("subdomains"."id" = 2053932785) [0m
  [4;36;1mDomain Load (0.2ms)[0m   [0;1mSELECT * FROM "domains" WHERE ("domains"."id" = 1) [0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mSubdomain Load (0.1ms)[0m   [0;1mSELECT "subdomains".id FROM "subdomains" WHERE ("subdomains"."url" = 'newurl' AND "subdomains".domain_id = 1 AND "subdomains".id <> 2053932785) LIMIT 1[0m
  [4;35;1mSubdomain Load (0.1ms)[0m   [0mSELECT "subdomains".id FROM "subdomains" WHERE ("subdomains"."path" = 'www' AND "subdomains".domain_id = 1 AND "subdomains".id <> 2053932785) LIMIT 1[0m
  [4;36;1mSubdomain Load (0.2ms)[0m   [0;1mSELECT * FROM "subdomains" WHERE ("subdomains"."mainsub" = 't' AND "subdomains"."domain_id" = 1) LIMIT 1[0m
  [4;35;1mSubdomain Update (0.1ms)[0m   [0mUPDATE "subdomains" SET "updated_at" = '2010-03-29 19:51:44', "url" = 'newurl' WHERE "id" = 2053932785[0m
Redirected to http://test.host/domains/1
Completed in 7ms (DB: 2) | 302 Found [http://test.host/subdomains/2053932785?subdomain%5Burl%5D=newurl]
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mLoggedUser Create (0.1ms)[0m   [0mINSERT INTO "logged_users" ("created_at", "session", "updated_at", "user_id", "ip", "session_ts") VALUES('2010-03-29 19:51:44', 'test session', '2010-03-29 19:51:44', 1, '0.0.0.0', '2010-03-29 19:51:44')[0m
  [4;36;1mService Load (0.2ms)[0m   [0;1mSELECT * FROM "services" WHERE ("services"."id" = 2053932785) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mINSERT INTO "services_users" ("service_id", "user_id") VALUES (2053932785, 1)[0m
  [4;36;1mService Load (0.1ms)[0m   [0;1mSELECT "services".id FROM "services" WHERE ("services"."name" = 'Service 1' AND "services".id <> 2053932785) LIMIT 1[0m
  [4;35;1mService Load (0.1ms)[0m   [0mSELECT "services".id FROM "services" WHERE ("services"."controller" = 'service_test_1' AND "services".id <> 2053932785) LIMIT 1[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM "services" INNER JOIN "services_users" ON "services".id = "services_users".service_id WHERE ("services_users".user_id = 2 ) [0m


Processing UsersController#addservice (for 0.0.0.0 at 2010-03-29 21:51:44) [POST]
  Parameters: {"action"=>"addservice", "service_id"=>[2053932785], "user_id"=>"2", "controller"=>"users"}
  [4;36;1mLoggedUser Load (0.2ms)[0m   [0;1mSELECT * FROM "logged_users" WHERE ("logged_users"."ip" = '0.0.0.0' AND "logged_users"."session" = 'test session') LIMIT 1[0m
  [4;35;1mLoggedUser Update (0.1ms)[0m   [0mUPDATE "logged_users" SET "updated_at" = '2010-03-29 19:51:44', "session_ts" = '2010-03-29 19:51:44' WHERE "id" = 2053932786[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
  [4;36;1mService Load (0.2ms)[0m   [0;1mSELECT * FROM "services" WHERE ("services"."id" = 2053932785) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mINSERT INTO "services_users" ("service_id", "user_id") VALUES (2053932785, 2)[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT "users".id FROM "users" WHERE ("users"."username" = 'test1' AND "users".id <> 2) LIMIT 1[0m
Redirected to http://test.host/service_test_1/addtouser?user_id=2
Completed in 9ms (DB: 3) | 302 Found [http://test.host/users/addservice?service_id%5B%5D=2053932785&user_id=2]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM "services" INNER JOIN "services_users" ON "services".id = "services_users".service_id WHERE ("services_users".user_id = 2 ) [0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mLoggedUser Create (0.1ms)[0m   [0;1mINSERT INTO "logged_users" ("created_at", "session", "updated_at", "user_id", "ip", "session_ts") VALUES('2010-03-29 19:51:44', 'test session', '2010-03-29 19:51:44', 1, '0.0.0.0', '2010-03-29 19:51:44')[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM "users" [0m


Processing UsersController#create (for 0.0.0.0 at 2010-03-29 21:51:44) [POST]
  Parameters: {"action"=>"create", "controller"=>"users", "user"=>{"username"=>"newuser", "password"=>"[FILTERED]", "email"=>"test@test.com"}}
  [4;36;1mLoggedUser Load (0.2ms)[0m   [0;1mSELECT * FROM "logged_users" WHERE ("logged_users"."ip" = '0.0.0.0' AND "logged_users"."session" = 'test session') LIMIT 1[0m
  [4;35;1mLoggedUser Update (0.1ms)[0m   [0mUPDATE "logged_users" SET "updated_at" = '2010-03-29 19:51:44', "session_ts" = '2010-03-29 19:51:44' WHERE "id" = 2053932786[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT "users".id FROM "users" WHERE ("users"."username" = 'newuser') LIMIT 1[0m
  [4;36;1mUser Create (0.1ms)[0m   [0;1mINSERT INTO "users" ("max_bandwidth", "created_at", "max_space", "updated_at", "username", "used_space", "max_subusers", "full_name", "parent_id", "password", "email", "max_subdomains", "ohmd_password") VALUES(NULL, '2010-03-29 19:51:44', -1, '2010-03-29 19:51:44', 'newuser', 0, -1, NULL, 1, 'newpassword', 'test@test.com', -1, NULL)[0m
Redirected to http://test.host/users/4
Completed in 6ms (DB: 1) | 302 Found [http://test.host/users?user%5Bemail%5D=test%40test.com&user%5Bpassword%5D=newpassword&user%5Busername%5D=newuser]
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM "users" [0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
  [4;35;1mLoggedUser Create (0.1ms)[0m   [0mINSERT INTO "logged_users" ("created_at", "session", "updated_at", "user_id", "ip", "session_ts") VALUES('2010-03-29 19:51:44', 'test session', '2010-03-29 19:51:44', 2, '0.0.0.0', '2010-03-29 19:51:44')[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM "users" [0m


Processing UsersController#create (for 0.0.0.0 at 2010-03-29 21:51:44) [POST]
  Parameters: {"action"=>"create", "controller"=>"users", "user"=>{"max_space"=>100, "username"=>"secondnewuser", "max_subusers"=>1, "password"=>"[FILTERED]", "email"=>"test@test.com", "max_subdomains"=>1}}
  [4;35;1mLoggedUser Load (0.2ms)[0m   [0mSELECT * FROM "logged_users" WHERE ("logged_users"."ip" = '0.0.0.0' AND "logged_users"."session" = 'test session') LIMIT 1[0m
  [4;36;1mLoggedUser Update (0.1ms)[0m   [0;1mUPDATE "logged_users" SET "updated_at" = '2010-03-29 19:51:44', "session_ts" = '2010-03-29 19:51:44' WHERE "id" = 2053932786[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT "users".id FROM "users" WHERE ("users"."username" = 'secondnewuser') LIMIT 1[0m
  [4;35;1mUser Create (0.1ms)[0m   [0mINSERT INTO "users" ("max_bandwidth", "created_at", "max_space", "updated_at", "username", "used_space", "max_subusers", "full_name", "parent_id", "password", "email", "max_subdomains", "ohmd_password") VALUES(NULL, '2010-03-29 19:51:44', 100, '2010-03-29 19:51:44', 'secondnewuser', 0, 1, NULL, 1, 'newpassword', 'test@test.com', 1, NULL)[0m
Redirected to http://test.host/users/5
Completed in 6ms (DB: 1) | 302 Found [http://test.host/users?user%5Bemail%5D=test%40test.com&user%5Bpassword%5D=newpassword&user%5Busername%5D=newuser]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM "users" [0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mLoggedUser Create (0.1ms)[0m   [0;1mINSERT INTO "logged_users" ("created_at", "session", "updated_at", "user_id", "ip", "session_ts") VALUES('2010-03-29 19:51:44', 'test session', '2010-03-29 19:51:44', 1, '0.0.0.0', '2010-03-29 19:51:44')[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m


Processing UsersController#destroy (for 0.0.0.0 at 2010-03-29 21:51:44) [DELETE]
  Parameters: {"action"=>"destroy", "id"=>"2", "controller"=>"users"}
  [4;36;1mLoggedUser Load (0.3ms)[0m   [0;1mSELECT * FROM "logged_users" WHERE ("logged_users"."ip" = '0.0.0.0' AND "logged_users"."session" = 'test session') LIMIT 1[0m
  [4;35;1mLoggedUser Update (0.1ms)[0m   [0mUPDATE "logged_users" SET "updated_at" = '2010-03-29 19:51:44', "session_ts" = '2010-03-29 19:51:44' WHERE "id" = 2053932786[0m
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mDomain Load (0.1ms)[0m   [0mSELECT * FROM "domains" WHERE ("domains".user_id = 2) [0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users".parent_id = 2) [0m
  [4;35;1mService Load (0.1ms)[0m   [0mSELECT * FROM "services" INNER JOIN "services_users" ON "services".id = "services_users".service_id WHERE ("services_users".user_id = 2 ) [0m
  [4;36;1mUser Destroy (0.1ms)[0m   [0;1mDELETE FROM "users" WHERE "id" = 2[0m
WARNING: Can't mass-assign these protected attributes: id
  [4;35;1mUser Create (0.1ms)[0m   [0mINSERT INTO "users" ("max_bandwidth", "created_at", "max_space", "updated_at", "username", "used_space", "max_subusers", "full_name", "parent_id", "password", "email", "max_subdomains", "ohmd_password") VALUES(NULL, '2010-03-29 19:51:44', NULL, '2010-03-29 19:51:44', 'test1', NULL, NULL, NULL, -1, NULL, NULL, NULL, NULL)[0m
Redirected to http://test.host/users
Completed in 8ms (DB: 3) | 302 Found [http://test.host/users/2]
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."username" = 'test1') LIMIT 1[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mLoggedUser Create (0.1ms)[0m   [0;1mINSERT INTO "logged_users" ("created_at", "session", "updated_at", "user_id", "ip", "session_ts") VALUES('2010-03-29 19:51:44', 'test session', '2010-03-29 19:51:44', 1, '0.0.0.0', '2010-03-29 19:51:44')[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m


Processing UsersController#edit (for 0.0.0.0 at 2010-03-29 21:51:44) [GET]
  Parameters: {"action"=>"edit", "id"=>"2", "controller"=>"users"}
  [4;36;1mLoggedUser Load (0.2ms)[0m   [0;1mSELECT * FROM "logged_users" WHERE ("logged_users"."ip" = '0.0.0.0' AND "logged_users"."session" = 'test session') LIMIT 1[0m
  [4;35;1mLoggedUser Update (0.1ms)[0m   [0mUPDATE "logged_users" SET "updated_at" = '2010-03-29 19:51:44', "session_ts" = '2010-03-29 19:51:44' WHERE "id" = 2053932786[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
Rendering template within layouts/ohm
Rendering users/edit
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM "users" WHERE ("users".parent_id = 2) [0m
  [4;36;1mDomain Load (0.1ms)[0m   [0;1mSELECT * FROM "domains" WHERE ("domains".user_id = 2) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM "users" WHERE ("users".parent_id = 2) [0m
  [4;36;1mService Load (0.1ms)[0m   [0;1mSELECT * FROM "services" INNER JOIN "services_users" ON "services".id = "services_users".service_id WHERE ("services_users".user_id = 1 ) [0m
Completed in 14ms (View: 10, DB: 2) | 200 OK [http://test.host/users/2/edit]
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
  [4;36;1mLoggedUser Create (0.1ms)[0m   [0;1mINSERT INTO "logged_users" ("created_at", "session", "updated_at", "user_id", "ip", "session_ts") VALUES('2010-03-29 19:51:44', 'test session', '2010-03-29 19:51:44', 2, '0.0.0.0', '2010-03-29 19:51:44')[0m


Processing UsersController#index (for 0.0.0.0 at 2010-03-29 21:51:44) [GET]
  Parameters: {"action"=>"index", "controller"=>"users"}
  [4;35;1mLoggedUser Load (0.2ms)[0m   [0mSELECT * FROM "logged_users" WHERE ("logged_users"."ip" = '0.0.0.0' AND "logged_users"."session" = 'test session') LIMIT 1[0m
  [4;36;1mLoggedUser Update (0.1ms)[0m   [0;1mUPDATE "logged_users" SET "updated_at" = '2010-03-29 19:51:44', "session_ts" = '2010-03-29 19:51:44' WHERE "id" = 2053932786[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
Rendering template within layouts/ohm
Rendering users/index
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM "users" WHERE ("users".parent_id = 2) [0m
  [4;35;1mService Load (0.1ms)[0m   [0mSELECT * FROM "services" INNER JOIN "services_users" ON "services".id = "services_users".service_id WHERE ("services_users".user_id = 2 ) [0m
Completed in 7ms (View: 4, DB: 1) | 200 OK [http://test.host/users]


Processing UsersController#index (for 0.0.0.0 at 2010-03-29 21:51:44) [GET]
  Parameters: {"action"=>"index", "controller"=>"users"}
Redirected to http://test.host/login
Filter chain halted as [:authenticate] rendered_or_redirected.
Completed in 0ms (DB: 0) | 302 Found [http://test.host/users]
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
  [4;35;1mLoggedUser Create (0.1ms)[0m   [0mINSERT INTO "logged_users" ("created_at", "session", "updated_at", "user_id", "ip", "session_ts") VALUES('2010-03-29 19:51:44', 'test session', '2010-03-29 19:51:44', 2, '0.0.0.0', '2010-03-29 19:51:44')[0m


Processing UsersController#new (for 0.0.0.0 at 2010-03-29 21:51:44) [GET]
  Parameters: {"action"=>"new", "controller"=>"users"}
  [4;36;1mLoggedUser Load (0.2ms)[0m   [0;1mSELECT * FROM "logged_users" WHERE ("logged_users"."ip" = '0.0.0.0' AND "logged_users"."session" = 'test session') LIMIT 1[0m
  [4;35;1mLoggedUser Update (0.1ms)[0m   [0mUPDATE "logged_users" SET "updated_at" = '2010-03-29 19:51:44', "session_ts" = '2010-03-29 19:51:44' WHERE "id" = 2053932786[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
Rendering template within layouts/ohm
Rendering users/new
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM "users" WHERE ("users".parent_id = 2) [0m
  [4;36;1mDomain Load (0.1ms)[0m   [0;1mSELECT * FROM "domains" WHERE ("domains".user_id = 2) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM "users" WHERE ("users".parent_id = 2) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM "users" WHERE ("users".parent_id = 2) [0m
  [4;35;1mService Load (0.1ms)[0m   [0mSELECT * FROM "services" INNER JOIN "services_users" ON "services".id = "services_users".service_id WHERE ("services_users".user_id = 2 ) [0m
Completed in 13ms (View: 10, DB: 1) | 200 OK [http://test.host/users/new]
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
  [4;35;1mLoggedUser Create (0.1ms)[0m   [0mINSERT INTO "logged_users" ("created_at", "session", "updated_at", "user_id", "ip", "session_ts") VALUES('2010-03-29 19:51:44', 'test session', '2010-03-29 19:51:44', 2, '0.0.0.0', '2010-03-29 19:51:44')[0m


Processing UsersController#profile (for 0.0.0.0 at 2010-03-29 21:51:44) [GET]
  Parameters: {"action"=>"profile", "controller"=>"users"}
  [4;36;1mLoggedUser Load (0.2ms)[0m   [0;1mSELECT * FROM "logged_users" WHERE ("logged_users"."ip" = '0.0.0.0' AND "logged_users"."session" = 'test session') LIMIT 1[0m
  [4;35;1mLoggedUser Update (0.1ms)[0m   [0mUPDATE "logged_users" SET "updated_at" = '2010-03-29 19:51:44', "session_ts" = '2010-03-29 19:51:44' WHERE "id" = 2053932786[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
Rendering template within layouts/ohm
Rendering users/profile
  [4;35;1mService Load (0.1ms)[0m   [0mSELECT * FROM "services" INNER JOIN "services_users" ON "services".id = "services_users".service_id WHERE ("services_users".user_id = 2 ) [0m
Completed in 10ms (View: 8, DB: 1) | 200 OK [http://test.host/users/profile]
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mLoggedUser Create (0.1ms)[0m   [0mINSERT INTO "logged_users" ("created_at", "session", "updated_at", "user_id", "ip", "session_ts") VALUES('2010-03-29 19:51:44', 'test session', '2010-03-29 19:51:44', 1, '0.0.0.0', '2010-03-29 19:51:44')[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m


Processing UsersController#login_as_me (for 0.0.0.0 at 2010-03-29 21:51:44) [POST]
  Parameters: {"action"=>"login_as_me", "id"=>"2", "controller"=>"users"}
  [4;35;1mLoggedUser Load (0.2ms)[0m   [0mSELECT * FROM "logged_users" WHERE ("logged_users"."ip" = '0.0.0.0' AND "logged_users"."session" = 'test session') LIMIT 1[0m
  [4;36;1mLoggedUser Update (0.1ms)[0m   [0;1mUPDATE "logged_users" SET "updated_at" = '2010-03-29 19:51:44', "session_ts" = '2010-03-29 19:51:44' WHERE "id" = 2053932786[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mLoggedUser Load (0.2ms)[0m   [0;1mSELECT * FROM "logged_users" WHERE ("logged_users"."ip" = '0.0.0.0' AND "logged_users"."session" = 'test session') LIMIT 1[0m
  [4;35;1mLoggedUser Update (0.1ms)[0m   [0mUPDATE "logged_users" SET "updated_at" = '2010-03-29 19:51:44', "session_ts" = '2010-03-29 19:51:44' WHERE "id" = 2053932786[0m
  [4;36;1mLoggedUser Update (0.1ms)[0m   [0;1mUPDATE "logged_users" SET "updated_at" = '2010-03-29 19:51:44', "user_id" = 2 WHERE "id" = 2053932786[0m
Redirected to http://test.host/
Completed in 6ms (DB: 2) | 302 Found [http://test.host/users/login_as_me/2]
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
  [4;36;1mLoggedUser Create (0.1ms)[0m   [0;1mINSERT INTO "logged_users" ("created_at", "session", "updated_at", "user_id", "ip", "session_ts") VALUES('2010-03-29 19:51:44', 'test session', '2010-03-29 19:51:44', 2, '0.0.0.0', '2010-03-29 19:51:44')[0m
  [4;35;1mService Load (0.2ms)[0m   [0mSELECT * FROM "services" WHERE ("services"."id" = 2053932785) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mINSERT INTO "services_users" ("service_id", "user_id") VALUES (2053932785, 2)[0m
  [4;35;1mService Load (0.1ms)[0m   [0mSELECT "services".id FROM "services" WHERE ("services"."name" = 'Service 1' AND "services".id <> 2053932785) LIMIT 1[0m
  [4;36;1mService Load (0.1ms)[0m   [0;1mSELECT "services".id FROM "services" WHERE ("services"."controller" = 'service_test_1' AND "services".id <> 2053932785) LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM "services" INNER JOIN "services_users" ON "services".id = "services_users".service_id WHERE ("services_users".user_id = 2 ) [0m


Processing UsersController#addservice (for 0.0.0.0 at 2010-03-29 21:51:44) [POST]
  Parameters: {"action"=>"addservice", "service_id"=>[2053932785], "user_id"=>"2", "controller"=>"users"}
  [4;36;1mLoggedUser Load (0.2ms)[0m   [0;1mSELECT * FROM "logged_users" WHERE ("logged_users"."ip" = '0.0.0.0' AND "logged_users"."session" = 'test session') LIMIT 1[0m
  [4;35;1mLoggedUser Update (0.1ms)[0m   [0mUPDATE "logged_users" SET "updated_at" = '2010-03-29 19:51:44', "session_ts" = '2010-03-29 19:51:44' WHERE "id" = 2053932786[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
  [4;36;1mService Load (0.2ms)[0m   [0;1mSELECT * FROM "services" WHERE ("services"."id" = 2053932785) [0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
Redirected to http://test.host/users
Completed in 4ms (DB: 2) | 302 Found [http://test.host/users/addservice?service_id%5B%5D=2053932785&user_id=2]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM "services" INNER JOIN "services_users" ON "services".id = "services_users".service_id WHERE ("services_users".user_id = 2 ) [0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
  [4;36;1mLoggedUser Create (0.1ms)[0m   [0;1mINSERT INTO "logged_users" ("created_at", "session", "updated_at", "user_id", "ip", "session_ts") VALUES('2010-03-29 19:51:44', 'test session', '2010-03-29 19:51:44', 2, '0.0.0.0', '2010-03-29 19:51:44')[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM "users" [0m


Processing UsersController#destroy (for 0.0.0.0 at 2010-03-29 21:51:44) [DELETE]
  Parameters: {"action"=>"destroy", "id"=>"2", "controller"=>"users"}
  [4;36;1mLoggedUser Load (0.2ms)[0m   [0;1mSELECT * FROM "logged_users" WHERE ("logged_users"."ip" = '0.0.0.0' AND "logged_users"."session" = 'test session') LIMIT 1[0m
  [4;35;1mLoggedUser Update (0.1ms)[0m   [0mUPDATE "logged_users" SET "updated_at" = '2010-03-29 19:51:44', "session_ts" = '2010-03-29 19:51:44' WHERE "id" = 2053932786[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
Redirected to http://test.host/users
Completed in 4ms (DB: 2) | 302 Found [http://test.host/users/2]
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM "users" [0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
  [4;35;1mLoggedUser Create (0.1ms)[0m   [0mINSERT INTO "logged_users" ("created_at", "session", "updated_at", "user_id", "ip", "session_ts") VALUES('2010-03-29 19:51:44', 'test session', '2010-03-29 19:51:44', 2, '0.0.0.0', '2010-03-29 19:51:44')[0m


Processing UsersController#edit (for 0.0.0.0 at 2010-03-29 21:51:44) [GET]
  Parameters: {"action"=>"edit", "id"=>"2", "controller"=>"users"}
  [4;36;1mLoggedUser Load (0.2ms)[0m   [0;1mSELECT * FROM "logged_users" WHERE ("logged_users"."ip" = '0.0.0.0' AND "logged_users"."session" = 'test session') LIMIT 1[0m
  [4;35;1mLoggedUser Update (0.1ms)[0m   [0mUPDATE "logged_users" SET "updated_at" = '2010-03-29 19:51:44', "session_ts" = '2010-03-29 19:51:44' WHERE "id" = 2053932786[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
Redirected to http://test.host/users
Completed in 4ms (DB: 2) | 302 Found [http://test.host/users/2/edit]
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
  [4;36;1mLoggedUser Create (0.1ms)[0m   [0;1mINSERT INTO "logged_users" ("created_at", "session", "updated_at", "user_id", "ip", "session_ts") VALUES('2010-03-29 19:51:44', 'test session', '2010-03-29 19:51:44', 2, '0.0.0.0', '2010-03-29 19:51:44')[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 3) [0m


Processing UsersController#login_as_me (for 0.0.0.0 at 2010-03-29 21:51:44) [POST]
  Parameters: {"action"=>"login_as_me", "id"=>"3", "controller"=>"users"}
  [4;36;1mLoggedUser Load (0.2ms)[0m   [0;1mSELECT * FROM "logged_users" WHERE ("logged_users"."ip" = '0.0.0.0' AND "logged_users"."session" = 'test session') LIMIT 1[0m
  [4;35;1mLoggedUser Update (0.1ms)[0m   [0mUPDATE "logged_users" SET "updated_at" = '2010-03-29 19:51:44', "session_ts" = '2010-03-29 19:51:44' WHERE "id" = 2053932786[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 3) [0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
Redirected to http://test.host/users
Completed in 4ms (DB: 2) | 302 Found [http://test.host/users/login_as_me/3]
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
  [4;36;1mLoggedUser Create (0.1ms)[0m   [0;1mINSERT INTO "logged_users" ("created_at", "session", "updated_at", "user_id", "ip", "session_ts") VALUES('2010-03-29 19:51:44', 'test session', '2010-03-29 19:51:44', 2, '0.0.0.0', '2010-03-29 19:51:44')[0m
  [4;35;1mService Load (0.3ms)[0m   [0mSELECT * FROM "services" WHERE ("services"."id" = 2053932785) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mINSERT INTO "services_users" ("service_id", "user_id") VALUES (2053932785, 2)[0m
  [4;35;1mService Load (0.1ms)[0m   [0mSELECT "services".id FROM "services" WHERE ("services"."name" = 'Service 1' AND "services".id <> 2053932785) LIMIT 1[0m
  [4;36;1mService Load (0.1ms)[0m   [0;1mSELECT "services".id FROM "services" WHERE ("services"."controller" = 'service_test_1' AND "services".id <> 2053932785) LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM "services" INNER JOIN "services_users" ON "services".id = "services_users".service_id WHERE ("services_users".user_id = 2 ) [0m


Processing UsersController#removeservice (for 0.0.0.0 at 2010-03-29 21:51:44) [POST]
  Parameters: {"action"=>"removeservice", "service_id"=>"2053932785", "user_id"=>"2", "controller"=>"users"}
  [4;36;1mLoggedUser Load (0.2ms)[0m   [0;1mSELECT * FROM "logged_users" WHERE ("logged_users"."ip" = '0.0.0.0' AND "logged_users"."session" = 'test session') LIMIT 1[0m
  [4;35;1mLoggedUser Update (0.1ms)[0m   [0mUPDATE "logged_users" SET "updated_at" = '2010-03-29 19:51:44', "session_ts" = '2010-03-29 19:51:44' WHERE "id" = 2053932786[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
  [4;36;1mService Load (0.2ms)[0m   [0;1mSELECT * FROM "services" WHERE ("services"."id" = 2053932785) [0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
Redirected to http://test.host/users
Completed in 4ms (DB: 2) | 302 Found [http://test.host/users/removeservice?service_id=2053932785&user_id=2]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM "services" INNER JOIN "services_users" ON "services".id = "services_users".service_id WHERE ("services_users".user_id = 2 ) [0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
  [4;36;1mLoggedUser Create (0.1ms)[0m   [0;1mINSERT INTO "logged_users" ("created_at", "session", "updated_at", "user_id", "ip", "session_ts") VALUES('2010-03-29 19:51:44', 'test session', '2010-03-29 19:51:44', 2, '0.0.0.0', '2010-03-29 19:51:44')[0m


Processing UsersController#show (for 0.0.0.0 at 2010-03-29 21:51:44) [GET]
  Parameters: {"action"=>"show", "id"=>"2", "controller"=>"users"}
  [4;35;1mLoggedUser Load (0.2ms)[0m   [0mSELECT * FROM "logged_users" WHERE ("logged_users"."ip" = '0.0.0.0' AND "logged_users"."session" = 'test session') LIMIT 1[0m
  [4;36;1mLoggedUser Update (0.1ms)[0m   [0;1mUPDATE "logged_users" SET "updated_at" = '2010-03-29 19:51:44', "session_ts" = '2010-03-29 19:51:44' WHERE "id" = 2053932786[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
Redirected to http://test.host/users
  [4;36;1mService Load (0.1ms)[0m   [0;1mSELECT * FROM "services" INNER JOIN "services_users" ON "services".id = "services_users".service_id WHERE ("services_users".user_id = 2 ) [0m
  [4;35;1mService Load (0.1ms)[0m   [0mSELECT * FROM "services" INNER JOIN "services_users" ON "services".id = "services_users".service_id WHERE ("services_users".user_id = 2 ) [0m
Completed in 5ms (DB: 2) | 302 Found [http://test.host/users/2]
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
  [4;35;1mLoggedUser Create (0.1ms)[0m   [0mINSERT INTO "logged_users" ("created_at", "session", "updated_at", "user_id", "ip", "session_ts") VALUES('2010-03-29 19:51:44', 'test session', '2010-03-29 19:51:44', 2, '0.0.0.0', '2010-03-29 19:51:44')[0m


Processing UsersController#update (for 0.0.0.0 at 2010-03-29 21:51:44) [PUT]
  Parameters: {"action"=>"update", "id"=>"2", "controller"=>"users", "user"=>{"full_name"=>"New name"}}
  [4;36;1mLoggedUser Load (0.2ms)[0m   [0;1mSELECT * FROM "logged_users" WHERE ("logged_users"."ip" = '0.0.0.0' AND "logged_users"."session" = 'test session') LIMIT 1[0m
  [4;35;1mLoggedUser Update (0.1ms)[0m   [0mUPDATE "logged_users" SET "updated_at" = '2010-03-29 19:51:44', "session_ts" = '2010-03-29 19:51:44' WHERE "id" = 2053932786[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
Redirected to http://test.host/users
Completed in 4ms (DB: 1) | 302 Found [http://test.host/users/2?user%5Bfull_name%5D=New+name]
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mLoggedUser Create (0.1ms)[0m   [0;1mINSERT INTO "logged_users" ("created_at", "session", "updated_at", "user_id", "ip", "session_ts") VALUES('2010-03-29 19:51:44', 'test session', '2010-03-29 19:51:44', 1, '0.0.0.0', '2010-03-29 19:51:44')[0m
  [4;35;1mService Load (0.2ms)[0m   [0mSELECT * FROM "services" WHERE ("services"."id" = 2053932785) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mINSERT INTO "services_users" ("service_id", "user_id") VALUES (2053932785, 1)[0m
  [4;35;1mService Load (0.1ms)[0m   [0mSELECT "services".id FROM "services" WHERE ("services"."name" = 'Service 1' AND "services".id <> 2053932785) LIMIT 1[0m
  [4;36;1mService Load (0.1ms)[0m   [0;1mSELECT "services".id FROM "services" WHERE ("services"."controller" = 'service_test_1' AND "services".id <> 2053932785) LIMIT 1[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mINSERT INTO "services_users" ("service_id", "user_id") VALUES (2053932785, 2)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM "services" INNER JOIN "services_users" ON "services".id = "services_users".service_id WHERE ("services_users".user_id = 2 ) [0m


Processing UsersController#removeservice (for 0.0.0.0 at 2010-03-29 21:51:44) [POST]
  Parameters: {"action"=>"removeservice", "service_id"=>"2053932785", "user_id"=>"2", "controller"=>"users"}
  [4;36;1mLoggedUser Load (0.2ms)[0m   [0;1mSELECT * FROM "logged_users" WHERE ("logged_users"."ip" = '0.0.0.0' AND "logged_users"."session" = 'test session') LIMIT 1[0m
  [4;35;1mLoggedUser Update (0.1ms)[0m   [0mUPDATE "logged_users" SET "updated_at" = '2010-03-29 19:51:44', "session_ts" = '2010-03-29 19:51:44' WHERE "id" = 2053932786[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
  [4;36;1mService Load (0.2ms)[0m   [0;1mSELECT * FROM "services" WHERE ("services"."id" = 2053932785) [0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mService Load (0.1ms)[0m   [0;1mSELECT "services".id FROM "services" INNER JOIN "services_users" ON "services".id = "services_users".service_id WHERE ("services"."id" = 2053932785) AND ("services_users".user_id = 1 ) LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mDELETE FROM "services_users" WHERE user_id = 2 AND service_id IN (2053932785)[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT "users".id FROM "users" WHERE ("users"."username" = 'test1' AND "users".id <> 2) LIMIT 1[0m
Redirected to http://test.host/service_test_1/removefromuser?user_id=2
Completed in 7ms (DB: 3) | 302 Found [http://test.host/users/removeservice?service_id=2053932785&user_id=2]
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM "services" INNER JOIN "services_users" ON "services".id = "services_users".service_id WHERE ("services_users".user_id = 2 ) [0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mLoggedUser Create (0.1ms)[0m   [0mINSERT INTO "logged_users" ("created_at", "session", "updated_at", "user_id", "ip", "session_ts") VALUES('2010-03-29 19:51:44', 'test session', '2010-03-29 19:51:44', 1, '0.0.0.0', '2010-03-29 19:51:44')[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m


Processing UsersController#show (for 0.0.0.0 at 2010-03-29 21:51:44) [GET]
  Parameters: {"action"=>"show", "id"=>"2", "controller"=>"users"}
  [4;35;1mLoggedUser Load (0.2ms)[0m   [0mSELECT * FROM "logged_users" WHERE ("logged_users"."ip" = '0.0.0.0' AND "logged_users"."session" = 'test session') LIMIT 1[0m
  [4;36;1mLoggedUser Update (0.1ms)[0m   [0;1mUPDATE "logged_users" SET "updated_at" = '2010-03-29 19:51:44', "session_ts" = '2010-03-29 19:51:44' WHERE "id" = 2053932786[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mService Load (0.4ms)[0m   [0;1mSELECT * FROM "services" [0m
  [4;35;1mService Load (0.1ms)[0m   [0mSELECT * FROM "services" INNER JOIN "services_users" ON "services".id = "services_users".service_id WHERE ("services_users".user_id = 2 ) [0m
Rendering template within layouts/ohm
Rendering users/show
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users".parent_id = 2) [0m
  [4;35;1mDomain Load (0.1ms)[0m   [0mSELECT * FROM "domains" WHERE ("domains".user_id = 2) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM "domains" WHERE ("domains".user_id = 2) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM "services" INNER JOIN "services_users" ON "services".id = "services_users".service_id WHERE ("services_users".user_id = 2 ) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM "users" WHERE ("users".parent_id = 2) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM "users" WHERE ("users".parent_id = 2) [0m
  [4;36;1mService Load (0.1ms)[0m   [0;1mSELECT * FROM "services" INNER JOIN "services_users" ON "services".id = "services_users".service_id WHERE ("services_users".user_id = 1 ) [0m
Completed in 15ms (View: 9, DB: 3) | 200 OK [http://test.host/users/2]
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
  [4;36;1mLoggedUser Create (0.1ms)[0m   [0;1mINSERT INTO "logged_users" ("created_at", "session", "updated_at", "user_id", "ip", "session_ts") VALUES('2010-03-29 19:51:44', 'test session', '2010-03-29 19:51:44', 2, '0.0.0.0', '2010-03-29 19:51:44')[0m


Processing UsersController#profileupdate (for 0.0.0.0 at 2010-03-29 21:51:44) [POST]
  Parameters: {"action"=>"profileupdate", "controller"=>"users", "user"=>{"full_name"=>"New Name"}}
  [4;35;1mLoggedUser Load (0.2ms)[0m   [0mSELECT * FROM "logged_users" WHERE ("logged_users"."ip" = '0.0.0.0' AND "logged_users"."session" = 'test session') LIMIT 1[0m
  [4;36;1mLoggedUser Update (0.1ms)[0m   [0;1mUPDATE "logged_users" SET "updated_at" = '2010-03-29 19:51:44', "session_ts" = '2010-03-29 19:51:44' WHERE "id" = 2053932786[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT "users".id FROM "users" WHERE ("users"."username" = 'test1' AND "users".id <> 2) LIMIT 1[0m
  [4;36;1mUser Update (0.1ms)[0m   [0;1mUPDATE "users" SET "updated_at" = '2010-03-29 19:51:44', "full_name" = 'New Name' WHERE "id" = 2[0m
Redirected to http://test.host/
Completed in 60ms (DB: 2) | 302 Found [http://test.host/users/profileupdate?user%5Bfull_name%5D=New+Name]
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mLoggedUser Create (0.1ms)[0m   [0;1mINSERT INTO "logged_users" ("created_at", "session", "updated_at", "user_id", "ip", "session_ts") VALUES('2010-03-29 19:51:44', 'test session', '2010-03-29 19:51:44', 1, '0.0.0.0', '2010-03-29 19:51:44')[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m


Processing UsersController#update (for 0.0.0.0 at 2010-03-29 21:51:44) [PUT]
  Parameters: {"action"=>"update", "id"=>"2", "controller"=>"users", "user"=>{"full_name"=>"New name"}}
  [4;36;1mLoggedUser Load (0.2ms)[0m   [0;1mSELECT * FROM "logged_users" WHERE ("logged_users"."ip" = '0.0.0.0' AND "logged_users"."session" = 'test session') LIMIT 1[0m
  [4;35;1mLoggedUser Update (0.1ms)[0m   [0mUPDATE "logged_users" SET "updated_at" = '2010-03-29 19:51:44', "session_ts" = '2010-03-29 19:51:44' WHERE "id" = 2053932786[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT "users".id FROM "users" WHERE ("users"."username" = 'test1' AND "users".id <> 2) LIMIT 1[0m
  [4;36;1mUser Update (0.1ms)[0m   [0;1mUPDATE "users" SET "updated_at" = '2010-03-29 19:51:44', "full_name" = 'New name' WHERE "id" = 2[0m
Redirected to http://test.host/users/2
Completed in 7ms (DB: 2) | 302 Found [http://test.host/users/2?user%5Bfull_name%5D=New+name]
  [4;36;1mDomain Load (0.6ms)[0m   [0;1mSELECT * FROM "domains" WHERE ("domains"."id" = 1) [0m
  [4;35;1mUser Load (0.9ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
  [4;36;1mDomain Load (0.2ms)[0m   [0;1mSELECT "domains".id FROM "domains" WHERE ("domains"."domain" = 'test.com') LIMIT 1[0m
  [4;35;1mDomain Load (0.1ms)[0m   [0mSELECT "domains".id FROM "domains" WHERE ("domains"."domain" IS NULL) LIMIT 1[0m
  [4;36;1mDomain Load (0.2ms)[0m   [0;1mSELECT * FROM "domains" WHERE ("domains"."id" = 1) [0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mDomain Load (0.1ms)[0m   [0;1mSELECT "domains".id FROM "domains" WHERE ("domains"."domain" = 'test.com' AND "domains".id <> 1) LIMIT 1[0m
  [4;35;1mLoggedUser Load (0.2ms)[0m   [0mSELECT * FROM "logged_users" WHERE ("logged_users"."id" = 2053932785) [0m
  [4;36;1mLoggedUser Load (0.2ms)[0m   [0;1mSELECT * FROM "logged_users" WHERE ("logged_users"."id" = 2053932785) [0m
  [4;35;1mLoggedUser Load (0.2ms)[0m   [0mSELECT * FROM "logged_users" WHERE ("logged_users"."id" = 2053932785) [0m
  [4;36;1mService Load (0.1ms)[0m   [0;1mSELECT "services".id FROM "services" WHERE ("services"."name" = 'New Service') LIMIT 1[0m
  [4;35;1mService Load (0.1ms)[0m   [0mSELECT "services".id FROM "services" WHERE ("services"."controller" = 'service_new_service') LIMIT 1[0m
  [4;36;1mService Load (0.1ms)[0m   [0;1mSELECT "services".id FROM "services" WHERE ("services"."name" = 'New Service') LIMIT 1[0m
  [4;35;1mService Load (0.1ms)[0m   [0mSELECT "services".id FROM "services" WHERE ("services"."controller" = 'service_new_service') LIMIT 1[0m
  [4;36;1mService Create (0.1ms)[0m   [0;1mINSERT INTO "services" ("name", "daemon_installed", "created_at", "updated_at", "by_domain", "deleted", "description", "controller", "tech_name", "install_files") VALUES('New Service', 'f', '2010-03-29 19:53:27', '2010-03-29 19:53:27', 'f', 'f', NULL, 'service_new_service', 'New Service', NULL)[0m
  [4;35;1mService Load (0.1ms)[0m   [0mSELECT "services".id FROM "services" WHERE ("services"."name" IS NULL) LIMIT 1[0m
  [4;36;1mService Load (0.1ms)[0m   [0;1mSELECT "services".id FROM "services" WHERE ("services"."controller" IS NULL) LIMIT 1[0m
  [4;35;1mService Load (0.2ms)[0m   [0mSELECT * FROM "services" WHERE ("services"."id" = 2053932785) [0m
  [4;36;1mService Load (0.1ms)[0m   [0;1mSELECT "services".id FROM "services" WHERE ("services"."name" = 'Service 1') LIMIT 1[0m
  [4;35;1mService Load (0.1ms)[0m   [0mSELECT "services".id FROM "services" WHERE ("services"."controller" = 'service_test_1') LIMIT 1[0m
  [4;36;1mService Load (0.3ms)[0m   [0;1mSELECT * FROM "services" WHERE ("services"."id" = 2053932785) [0m
  [4;35;1mService Load (0.1ms)[0m   [0mSELECT "services".id FROM "services" WHERE ("services"."name" = 'Service 1' AND "services".id <> 2053932785) LIMIT 1[0m
  [4;36;1mService Load (0.1ms)[0m   [0;1mSELECT "services".id FROM "services" WHERE ("services"."controller" = 'service_test_1' AND "services".id <> 2053932785) LIMIT 1[0m
  [4;35;1mService Load (0.2ms)[0m   [0mSELECT * FROM "services" WHERE ("services"."id" = 298486374) [0m
  [4;36;1mService Load (0.1ms)[0m   [0;1mSELECT "services".id FROM "services" WHERE ("services"."name" = 'Service 2' AND "services".id <> 298486374) LIMIT 1[0m
  [4;35;1mService Load (0.1ms)[0m   [0mSELECT "services".id FROM "services" WHERE ("services"."controller" = 'service_test_2' AND "services".id <> 298486374) LIMIT 1[0m
  [4;36;1mSubdomain Load (0.2ms)[0m   [0;1mSELECT * FROM "subdomains" WHERE ("subdomains"."id" = 2053932785) [0m
  [4;35;1mDomain Load (0.2ms)[0m   [0mSELECT * FROM "domains" WHERE ("domains"."id" = 1) [0m
  [4;36;1mSubdomain Load (0.1ms)[0m   [0;1mSELECT "subdomains".id FROM "subdomains" WHERE ("subdomains"."url" = 'www' AND "subdomains".domain_id = 1) LIMIT 1[0m
  [4;35;1mSubdomain Load (0.1ms)[0m   [0mSELECT "subdomains".id FROM "subdomains" WHERE ("subdomains"."path" = 'www' AND "subdomains".domain_id = 1) LIMIT 1[0m
  [4;36;1mSubdomain Load (0.1ms)[0m   [0;1mSELECT "subdomains".id FROM "subdomains" WHERE ("subdomains"."url" = 'www' AND "subdomains".domain_id = 2) LIMIT 1[0m
  [4;35;1mSubdomain Load (0.1ms)[0m   [0mSELECT "subdomains".id FROM "subdomains" WHERE ("subdomains"."path" = 'www' AND "subdomains".domain_id = 2) LIMIT 1[0m
  [4;36;1mSubdomain Load (0.1ms)[0m   [0;1mSELECT "subdomains".id FROM "subdomains" WHERE ("subdomains"."url" = 'newsub' AND "subdomains".domain_id = 1) LIMIT 1[0m
  [4;35;1mSubdomain Load (0.1ms)[0m   [0mSELECT "subdomains".id FROM "subdomains" WHERE ("subdomains"."path" = 'newsub' AND "subdomains".domain_id = 1) LIMIT 1[0m
  [4;36;1mSubdomain Load (0.1ms)[0m   [0;1mSELECT "subdomains".id FROM "subdomains" WHERE ("subdomains"."url" IS NULL AND "subdomains".domain_id IS NULL) LIMIT 1[0m
  [4;35;1mSubdomain Load (0.1ms)[0m   [0mSELECT "subdomains".id FROM "subdomains" WHERE ("subdomains"."path" IS NULL AND "subdomains".domain_id IS NULL) LIMIT 1[0m
  [4;36;1mSubdomain Load (0.2ms)[0m   [0;1mSELECT * FROM "subdomains" WHERE ("subdomains"."id" = 298486374) [0m
  [4;35;1mDomain Load (0.2ms)[0m   [0mSELECT * FROM "domains" WHERE ("domains"."id" = 1) [0m
  [4;36;1mSubdomain Load (0.2ms)[0m   [0;1mSELECT "subdomains".id FROM "subdomains" WHERE ("subdomains"."url" = 'test' AND "subdomains".domain_id = 1 AND "subdomains".id <> 298486374) LIMIT 1[0m
  [4;35;1mSubdomain Load (0.1ms)[0m   [0mSELECT "subdomains".id FROM "subdomains" WHERE ("subdomains"."path" = 'test-site' AND "subdomains".domain_id = 1 AND "subdomains".id <> 298486374) LIMIT 1[0m
  [4;36;1mSubdomain Load (0.2ms)[0m   [0;1mSELECT * FROM "subdomains" WHERE ("subdomains"."id" = 298486374) [0m
  [4;35;1mSubdomain Load (0.1ms)[0m   [0mSELECT "subdomains".id FROM "subdomains" WHERE ("subdomains"."url" = 'test' AND "subdomains".domain_id = 1 AND "subdomains".id <> 298486374) LIMIT 1[0m
  [4;36;1mSubdomain Load (0.1ms)[0m   [0;1mSELECT "subdomains".id FROM "subdomains" WHERE ("subdomains"."path" = 'test-site' AND "subdomains".domain_id = 1 AND "subdomains".id <> 298486374) LIMIT 1[0m
  [4;35;1mSubdomain Load (0.2ms)[0m   [0mSELECT * FROM "subdomains" WHERE ("subdomains"."id" = 298486374) [0m
  [4;36;1mDomain Load (0.2ms)[0m   [0;1mSELECT * FROM "domains" WHERE ("domains"."id" = 1) [0m
  [4;35;1mSubdomain Load (0.1ms)[0m   [0mSELECT "subdomains".id FROM "subdomains" WHERE ("subdomains"."url" = 'mainsub' AND "subdomains".domain_id = 1) LIMIT 1[0m
  [4;36;1mSubdomain Load (0.1ms)[0m   [0;1mSELECT "subdomains".id FROM "subdomains" WHERE ("subdomains"."path" = 'mainsub' AND "subdomains".domain_id = 1) LIMIT 1[0m
  [4;35;1mSubdomain Load (0.2ms)[0m   [0mSELECT * FROM "subdomains" WHERE ("subdomains"."domain_id" = 1 AND "subdomains"."mainsub" = 't') LIMIT 1[0m
  [4;36;1mSubdomain Update (0.1ms)[0m   [0;1mUPDATE "subdomains" SET "updated_at" = '2010-03-29 19:53:27', "mainsub" = 'f' WHERE "id" = 2053932785[0m
  [4;35;1mSubdomain Create (0.1ms)[0m   [0mINSERT INTO "subdomains" ("created_at", "updated_at", "url", "domain_id", "path", "mainsub") VALUES('2010-03-29 19:53:27', '2010-03-29 19:53:27', 'mainsub', 1, 'mainsub', 't')[0m
  [4;36;1mSubdomain Load (0.1ms)[0m   [0;1mSELECT "subdomains".id FROM "subdomains" WHERE ("subdomains"."url" = 'mainsub' AND "subdomains".domain_id = 1 AND "subdomains".id <> 2053932786) LIMIT 1[0m
  [4;35;1mSubdomain Load (0.1ms)[0m   [0mSELECT "subdomains".id FROM "subdomains" WHERE ("subdomains"."path" = 'mainsub' AND "subdomains".domain_id = 1 AND "subdomains".id <> 2053932786) LIMIT 1[0m
  [4;36;1mSubdomain Load (0.2ms)[0m   [0;1mSELECT * FROM "subdomains" WHERE ("subdomains"."domain_id" = 1 AND "subdomains"."mainsub" = 't') LIMIT 1[0m
  [4;35;1mSubdomain Load (0.3ms)[0m   [0mSELECT * FROM "subdomains" WHERE ("subdomains".domain_id = 1) [0m
  [4;36;1mSubdomain Load (0.2ms)[0m   [0;1mSELECT * FROM "subdomains" WHERE ("subdomains"."id" = 2053932785) [0m
  [4;35;1mDomain Load (0.2ms)[0m   [0mSELECT * FROM "domains" WHERE ("domains"."id" = 1) [0m
  [4;36;1mSubdomain Load (0.1ms)[0m   [0;1mSELECT "subdomains".id FROM "subdomains" WHERE ("subdomains"."url" = 'www' AND "subdomains".domain_id = 1 AND "subdomains".id <> 2053932785) LIMIT 1[0m
  [4;35;1mSubdomain Load (0.1ms)[0m   [0mSELECT "subdomains".id FROM "subdomains" WHERE ("subdomains"."path" = '' AND "subdomains".domain_id = 1 AND "subdomains".id <> 2053932785) LIMIT 1[0m
  [4;36;1mSubdomain Load (0.2ms)[0m   [0;1mSELECT * FROM "subdomains" WHERE ("subdomains"."domain_id" = 1 AND "subdomains"."mainsub" = 't') LIMIT 1[0m
  [4;35;1mSubdomain Load (0.1ms)[0m   [0mSELECT "subdomains".id FROM "subdomains" WHERE ("subdomains"."url" = 'www' AND "subdomains".domain_id = 1 AND "subdomains".id <> 2053932785) LIMIT 1[0m
  [4;36;1mSubdomain Load (0.1ms)[0m   [0;1mSELECT "subdomains".id FROM "subdomains" WHERE ("subdomains"."path" = 'www' AND "subdomains".domain_id = 1 AND "subdomains".id <> 2053932785) LIMIT 1[0m
  [4;35;1mSubdomain Load (0.2ms)[0m   [0mSELECT * FROM "subdomains" WHERE ("subdomains"."domain_id" = 1 AND "subdomains"."mainsub" = 't') LIMIT 1[0m
  [4;36;1mSubdomain Load (0.2ms)[0m   [0;1mSELECT * FROM "subdomains" WHERE ("subdomains"."id" = 2053932785) [0m
  [4;35;1mDomain Load (0.2ms)[0m   [0mSELECT * FROM "domains" WHERE ("domains"."id" = 1) [0m
  [4;36;1mSubdomain Load (0.1ms)[0m   [0;1mSELECT "subdomains".id FROM "subdomains" WHERE ("subdomains"."url" = 'www' AND "subdomains".domain_id = 1 AND "subdomains".id <> 2053932785) LIMIT 1[0m
  [4;35;1mSubdomain Load (0.1ms)[0m   [0mSELECT "subdomains".id FROM "subdomains" WHERE ("subdomains"."path" = 'www' AND "subdomains".domain_id = 1 AND "subdomains".id <> 2053932785) LIMIT 1[0m
  [4;36;1mSubdomain Load (0.2ms)[0m   [0;1mSELECT * FROM "subdomains" WHERE ("subdomains"."domain_id" = 1 AND "subdomains"."mainsub" = 't') LIMIT 1[0m
  [4;35;1mSubdomain Load (0.2ms)[0m   [0mSELECT * FROM "subdomains" WHERE ("subdomains"."id" = 298486374) [0m
  [4;36;1mDomain Load (0.2ms)[0m   [0;1mSELECT * FROM "domains" WHERE ("domains"."id" = 1) [0m
  [4;35;1mSubdomain Load (0.1ms)[0m   [0mSELECT "subdomains".id FROM "subdomains" WHERE ("subdomains"."url" = 'test' AND "subdomains".domain_id = 1 AND "subdomains".id <> 298486374) LIMIT 1[0m
  [4;36;1mSubdomain Load (0.1ms)[0m   [0;1mSELECT "subdomains".id FROM "subdomains" WHERE ("subdomains"."path" = 'test-site' AND "subdomains".domain_id = 1 AND "subdomains".id <> 298486374) LIMIT 1[0m
  [4;35;1mSubdomain Load (0.2ms)[0m   [0mSELECT * FROM "subdomains" WHERE ("subdomains"."id" = 298486374) [0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT "users".id FROM "users" WHERE ("users"."username" = 'test1' AND "users".id <> 2) LIMIT 1[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT "users".id FROM "users" WHERE ("users"."username" = 'test_email') LIMIT 1[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT "users".id FROM "users" WHERE ("users"."username" = 'test_email') LIMIT 1[0m
  [4;35;1mUser Create (0.1ms)[0m   [0mINSERT INTO "users" ("max_bandwidth", "created_at", "max_space", "updated_at", "username", "used_space", "max_subusers", "full_name", "parent_id", "password", "email", "max_subdomains", "ohmd_password") VALUES(NULL, '2010-03-29 19:53:27', -1, '2010-03-29 19:53:27', 'test_email', 0, -1, NULL, 1, 'x', 'valid.with.dots_and-stuff@123.test.co.uk', -1, NULL)[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT "users".id FROM "users" WHERE ("users"."username" = 'test_email' AND "users".id <> 4) LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT "users".id FROM "users" WHERE ("users"."username" = 'test_email' AND "users".id <> 4) LIMIT 1[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT "users".id FROM "users" WHERE ("users"."username" = 'test_email' AND "users".id <> 4) LIMIT 1[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT "users".id FROM "users" WHERE ("users"."username" = 'test1' AND "users".id <> 2) LIMIT 1[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users".parent_id = 2) [0m
  [4;35;1mDomain Load (0.1ms)[0m   [0mSELECT * FROM "domains" WHERE ("domains".user_id = 2) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM "users" WHERE ("users".parent_id = 2) [0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT "users".id FROM "users" WHERE ("users"."username" = 'quota tester') LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM "users" WHERE ("users".parent_id = 2) [0m
  [4;35;1mService Load (0.1ms)[0m   [0mSELECT * FROM "services" INNER JOIN "services_users" ON "services".id = "services_users".service_id WHERE ("services_users".user_id = 2 ) [0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT "users".id FROM "users" WHERE ("users"."username" IS NULL) LIMIT 1[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT "users".id FROM "users" WHERE ("users"."username" = 'admin') LIMIT 1[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT "users".id FROM "users" WHERE ("users"."username" = 'nobody') LIMIT 1[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT "users".id FROM "users" WHERE ("users"."username" = 'test1' AND "users".id <> 2) LIMIT 1[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT "users".id FROM "users" WHERE ("users"."username" = 'test1') LIMIT 1[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT "users".id FROM "users" WHERE ("users"."username" = 'ohmadmin' AND "users".id <> 1) LIMIT 1[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT "users".id FROM "users" WHERE ("users"."username" = 'test1' AND "users".id <> 2) LIMIT 1[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 3) [0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT "users".id FROM "users" WHERE ("users"."username" = 'test2' AND "users".id <> 3) LIMIT 1[0m
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
  [4;35;1mLoggedUser Create (0.2ms)[0m   [0mINSERT INTO "logged_users" ("created_at", "session", "updated_at", "user_id", "ip", "session_ts") VALUES('2010-03-29 19:53:29', 'test session', '2010-03-29 19:53:29', 2, '0.0.0.0', '2010-03-29 19:53:29')[0m


Processing DashboardController#index (for 0.0.0.0 at 2010-03-29 21:53:29) [GET]
  Parameters: {"action"=>"index", "controller"=>"dashboard"}
  [4;36;1mLoggedUser Load (0.2ms)[0m   [0;1mSELECT * FROM "logged_users" WHERE ("logged_users"."ip" = '0.0.0.0' AND "logged_users"."session" = 'test session') LIMIT 1[0m
  [4;35;1mLoggedUser Update (0.1ms)[0m   [0mUPDATE "logged_users" SET "updated_at" = '2010-03-29 19:53:29', "session_ts" = '2010-03-29 19:53:29' WHERE "id" = 2053932786[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
Rendering template within layouts/ohm
Rendering dashboard/index
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM "users" WHERE ("users".parent_id = 2) [0m
  [4;36;1mDomain Load (0.1ms)[0m   [0;1mSELECT * FROM "domains" WHERE ("domains".user_id = 2) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM "domains" WHERE ("domains".user_id = 2) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM "services" INNER JOIN "services_users" ON "services".id = "services_users".service_id WHERE ("services_users".user_id = 2 ) [0m
  [4;35;1mService Load (0.1ms)[0m   [0mSELECT * FROM "services" INNER JOIN "services_users" ON "services".id = "services_users".service_id WHERE ("services_users".user_id = 2 ) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM "users" WHERE ("users".parent_id = 2) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM "users" WHERE ("users".parent_id = 2) [0m
Completed in 16ms (View: 11, DB: 4) | 200 OK [http://test.host/]


Processing DashboardController#index (for 0.0.0.0 at 2010-03-29 21:53:29) [GET]
  Parameters: {"action"=>"index", "controller"=>"dashboard"}
Redirected to http://test.host/login
Filter chain halted as [:authenticate] rendered_or_redirected.
Completed in 0ms (DB: 0) | 302 Found [http://test.host/]
  [4;36;1mUser Load (0.5ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mLoggedUser Create (0.1ms)[0m   [0mINSERT INTO "logged_users" ("created_at", "session", "updated_at", "user_id", "ip", "session_ts") VALUES('2010-03-29 19:53:29', 'test session', '2010-03-29 19:53:29', 1, '0.0.0.0', '2010-03-29 19:53:29')[0m
  [4;36;1mService Load (0.2ms)[0m   [0;1mSELECT * FROM "services" WHERE ("services"."id" = 2053932785) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mINSERT INTO "services_users" ("service_id", "user_id") VALUES (2053932785, 1)[0m
  [4;36;1mService Load (0.1ms)[0m   [0;1mSELECT "services".id FROM "services" WHERE ("services"."name" = 'Service 1' AND "services".id <> 2053932785) LIMIT 1[0m
  [4;35;1mService Load (0.1ms)[0m   [0mSELECT "services".id FROM "services" WHERE ("services"."controller" = 'service_test_1' AND "services".id <> 2053932785) LIMIT 1[0m
  [4;36;1mDomain Load (0.2ms)[0m   [0;1mSELECT * FROM "domains" WHERE ("domains"."id" = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM "services" INNER JOIN "domains_services" ON "services".id = "domains_services".service_id WHERE ("domains_services".domain_id = 1 ) [0m


Processing DomainsController#addservice (for 0.0.0.0 at 2010-03-29 21:53:29) [POST]
  Parameters: {"action"=>"addservice", "domain_id"=>"1", "service_id"=>[2053932785], "controller"=>"domains"}
  [4;36;1mLoggedUser Load (0.2ms)[0m   [0;1mSELECT * FROM "logged_users" WHERE ("logged_users"."ip" = '0.0.0.0' AND "logged_users"."session" = 'test session') LIMIT 1[0m
  [4;35;1mLoggedUser Update (0.1ms)[0m   [0mUPDATE "logged_users" SET "updated_at" = '2010-03-29 19:53:29', "session_ts" = '2010-03-29 19:53:29' WHERE "id" = 2053932786[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mDomain Load (0.1ms)[0m   [0mSELECT * FROM "domains" WHERE ("domains"."id" = 1) [0m
  [4;36;1mService Load (0.2ms)[0m   [0;1mSELECT * FROM "services" WHERE ("services"."id" = 2053932785) [0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT "users".id FROM "users" INNER JOIN "services_users" ON "users".id = "services_users".user_id WHERE ("users"."id" = 1) AND ("services_users".service_id = 2053932785 ) LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mINSERT INTO "domains_services" ("domain_id", "service_id") VALUES (1, 2053932785)[0m
  [4;36;1mDomain Load (0.1ms)[0m   [0;1mSELECT "domains".id FROM "domains" WHERE ("domains"."domain" = 'test.com' AND "domains".id <> 1) LIMIT 1[0m
Redirected to http://test.host/service_test_1/addtodomain?domain_id=1&service_id=2053932785
Completed in 10ms (DB: 3) | 302 Found [http://test.host/domains/addservice?domain_id=1&service_id%5B%5D=2053932785]
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM "services" INNER JOIN "domains_services" ON "services".id = "domains_services".service_id WHERE ("domains_services".domain_id = 1 ) [0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
  [4;35;1mLoggedUser Create (0.1ms)[0m   [0mINSERT INTO "logged_users" ("created_at", "session", "updated_at", "user_id", "ip", "session_ts") VALUES('2010-03-29 19:53:29', 'test session', '2010-03-29 19:53:29', 2, '0.0.0.0', '2010-03-29 19:53:29')[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM "domains" [0m


Processing DomainsController#create (for 0.0.0.0 at 2010-03-29 21:53:29) [POST]
  Parameters: {"action"=>"create", "domain"=>{"domain"=>"newdom.com"}, "controller"=>"domains"}
  [4;35;1mLoggedUser Load (0.2ms)[0m   [0mSELECT * FROM "logged_users" WHERE ("logged_users"."ip" = '0.0.0.0' AND "logged_users"."session" = 'test session') LIMIT 1[0m
  [4;36;1mLoggedUser Update (0.1ms)[0m   [0;1mUPDATE "logged_users" SET "updated_at" = '2010-03-29 19:53:29', "session_ts" = '2010-03-29 19:53:29' WHERE "id" = 2053932786[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
  [4;36;1mDomain Load (0.1ms)[0m   [0;1mSELECT "domains".id FROM "domains" WHERE ("domains"."domain" = 'newdom.com') LIMIT 1[0m
  [4;35;1mDomain Create (0.1ms)[0m   [0mINSERT INTO "domains" ("created_at", "updated_at", "domain", "user_id") VALUES('2010-03-29 19:53:29', '2010-03-29 19:53:29', 'newdom.com', 2)[0m
  [4;36;1mSubdomain Load (0.1ms)[0m   [0;1mSELECT "subdomains".id FROM "subdomains" WHERE ("subdomains"."url" = 'www' AND "subdomains".domain_id = 2) LIMIT 1[0m
  [4;35;1mSubdomain Load (0.1ms)[0m   [0mSELECT "subdomains".id FROM "subdomains" WHERE ("subdomains"."path" = 'www' AND "subdomains".domain_id = 2) LIMIT 1[0m
  [4;36;1mSubdomain Load (0.1ms)[0m   [0;1mSELECT * FROM "subdomains" WHERE ("subdomains"."mainsub" = 't' AND "subdomains"."domain_id" = 2) LIMIT 1[0m
  [4;35;1mSubdomain Create (0.1ms)[0m   [0mINSERT INTO "subdomains" ("created_at", "updated_at", "url", "domain_id", "path", "mainsub") VALUES('2010-03-29 19:53:29', '2010-03-29 19:53:29', 'www', 2, 'www', 't')[0m
Redirected to http://test.host/domains/2
Completed in 9ms (DB: 2) | 302 Found [http://test.host/domains?domain%5Bdomain%5D=newdom.com]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM "domains" [0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mLoggedUser Create (0.1ms)[0m   [0;1mINSERT INTO "logged_users" ("created_at", "session", "updated_at", "user_id", "ip", "session_ts") VALUES('2010-03-29 19:53:29', 'test session', '2010-03-29 19:53:29', 1, '0.0.0.0', '2010-03-29 19:53:29')[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM "domains" [0m
  [4;36;1mDomain Load (0.2ms)[0m   [0;1mSELECT * FROM "domains" WHERE ("domains"."id" = 1) [0m


Processing DomainsController#destroy (for 0.0.0.0 at 2010-03-29 21:53:29) [DELETE]
  Parameters: {"action"=>"destroy", "id"=>"1", "controller"=>"domains"}
  [4;35;1mLoggedUser Load (0.2ms)[0m   [0mSELECT * FROM "logged_users" WHERE ("logged_users"."ip" = '0.0.0.0' AND "logged_users"."session" = 'test session') LIMIT 1[0m
  [4;36;1mLoggedUser Update (0.1ms)[0m   [0;1mUPDATE "logged_users" SET "updated_at" = '2010-03-29 19:53:29', "session_ts" = '2010-03-29 19:53:29' WHERE "id" = 2053932786[0m
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mDomain Load (0.2ms)[0m   [0;1mSELECT * FROM "domains" WHERE ("domains"."id" = 1) [0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mSubdomain Load (0.3ms)[0m   [0;1mSELECT * FROM "subdomains" WHERE ("subdomains".domain_id = 1) [0m
  [4;35;1mSubdomain Destroy (0.1ms)[0m   [0mDELETE FROM "subdomains" WHERE "id" = 298486374[0m
  [4;36;1mSubdomain Destroy (0.1ms)[0m   [0;1mDELETE FROM "subdomains" WHERE "id" = 2053932785[0m
  [4;35;1mSubdomain Destroy (0.1ms)[0m   [0mDELETE FROM "subdomains" WHERE "id" = 298486374[0m
  [4;36;1mSubdomain Destroy (0.1ms)[0m   [0;1mDELETE FROM "subdomains" WHERE "id" = 2053932785[0m
  [4;35;1mService Load (0.1ms)[0m   [0mSELECT * FROM "services" INNER JOIN "domains_services" ON "services".id = "domains_services".service_id WHERE ("domains_services".domain_id = 1 ) [0m
  [4;36;1mDomain Destroy (0.1ms)[0m   [0;1mDELETE FROM "domains" WHERE "id" = 1[0m
Redirected to http://test.host/domains
Completed in 53ms (DB: 3) | 302 Found [http://test.host/domains/1]
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM "domains" [0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
  [4;35;1mLoggedUser Create (0.1ms)[0m   [0mINSERT INTO "logged_users" ("created_at", "session", "updated_at", "user_id", "ip", "session_ts") VALUES('2010-03-29 19:53:29', 'test session', '2010-03-29 19:53:29', 2, '0.0.0.0', '2010-03-29 19:53:29')[0m


Processing DomainsController#index (for 0.0.0.0 at 2010-03-29 21:53:29) [GET]
  Parameters: {"action"=>"index", "controller"=>"domains"}
  [4;36;1mLoggedUser Load (0.2ms)[0m   [0;1mSELECT * FROM "logged_users" WHERE ("logged_users"."ip" = '0.0.0.0' AND "logged_users"."session" = 'test session') LIMIT 1[0m
  [4;35;1mLoggedUser Update (0.1ms)[0m   [0mUPDATE "logged_users" SET "updated_at" = '2010-03-29 19:53:29', "session_ts" = '2010-03-29 19:53:29' WHERE "id" = 2053932786[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
Rendering template within layouts/ohm
Rendering domains/index
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM "domains" WHERE ("domains".user_id = 2) [0m
  [4;36;1mDomain Load (0.1ms)[0m   [0;1mSELECT * FROM "domains" WHERE ("domains".user_id = 2) [0m
  [4;35;1mService Load (0.1ms)[0m   [0mSELECT * FROM "services" INNER JOIN "services_users" ON "services".id = "services_users".service_id WHERE ("services_users".user_id = 2 ) [0m
Completed in 8ms (View: 5, DB: 1) | 200 OK [http://test.host/domains]


Processing DomainsController#index (for 0.0.0.0 at 2010-03-29 21:53:29) [GET]
  Parameters: {"action"=>"index", "controller"=>"domains"}
Redirected to http://test.host/login
Filter chain halted as [:authenticate] rendered_or_redirected.
Completed in 0ms (DB: 0) | 302 Found [http://test.host/domains]
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
  [4;35;1mLoggedUser Create (0.1ms)[0m   [0mINSERT INTO "logged_users" ("created_at", "session", "updated_at", "user_id", "ip", "session_ts") VALUES('2010-03-29 19:53:29', 'test session', '2010-03-29 19:53:29', 2, '0.0.0.0', '2010-03-29 19:53:29')[0m


Processing DomainsController#new (for 0.0.0.0 at 2010-03-29 21:53:29) [GET]
  Parameters: {"action"=>"new", "controller"=>"domains"}
  [4;36;1mLoggedUser Load (0.2ms)[0m   [0;1mSELECT * FROM "logged_users" WHERE ("logged_users"."ip" = '0.0.0.0' AND "logged_users"."session" = 'test session') LIMIT 1[0m
  [4;35;1mLoggedUser Update (0.1ms)[0m   [0mUPDATE "logged_users" SET "updated_at" = '2010-03-29 19:53:29', "session_ts" = '2010-03-29 19:53:29' WHERE "id" = 2053932786[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
Rendering template within layouts/ohm
Rendering domains/new
  [4;35;1mService Load (0.1ms)[0m   [0mSELECT * FROM "services" INNER JOIN "services_users" ON "services".id = "services_users".service_id WHERE ("services_users".user_id = 2 ) [0m
Completed in 7ms (View: 5, DB: 1) | 200 OK [http://test.host/domains/new]
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
  [4;35;1mLoggedUser Create (0.1ms)[0m   [0mINSERT INTO "logged_users" ("created_at", "session", "updated_at", "user_id", "ip", "session_ts") VALUES('2010-03-29 19:53:29', 'test session', '2010-03-29 19:53:29', 2, '0.0.0.0', '2010-03-29 19:53:29')[0m
  [4;36;1mService Load (0.2ms)[0m   [0;1mSELECT * FROM "services" WHERE ("services"."id" = 2053932785) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mINSERT INTO "services_users" ("service_id", "user_id") VALUES (2053932785, 2)[0m
  [4;36;1mService Load (0.1ms)[0m   [0;1mSELECT "services".id FROM "services" WHERE ("services"."name" = 'Service 1' AND "services".id <> 2053932785) LIMIT 1[0m
  [4;35;1mService Load (0.1ms)[0m   [0mSELECT "services".id FROM "services" WHERE ("services"."controller" = 'service_test_1' AND "services".id <> 2053932785) LIMIT 1[0m
  [4;36;1mDomain Load (0.2ms)[0m   [0;1mSELECT * FROM "domains" WHERE ("domains"."id" = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM "services" INNER JOIN "domains_services" ON "services".id = "domains_services".service_id WHERE ("domains_services".domain_id = 1 ) [0m


Processing DomainsController#addservice (for 0.0.0.0 at 2010-03-29 21:53:29) [POST]
  Parameters: {"action"=>"addservice", "domain_id"=>"1", "service_id"=>[2053932785], "controller"=>"domains"}
  [4;36;1mLoggedUser Load (0.2ms)[0m   [0;1mSELECT * FROM "logged_users" WHERE ("logged_users"."ip" = '0.0.0.0' AND "logged_users"."session" = 'test session') LIMIT 1[0m
  [4;35;1mLoggedUser Update (0.1ms)[0m   [0mUPDATE "logged_users" SET "updated_at" = '2010-03-29 19:53:29', "session_ts" = '2010-03-29 19:53:29' WHERE "id" = 2053932786[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
  [4;35;1mDomain Load (0.1ms)[0m   [0mSELECT * FROM "domains" WHERE ("domains"."id" = 1) [0m
  [4;36;1mService Load (0.2ms)[0m   [0;1mSELECT * FROM "services" WHERE ("services"."id" = 2053932785) [0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
Redirected to http://test.host/domains
Completed in 4ms (DB: 2) | 302 Found [http://test.host/domains/addservice?domain_id=1&service_id%5B%5D=2053932785]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM "services" INNER JOIN "domains_services" ON "services".id = "domains_services".service_id WHERE ("domains_services".domain_id = 1 ) [0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
  [4;36;1mLoggedUser Create (0.1ms)[0m   [0;1mINSERT INTO "logged_users" ("created_at", "session", "updated_at", "user_id", "ip", "session_ts") VALUES('2010-03-29 19:53:29', 'test session', '2010-03-29 19:53:29', 2, '0.0.0.0', '2010-03-29 19:53:29')[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM "domains" [0m
  [4;36;1mDomain Load (0.1ms)[0m   [0;1mSELECT * FROM "domains" WHERE ("domains"."id" = 1) [0m


Processing DomainsController#destroy (for 0.0.0.0 at 2010-03-29 21:53:29) [DELETE]
  Parameters: {"action"=>"destroy", "id"=>"1", "controller"=>"domains"}
  [4;35;1mLoggedUser Load (0.2ms)[0m   [0mSELECT * FROM "logged_users" WHERE ("logged_users"."ip" = '0.0.0.0' AND "logged_users"."session" = 'test session') LIMIT 1[0m
  [4;36;1mLoggedUser Update (0.1ms)[0m   [0;1mUPDATE "logged_users" SET "updated_at" = '2010-03-29 19:53:29', "session_ts" = '2010-03-29 19:53:29' WHERE "id" = 2053932786[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
  [4;36;1mDomain Load (0.1ms)[0m   [0;1mSELECT * FROM "domains" WHERE ("domains"."id" = 1) [0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
Redirected to http://test.host/domains
Completed in 3ms (DB: 2) | 302 Found [http://test.host/domains/1]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM "domains" [0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
  [4;36;1mLoggedUser Create (0.1ms)[0m   [0;1mINSERT INTO "logged_users" ("created_at", "session", "updated_at", "user_id", "ip", "session_ts") VALUES('2010-03-29 19:53:29', 'test session', '2010-03-29 19:53:29', 2, '0.0.0.0', '2010-03-29 19:53:29')[0m
  [4;35;1mDomain Load (0.2ms)[0m   [0mSELECT * FROM "domains" WHERE ("domains"."id" = 1) [0m


Processing DomainsController#show (for 0.0.0.0 at 2010-03-29 21:53:29) [GET]
  Parameters: {"action"=>"show", "id"=>"1", "controller"=>"domains"}
  [4;36;1mLoggedUser Load (0.2ms)[0m   [0;1mSELECT * FROM "logged_users" WHERE ("logged_users"."ip" = '0.0.0.0' AND "logged_users"."session" = 'test session') LIMIT 1[0m
  [4;35;1mLoggedUser Update (0.1ms)[0m   [0mUPDATE "logged_users" SET "updated_at" = '2010-03-29 19:53:29', "session_ts" = '2010-03-29 19:53:29' WHERE "id" = 2053932786[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
  [4;35;1mDomain Load (0.2ms)[0m   [0mSELECT * FROM "domains" WHERE ("domains"."id" = 1) [0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
Redirected to http://test.host/domains
Completed in 4ms (DB: 2) | 302 Found [http://test.host/domains/1]
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mLoggedUser Create (0.1ms)[0m   [0;1mINSERT INTO "logged_users" ("created_at", "session", "updated_at", "user_id", "ip", "session_ts") VALUES('2010-03-29 19:53:29', 'test session', '2010-03-29 19:53:29', 1, '0.0.0.0', '2010-03-29 19:53:29')[0m
  [4;35;1mDomain Load (0.2ms)[0m   [0mSELECT * FROM "domains" WHERE ("domains"."id" = 1) [0m


Processing DomainsController#show (for 0.0.0.0 at 2010-03-29 21:53:29) [GET]
  Parameters: {"action"=>"show", "id"=>"1", "controller"=>"domains"}
  [4;36;1mLoggedUser Load (0.2ms)[0m   [0;1mSELECT * FROM "logged_users" WHERE ("logged_users"."ip" = '0.0.0.0' AND "logged_users"."session" = 'test session') LIMIT 1[0m
  [4;35;1mLoggedUser Update (0.1ms)[0m   [0mUPDATE "logged_users" SET "updated_at" = '2010-03-29 19:53:29', "session_ts" = '2010-03-29 19:53:29' WHERE "id" = 2053932786[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mDomain Load (0.1ms)[0m   [0mSELECT * FROM "domains" WHERE ("domains"."id" = 1) [0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
Rendering template within layouts/ohm
Rendering domains/show
  [4;35;1mSubdomain Load (0.3ms)[0m   [0mSELECT * FROM "subdomains" WHERE ("subdomains".domain_id = 1) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM "services" INNER JOIN "domains_services" ON "services".id = "domains_services".service_id WHERE ("domains_services".domain_id = 1 ) [0m
  [4;35;1mService Load (0.1ms)[0m   [0mSELECT * FROM "services" INNER JOIN "domains_services" ON "services".id = "domains_services".service_id WHERE ("domains_services".domain_id = 1 ) [0m
  [4;36;1mService Load (0.1ms)[0m   [0;1mSELECT * FROM "services" INNER JOIN "services_users" ON "services".id = "services_users".service_id WHERE ("services_users".user_id = 1 ) [0m
Rendered domains/_domain (15.1ms)
Completed in 22ms (View: 18, DB: 2) | 200 OK [http://test.host/domains/1]
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m


Processing LoginController#login (for 0.0.0.0 at 2010-03-29 21:53:29) [POST]
  Parameters: {"action"=>"login", "controller"=>"login", "user"=>#<User id: 2, username: "test1", password: "bad password", full_name: "Test User 1", email: "test1@test.com", parent_id: 1, created_at: "2010-03-29 19:53:28", updated_at: "2010-03-29 19:53:28", max_subdomains: 5, max_space: 500, max_bandwidth: nil, max_subusers: 5, used_space: 100, ohmd_password: nil>}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."username" = 'test1') LIMIT 1[0m
Redirected to http://test.host/login
Completed in 3ms (DB: 1) | 302 Found [http://test.host/login/login?user=2]
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m


Processing LoginController#login (for 0.0.0.0 at 2010-03-29 21:53:29) [POST]
  Parameters: {"action"=>"login", "controller"=>"login", "user"=>#<User id: 2, username: "test1", password: "test1", full_name: "Test User 1", email: "test1@test.com", parent_id: 1, created_at: "2010-03-29 19:53:28", updated_at: "2010-03-29 19:53:28", max_subdomains: 5, max_space: 500, max_bandwidth: nil, max_subusers: 5, used_space: 100, ohmd_password: nil>}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."username" = 'test1') LIMIT 1[0m
  [4;35;1mLoggedUser Create (0.1ms)[0m   [0mINSERT INTO "logged_users" ("created_at", "session", "updated_at", "user_id", "ip", "session_ts") VALUES('2010-03-29 19:53:29', '22235c7a812749ddb23e091abb903b1f', '2010-03-29 19:53:29', 2, '0.0.0.0', '2010-03-29 19:53:29')[0m
Redirected to http://test.host/
Completed in 3ms (DB: 1) | 302 Found [http://test.host/login/login?user=2]


Processing LoginController#index (for 0.0.0.0 at 2010-03-29 21:53:29) [GET]
  Parameters: {"action"=>"index", "controller"=>"login"}
  [4;36;1mUser Load (0.6ms)[0m   [0;1mSELECT * FROM "users" [0m
Rendering template within layouts/ohm
Rendering login/index
Completed in 5ms (View: 4, DB: 1) | 200 OK [http://test.host/login]
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mLoggedUser Create (0.1ms)[0m   [0;1mINSERT INTO "logged_users" ("created_at", "session", "updated_at", "user_id", "ip", "session_ts") VALUES('2010-03-29 19:53:29', 'test session', '2010-03-29 19:53:29', 1, '0.0.0.0', '2010-03-29 19:53:29')[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM "services" [0m
  [4;36;1mService Load (0.2ms)[0m   [0;1mSELECT * FROM "services" WHERE ("services"."id" = 2053932785) [0m


Processing ServicesController#destroy (for 0.0.0.0 at 2010-03-29 21:53:29) [DELETE]
  Parameters: {"action"=>"destroy", "id"=>"2053932785", "controller"=>"services"}
  [4;35;1mLoggedUser Load (0.2ms)[0m   [0mSELECT * FROM "logged_users" WHERE ("logged_users"."ip" = '0.0.0.0' AND "logged_users"."session" = 'test session') LIMIT 1[0m
  [4;36;1mLoggedUser Update (0.1ms)[0m   [0;1mUPDATE "logged_users" SET "updated_at" = '2010-03-29 19:53:29', "session_ts" = '2010-03-29 19:53:29' WHERE "id" = 2053932786[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mService Load (0.2ms)[0m   [0;1mSELECT * FROM "services" WHERE ("services"."id" = 2053932785) [0m
  [4;35;1mService Update (0.1ms)[0m   [0mUPDATE "services" SET "updated_at" = '2010-03-29 19:53:29', "deleted" = 't' WHERE "id" = 2053932785[0m
Redirected to http://test.host/services
Completed in 6ms (DB: 2) | 302 Found [http://test.host/services/2053932785]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM "services" [0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mLoggedUser Create (0.2ms)[0m   [0;1mINSERT INTO "logged_users" ("created_at", "session", "updated_at", "user_id", "ip", "session_ts") VALUES('2010-03-29 19:53:29', 'test session', '2010-03-29 19:53:29', 1, '0.0.0.0', '2010-03-29 19:53:29')[0m


Processing ServicesController#index (for 0.0.0.0 at 2010-03-29 21:53:29) [GET]
  Parameters: {"action"=>"index", "controller"=>"services"}
  [4;35;1mLoggedUser Load (0.3ms)[0m   [0mSELECT * FROM "logged_users" WHERE ("logged_users"."ip" = '0.0.0.0' AND "logged_users"."session" = 'test session') LIMIT 1[0m
  [4;36;1mLoggedUser Update (0.1ms)[0m   [0;1mUPDATE "logged_users" SET "updated_at" = '2010-03-29 19:53:29', "session_ts" = '2010-03-29 19:53:29' WHERE "id" = 2053932786[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mService Load (0.3ms)[0m   [0;1mSELECT * FROM "services" [0m
Rendering template within layouts/ohm
Rendering services/index
  [4;35;1mService Load (0.1ms)[0m   [0mSELECT * FROM "services" INNER JOIN "services_users" ON "services".id = "services_users".service_id WHERE ("services_users".user_id = 1 ) [0m
Completed in 8ms (View: 5, DB: 2) | 200 OK [http://test.host/services]


Processing ServicesController#index (for 0.0.0.0 at 2010-03-29 21:53:29) [GET]
  Parameters: {"action"=>"index", "controller"=>"services"}
Redirected to http://test.host/login
Filter chain halted as [:authenticate_root] rendered_or_redirected.
Completed in 0ms (DB: 0) | 302 Found [http://test.host/services]
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mLoggedUser Create (0.1ms)[0m   [0mINSERT INTO "logged_users" ("created_at", "session", "updated_at", "user_id", "ip", "session_ts") VALUES('2010-03-29 19:53:29', 'test session', '2010-03-29 19:53:29', 1, '0.0.0.0', '2010-03-29 19:53:29')[0m


Processing ServicesController#new (for 0.0.0.0 at 2010-03-29 21:53:29) [GET]
  Parameters: {"action"=>"new", "controller"=>"services"}
  [4;36;1mLoggedUser Load (0.2ms)[0m   [0;1mSELECT * FROM "logged_users" WHERE ("logged_users"."ip" = '0.0.0.0' AND "logged_users"."session" = 'test session') LIMIT 1[0m
  [4;35;1mLoggedUser Update (0.1ms)[0m   [0mUPDATE "logged_users" SET "updated_at" = '2010-03-29 19:53:29', "session_ts" = '2010-03-29 19:53:29' WHERE "id" = 2053932786[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
  [4;36;1mLoggedUser Create (0.1ms)[0m   [0;1mINSERT INTO "logged_users" ("created_at", "session", "updated_at", "user_id", "ip", "session_ts") VALUES('2010-03-29 19:53:29', 'test session', '2010-03-29 19:53:29', 2, '0.0.0.0', '2010-03-29 19:53:29')[0m


Processing ServicesController#index (for 0.0.0.0 at 2010-03-29 21:53:29) [GET]
  Parameters: {"action"=>"index", "controller"=>"services"}
  [4;35;1mLoggedUser Load (0.2ms)[0m   [0mSELECT * FROM "logged_users" WHERE ("logged_users"."ip" = '0.0.0.0' AND "logged_users"."session" = 'test session') LIMIT 1[0m
  [4;36;1mLoggedUser Update (0.1ms)[0m   [0;1mUPDATE "logged_users" SET "updated_at" = '2010-03-29 19:53:29', "session_ts" = '2010-03-29 19:53:29' WHERE "id" = 2053932786[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
Redirected to http://test.host/
Filter chain halted as [:authenticate_root] rendered_or_redirected.
Completed in 2ms (DB: 1) | 302 Found [http://test.host/services]
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
  [4;35;1mLoggedUser Create (0.1ms)[0m   [0mINSERT INTO "logged_users" ("created_at", "session", "updated_at", "user_id", "ip", "session_ts") VALUES('2010-03-29 19:53:29', 'test session', '2010-03-29 19:53:29', 2, '0.0.0.0', '2010-03-29 19:53:29')[0m


Processing ServicesController#new (for 0.0.0.0 at 2010-03-29 21:53:29) [GET]
  Parameters: {"action"=>"new", "controller"=>"services"}
  [4;36;1mLoggedUser Load (0.2ms)[0m   [0;1mSELECT * FROM "logged_users" WHERE ("logged_users"."ip" = '0.0.0.0' AND "logged_users"."session" = 'test session') LIMIT 1[0m
  [4;35;1mLoggedUser Update (0.1ms)[0m   [0mUPDATE "logged_users" SET "updated_at" = '2010-03-29 19:53:29', "session_ts" = '2010-03-29 19:53:29' WHERE "id" = 2053932786[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
Redirected to http://test.host/
Filter chain halted as [:authenticate_root] rendered_or_redirected.
Completed in 2ms (DB: 1) | 302 Found [http://test.host/services/new]
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
  [4;36;1mLoggedUser Create (0.1ms)[0m   [0;1mINSERT INTO "logged_users" ("created_at", "session", "updated_at", "user_id", "ip", "session_ts") VALUES('2010-03-29 19:53:29', 'test session', '2010-03-29 19:53:29', 2, '0.0.0.0', '2010-03-29 19:53:29')[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM "services" [0m
  [4;36;1mService Load (0.2ms)[0m   [0;1mSELECT * FROM "services" WHERE ("services"."id" = 2053932785) [0m


Processing ServicesController#destroy (for 0.0.0.0 at 2010-03-29 21:53:29) [DELETE]
  Parameters: {"action"=>"destroy", "id"=>"2053932785", "controller"=>"services"}
  [4;35;1mLoggedUser Load (0.2ms)[0m   [0mSELECT * FROM "logged_users" WHERE ("logged_users"."ip" = '0.0.0.0' AND "logged_users"."session" = 'test session') LIMIT 1[0m
  [4;36;1mLoggedUser Update (0.1ms)[0m   [0;1mUPDATE "logged_users" SET "updated_at" = '2010-03-29 19:53:29', "session_ts" = '2010-03-29 19:53:29' WHERE "id" = 2053932786[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
Redirected to http://test.host/
Filter chain halted as [:authenticate_root] rendered_or_redirected.
Completed in 3ms (DB: 1) | 302 Found [http://test.host/services/2053932785]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM "services" [0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mLoggedUser Create (0.1ms)[0m   [0;1mINSERT INTO "logged_users" ("created_at", "session", "updated_at", "user_id", "ip", "session_ts") VALUES('2010-03-29 19:53:29', 'test session', '2010-03-29 19:53:29', 1, '0.0.0.0', '2010-03-29 19:53:29')[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM "subdomains" [0m
  [4;36;1mDomain Load (0.2ms)[0m   [0;1mSELECT * FROM "domains" WHERE ("domains"."id" = 1) [0m


Processing SubdomainsController#create (for 0.0.0.0 at 2010-03-29 21:53:29) [POST]
  Parameters: {"action"=>"create", "subdomain"=>{"url"=>"newsub", "domain"=>#<Domain id: 1, domain: "test.com", user_id: 1, created_at: "2010-03-29 19:53:28", updated_at: "2010-03-29 19:53:28">}, "controller"=>"subdomains"}
  [4;35;1mLoggedUser Load (0.2ms)[0m   [0mSELECT * FROM "logged_users" WHERE ("logged_users"."ip" = '0.0.0.0' AND "logged_users"."session" = 'test session') LIMIT 1[0m
  [4;36;1mLoggedUser Update (0.1ms)[0m   [0;1mUPDATE "logged_users" SET "updated_at" = '2010-03-29 19:53:29', "session_ts" = '2010-03-29 19:53:29' WHERE "id" = 2053932786[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mSubdomain Load (0.1ms)[0m   [0mSELECT "subdomains".id FROM "subdomains" WHERE ("subdomains"."url" = 'newsub' AND "subdomains".domain_id = 1) LIMIT 1[0m
  [4;36;1mSubdomain Load (0.1ms)[0m   [0;1mSELECT "subdomains".id FROM "subdomains" WHERE ("subdomains"."path" IS NULL AND "subdomains".domain_id = 1) LIMIT 1[0m
  [4;35;1mSubdomain Create (0.1ms)[0m   [0mINSERT INTO "subdomains" ("created_at", "updated_at", "url", "domain_id", "path", "mainsub") VALUES('2010-03-29 19:53:29', '2010-03-29 19:53:29', 'newsub', 1, NULL, 'f')[0m
Redirected to http://test.host/domains/1
Completed in 7ms (DB: 2) | 302 Found [http://test.host/subdomains?subdomain%5Bdomain%5D=1&subdomain%5Burl%5D=newsub]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM "subdomains" [0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mLoggedUser Create (0.1ms)[0m   [0;1mINSERT INTO "logged_users" ("created_at", "session", "updated_at", "user_id", "ip", "session_ts") VALUES('2010-03-29 19:53:29', 'test session', '2010-03-29 19:53:29', 1, '0.0.0.0', '2010-03-29 19:53:29')[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM "subdomains" [0m
  [4;36;1mSubdomain Load (0.2ms)[0m   [0;1mSELECT * FROM "subdomains" WHERE ("subdomains"."id" = 2053932785) [0m


Processing SubdomainsController#destroy (for 0.0.0.0 at 2010-03-29 21:53:29) [DELETE]
  Parameters: {"action"=>"destroy", "id"=>"2053932785", "controller"=>"subdomains"}
  [4;35;1mLoggedUser Load (0.2ms)[0m   [0mSELECT * FROM "logged_users" WHERE ("logged_users"."ip" = '0.0.0.0' AND "logged_users"."session" = 'test session') LIMIT 1[0m
  [4;36;1mLoggedUser Update (0.1ms)[0m   [0;1mUPDATE "logged_users" SET "updated_at" = '2010-03-29 19:53:29', "session_ts" = '2010-03-29 19:53:29' WHERE "id" = 2053932786[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mSubdomain Load (0.2ms)[0m   [0;1mSELECT * FROM "subdomains" WHERE ("subdomains"."id" = 2053932785) [0m
  [4;35;1mDomain Load (0.2ms)[0m   [0mSELECT * FROM "domains" WHERE ("domains"."id" = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM "subdomains" WHERE ("subdomains".domain_id = 1) [0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mSubdomain Load (0.2ms)[0m   [0;1mSELECT * FROM "subdomains" WHERE ("subdomains".domain_id = 1) [0m
  [4;35;1mSubdomain Update (0.1ms)[0m   [0mUPDATE "subdomains" SET "updated_at" = '2010-03-29 19:53:29', "mainsub" = 't' WHERE "id" = 298486374[0m
  [4;36;1mSubdomain Destroy (0.1ms)[0m   [0;1mDELETE FROM "subdomains" WHERE "id" = 2053932785[0m
Redirected to http://test.host/domains/1
Completed in 7ms (DB: 2) | 302 Found [http://test.host/subdomains/2053932785]
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM "subdomains" [0m
  [4;36;1mDomain Load (0.1ms)[0m   [0;1mSELECT * FROM "domains" WHERE ("domains"."id" = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM "subdomains" [0m
  [4;36;1mSubdomain Load (0.2ms)[0m   [0;1mSELECT * FROM "subdomains" WHERE ("subdomains"."id" = 298486374) [0m


Processing SubdomainsController#destroy (for 0.0.0.0 at 2010-03-29 21:53:29) [DELETE]
  Parameters: {"action"=>"destroy", "id"=>"298486374", "controller"=>"subdomains"}
  [4;35;1mLoggedUser Load (0.3ms)[0m   [0mSELECT * FROM "logged_users" WHERE ("logged_users"."ip" = '0.0.0.0' AND "logged_users"."session" = 'test session') LIMIT 1[0m
  [4;36;1mLoggedUser Update (0.1ms)[0m   [0;1mUPDATE "logged_users" SET "updated_at" = '2010-03-29 19:53:29', "session_ts" = '2010-03-29 19:53:29' WHERE "id" = 2053932786[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mSubdomain Load (0.2ms)[0m   [0;1mSELECT * FROM "subdomains" WHERE ("subdomains"."id" = 298486374) [0m
  [4;35;1mDomain Load (0.2ms)[0m   [0mSELECT * FROM "domains" WHERE ("domains"."id" = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM "subdomains" WHERE ("subdomains".domain_id = 1) [0m
Redirected to http://test.host/domains/1
Completed in 14ms (DB: 2) | 302 Found [http://test.host/subdomains/2053932785]
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM "subdomains" [0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mLoggedUser Create (0.1ms)[0m   [0mINSERT INTO "logged_users" ("created_at", "session", "updated_at", "user_id", "ip", "session_ts") VALUES('2010-03-29 19:53:29', 'test session', '2010-03-29 19:53:29', 1, '0.0.0.0', '2010-03-29 19:53:29')[0m
  [4;36;1mSubdomain Load (0.2ms)[0m   [0;1mSELECT * FROM "subdomains" WHERE ("subdomains"."id" = 2053932785) [0m


Processing SubdomainsController#edit (for 0.0.0.0 at 2010-03-29 21:53:29) [GET]
  Parameters: {"action"=>"edit", "id"=>"2053932785", "controller"=>"subdomains"}
  [4;35;1mLoggedUser Load (0.3ms)[0m   [0mSELECT * FROM "logged_users" WHERE ("logged_users"."ip" = '0.0.0.0' AND "logged_users"."session" = 'test session') LIMIT 1[0m
  [4;36;1mLoggedUser Update (0.1ms)[0m   [0;1mUPDATE "logged_users" SET "updated_at" = '2010-03-29 19:53:29', "session_ts" = '2010-03-29 19:53:29' WHERE "id" = 2053932786[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mSubdomain Load (0.2ms)[0m   [0;1mSELECT * FROM "subdomains" WHERE ("subdomains"."id" = 2053932785) [0m
  [4;35;1mDomain Load (0.2ms)[0m   [0mSELECT * FROM "domains" WHERE ("domains"."id" = 1) [0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
Rendering template within layouts/ohm
Rendering subdomains/edit
  [4;35;1mService Load (0.1ms)[0m   [0mSELECT * FROM "services" INNER JOIN "services_users" ON "services".id = "services_users".service_id WHERE ("services_users".user_id = 1 ) [0m
Completed in 12ms (View: 7, DB: 2) | 200 OK [http://test.host/subdomains/2053932785/edit]


Processing SubdomainsController#index (for 0.0.0.0 at 2010-03-29 21:53:29) [GET]
  Parameters: {"action"=>"index", "controller"=>"subdomains"}
Redirected to http://test.host/login
Filter chain halted as [:authenticate] rendered_or_redirected.
Completed in 0ms (DB: 0) | 302 Found [http://test.host/subdomains]
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mLoggedUser Create (0.1ms)[0m   [0mINSERT INTO "logged_users" ("created_at", "session", "updated_at", "user_id", "ip", "session_ts") VALUES('2010-03-29 19:53:29', 'test session', '2010-03-29 19:53:29', 1, '0.0.0.0', '2010-03-29 19:53:29')[0m
  [4;36;1mDomain Load (0.2ms)[0m   [0;1mSELECT * FROM "domains" WHERE ("domains"."id" = 1) [0m


Processing SubdomainsController#new (for 0.0.0.0 at 2010-03-29 21:53:29) [GET]
  Parameters: {"action"=>"new", "domain"=>"1", "controller"=>"subdomains"}
  [4;35;1mLoggedUser Load (0.2ms)[0m   [0mSELECT * FROM "logged_users" WHERE ("logged_users"."ip" = '0.0.0.0' AND "logged_users"."session" = 'test session') LIMIT 1[0m
  [4;36;1mLoggedUser Update (0.1ms)[0m   [0;1mUPDATE "logged_users" SET "updated_at" = '2010-03-29 19:53:29', "session_ts" = '2010-03-29 19:53:29' WHERE "id" = 2053932786[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mDomain Load (0.2ms)[0m   [0;1mSELECT * FROM "domains" WHERE ("domains"."id" = 1) [0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
Rendering template within layouts/ohm
Rendering subdomains/new
  [4;36;1mService Load (0.1ms)[0m   [0;1mSELECT * FROM "services" INNER JOIN "services_users" ON "services".id = "services_users".service_id WHERE ("services_users".user_id = 1 ) [0m
Completed in 11ms (View: 7, DB: 2) | 200 OK [http://test.host/subdomains/new?domain=1]
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
  [4;36;1mLoggedUser Create (0.1ms)[0m   [0;1mINSERT INTO "logged_users" ("created_at", "session", "updated_at", "user_id", "ip", "session_ts") VALUES('2010-03-29 19:53:29', 'test session', '2010-03-29 19:53:29', 2, '0.0.0.0', '2010-03-29 19:53:29')[0m
  [4;35;1mDomain Load (0.2ms)[0m   [0mSELECT * FROM "domains" WHERE ("domains"."id" = 1) [0m


Processing SubdomainsController#new (for 0.0.0.0 at 2010-03-29 21:53:29) [GET]
  Parameters: {"action"=>"new", "domain"=>"1", "controller"=>"subdomains"}
  [4;36;1mLoggedUser Load (0.2ms)[0m   [0;1mSELECT * FROM "logged_users" WHERE ("logged_users"."ip" = '0.0.0.0' AND "logged_users"."session" = 'test session') LIMIT 1[0m
  [4;35;1mLoggedUser Update (0.1ms)[0m   [0mUPDATE "logged_users" SET "updated_at" = '2010-03-29 19:53:29', "session_ts" = '2010-03-29 19:53:29' WHERE "id" = 2053932786[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
  [4;35;1mDomain Load (0.1ms)[0m   [0mSELECT * FROM "domains" WHERE ("domains"."id" = 1) [0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
Redirected to http://test.host/domains
Completed in 4ms (DB: 2) | 302 Found [http://test.host/subdomains/new?domain=1]
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
  [4;36;1mLoggedUser Create (0.1ms)[0m   [0;1mINSERT INTO "logged_users" ("created_at", "session", "updated_at", "user_id", "ip", "session_ts") VALUES('2010-03-29 19:53:29', 'test session', '2010-03-29 19:53:29', 2, '0.0.0.0', '2010-03-29 19:53:29')[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM "subdomains" [0m
  [4;36;1mDomain Load (0.2ms)[0m   [0;1mSELECT * FROM "domains" WHERE ("domains"."id" = 1) [0m


Processing SubdomainsController#create (for 0.0.0.0 at 2010-03-29 21:53:29) [POST]
  Parameters: {"action"=>"create", "subdomain"=>{"url"=>"newsub", "domain"=>#<Domain id: 1, domain: "test.com", user_id: 1, created_at: "2010-03-29 19:53:28", updated_at: "2010-03-29 19:53:28">}, "controller"=>"subdomains"}
  [4;35;1mLoggedUser Load (0.2ms)[0m   [0mSELECT * FROM "logged_users" WHERE ("logged_users"."ip" = '0.0.0.0' AND "logged_users"."session" = 'test session') LIMIT 1[0m
  [4;36;1mLoggedUser Update (0.1ms)[0m   [0;1mUPDATE "logged_users" SET "updated_at" = '2010-03-29 19:53:29', "session_ts" = '2010-03-29 19:53:29' WHERE "id" = 2053932786[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
Redirected to http://test.host/domains
Completed in 3ms (DB: 1) | 302 Found [http://test.host/subdomains?subdomain%5Bdomain%5D=1&subdomain%5Burl%5D=newsub]
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM "subdomains" [0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
  [4;35;1mLoggedUser Create (0.1ms)[0m   [0mINSERT INTO "logged_users" ("created_at", "session", "updated_at", "user_id", "ip", "session_ts") VALUES('2010-03-29 19:53:29', 'test session', '2010-03-29 19:53:29', 2, '0.0.0.0', '2010-03-29 19:53:29')[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM "subdomains" [0m
  [4;35;1mSubdomain Load (0.2ms)[0m   [0mSELECT * FROM "subdomains" WHERE ("subdomains"."id" = 2053932785) [0m


Processing SubdomainsController#destroy (for 0.0.0.0 at 2010-03-29 21:53:29) [DELETE]
  Parameters: {"action"=>"destroy", "id"=>"2053932785", "controller"=>"subdomains"}
  [4;36;1mLoggedUser Load (0.2ms)[0m   [0;1mSELECT * FROM "logged_users" WHERE ("logged_users"."ip" = '0.0.0.0' AND "logged_users"."session" = 'test session') LIMIT 1[0m
  [4;35;1mLoggedUser Update (0.1ms)[0m   [0mUPDATE "logged_users" SET "updated_at" = '2010-03-29 19:53:29', "session_ts" = '2010-03-29 19:53:29' WHERE "id" = 2053932786[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
  [4;35;1mSubdomain Load (0.2ms)[0m   [0mSELECT * FROM "subdomains" WHERE ("subdomains"."id" = 2053932785) [0m
  [4;36;1mDomain Load (0.1ms)[0m   [0;1mSELECT * FROM "domains" WHERE ("domains"."id" = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM "subdomains" WHERE ("subdomains".domain_id = 1) [0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
Redirected to http://test.host/domains
Completed in 5ms (DB: 2) | 302 Found [http://test.host/subdomains/2053932785]
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM "subdomains" [0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
  [4;35;1mLoggedUser Create (0.1ms)[0m   [0mINSERT INTO "logged_users" ("created_at", "session", "updated_at", "user_id", "ip", "session_ts") VALUES('2010-03-29 19:53:29', 'test session', '2010-03-29 19:53:29', 2, '0.0.0.0', '2010-03-29 19:53:29')[0m
  [4;36;1mSubdomain Load (0.2ms)[0m   [0;1mSELECT * FROM "subdomains" WHERE ("subdomains"."id" = 2053932785) [0m


Processing SubdomainsController#edit (for 0.0.0.0 at 2010-03-29 21:53:29) [GET]
  Parameters: {"action"=>"edit", "id"=>"2053932785", "controller"=>"subdomains"}
  [4;35;1mLoggedUser Load (0.2ms)[0m   [0mSELECT * FROM "logged_users" WHERE ("logged_users"."ip" = '0.0.0.0' AND "logged_users"."session" = 'test session') LIMIT 1[0m
  [4;36;1mLoggedUser Update (0.1ms)[0m   [0;1mUPDATE "logged_users" SET "updated_at" = '2010-03-29 19:53:29', "session_ts" = '2010-03-29 19:53:29' WHERE "id" = 2053932786[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
  [4;36;1mSubdomain Load (0.2ms)[0m   [0;1mSELECT * FROM "subdomains" WHERE ("subdomains"."id" = 2053932785) [0m
  [4;35;1mDomain Load (0.2ms)[0m   [0mSELECT * FROM "domains" WHERE ("domains"."id" = 1) [0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
Redirected to http://test.host/domains
Completed in 4ms (DB: 2) | 302 Found [http://test.host/subdomains/2053932785/edit]
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
  [4;36;1mLoggedUser Create (0.1ms)[0m   [0;1mINSERT INTO "logged_users" ("created_at", "session", "updated_at", "user_id", "ip", "session_ts") VALUES('2010-03-29 19:53:29', 'test session', '2010-03-29 19:53:29', 2, '0.0.0.0', '2010-03-29 19:53:29')[0m
  [4;35;1mSubdomain Load (0.2ms)[0m   [0mSELECT * FROM "subdomains" WHERE ("subdomains"."id" = 2053932785) [0m


Processing SubdomainsController#update (for 0.0.0.0 at 2010-03-29 21:53:29) [PUT]
  Parameters: {"action"=>"update", "id"=>"2053932785", "subdomain"=>{"url"=>"newurl"}, "controller"=>"subdomains"}
  [4;36;1mLoggedUser Load (0.2ms)[0m   [0;1mSELECT * FROM "logged_users" WHERE ("logged_users"."ip" = '0.0.0.0' AND "logged_users"."session" = 'test session') LIMIT 1[0m
  [4;35;1mLoggedUser Update (0.1ms)[0m   [0mUPDATE "logged_users" SET "updated_at" = '2010-03-29 19:53:29', "session_ts" = '2010-03-29 19:53:29' WHERE "id" = 2053932786[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
  [4;35;1mSubdomain Load (0.2ms)[0m   [0mSELECT * FROM "subdomains" WHERE ("subdomains"."id" = 2053932785) [0m
  [4;36;1mDomain Load (0.1ms)[0m   [0;1mSELECT * FROM "domains" WHERE ("domains"."id" = 1) [0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
Redirected to http://test.host/domains
Completed in 4ms (DB: 2) | 302 Found [http://test.host/subdomains/2053932785?subdomain%5Burl%5D=newurl]
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mLoggedUser Create (0.1ms)[0m   [0mINSERT INTO "logged_users" ("created_at", "session", "updated_at", "user_id", "ip", "session_ts") VALUES('2010-03-29 19:53:29', 'test session', '2010-03-29 19:53:29', 1, '0.0.0.0', '2010-03-29 19:53:29')[0m
  [4;36;1mDomain Load (0.1ms)[0m   [0;1mSELECT * FROM "domains" WHERE ("domains"."id" = 1) [0m


Processing SubdomainsController#update (for 0.0.0.0 at 2010-03-29 21:53:29) [PUT]
  Parameters: {"action"=>"update", "id"=>"2053932785", "subdomain"=>{"url"=>"newurl", "domain"=>#<Domain id: 1, domain: "test.com", user_id: 1, created_at: "2010-03-29 19:53:28", updated_at: "2010-03-29 19:53:28">}, "controller"=>"subdomains"}
  [4;35;1mLoggedUser Load (0.2ms)[0m   [0mSELECT * FROM "logged_users" WHERE ("logged_users"."ip" = '0.0.0.0' AND "logged_users"."session" = 'test session') LIMIT 1[0m
  [4;36;1mLoggedUser Update (0.1ms)[0m   [0;1mUPDATE "logged_users" SET "updated_at" = '2010-03-29 19:53:29', "session_ts" = '2010-03-29 19:53:29' WHERE "id" = 2053932786[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
  [4;36;1mSubdomain Load (0.2ms)[0m   [0;1mSELECT * FROM "subdomains" WHERE ("subdomains"."id" = 2053932785) [0m
  [4;35;1mDomain Load (0.2ms)[0m   [0mSELECT * FROM "domains" WHERE ("domains"."id" = 1) [0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
Redirected to http://test.host/domains
Completed in 4ms (DB: 2) | 302 Found [http://test.host/subdomains/2053932785?subdomain%5Burl%5D=newurl]
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mLoggedUser Create (0.1ms)[0m   [0;1mINSERT INTO "logged_users" ("created_at", "session", "updated_at", "user_id", "ip", "session_ts") VALUES('2010-03-29 19:53:29', 'test session', '2010-03-29 19:53:29', 1, '0.0.0.0', '2010-03-29 19:53:29')[0m
  [4;35;1mSubdomain Load (0.2ms)[0m   [0mSELECT * FROM "subdomains" WHERE ("subdomains"."id" = 2053932785) [0m


Processing SubdomainsController#update (for 0.0.0.0 at 2010-03-29 21:53:29) [PUT]
  Parameters: {"action"=>"update", "id"=>"2053932785", "subdomain"=>{"url"=>"newurl"}, "controller"=>"subdomains"}
  [4;36;1mLoggedUser Load (0.2ms)[0m   [0;1mSELECT * FROM "logged_users" WHERE ("logged_users"."ip" = '0.0.0.0' AND "logged_users"."session" = 'test session') LIMIT 1[0m
  [4;35;1mLoggedUser Update (0.1ms)[0m   [0mUPDATE "logged_users" SET "updated_at" = '2010-03-29 19:53:29', "session_ts" = '2010-03-29 19:53:29' WHERE "id" = 2053932786[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mSubdomain Load (0.2ms)[0m   [0mSELECT * FROM "subdomains" WHERE ("subdomains"."id" = 2053932785) [0m
  [4;36;1mDomain Load (0.1ms)[0m   [0;1mSELECT * FROM "domains" WHERE ("domains"."id" = 1) [0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mSubdomain Load (0.1ms)[0m   [0;1mSELECT "subdomains".id FROM "subdomains" WHERE ("subdomains"."url" = 'newurl' AND "subdomains".domain_id = 1 AND "subdomains".id <> 2053932785) LIMIT 1[0m
  [4;35;1mSubdomain Load (0.1ms)[0m   [0mSELECT "subdomains".id FROM "subdomains" WHERE ("subdomains"."path" = 'www' AND "subdomains".domain_id = 1 AND "subdomains".id <> 2053932785) LIMIT 1[0m
  [4;36;1mSubdomain Load (0.2ms)[0m   [0;1mSELECT * FROM "subdomains" WHERE ("subdomains"."mainsub" = 't' AND "subdomains"."domain_id" = 1) LIMIT 1[0m
  [4;35;1mSubdomain Update (0.1ms)[0m   [0mUPDATE "subdomains" SET "updated_at" = '2010-03-29 19:53:29', "url" = 'newurl' WHERE "id" = 2053932785[0m
Redirected to http://test.host/domains/1
Completed in 7ms (DB: 2) | 302 Found [http://test.host/subdomains/2053932785?subdomain%5Burl%5D=newurl]
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mLoggedUser Create (0.1ms)[0m   [0mINSERT INTO "logged_users" ("created_at", "session", "updated_at", "user_id", "ip", "session_ts") VALUES('2010-03-29 19:53:29', 'test session', '2010-03-29 19:53:29', 1, '0.0.0.0', '2010-03-29 19:53:29')[0m
  [4;36;1mService Load (0.2ms)[0m   [0;1mSELECT * FROM "services" WHERE ("services"."id" = 2053932785) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mINSERT INTO "services_users" ("service_id", "user_id") VALUES (2053932785, 1)[0m
  [4;36;1mService Load (0.1ms)[0m   [0;1mSELECT "services".id FROM "services" WHERE ("services"."name" = 'Service 1' AND "services".id <> 2053932785) LIMIT 1[0m
  [4;35;1mService Load (0.1ms)[0m   [0mSELECT "services".id FROM "services" WHERE ("services"."controller" = 'service_test_1' AND "services".id <> 2053932785) LIMIT 1[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM "services" INNER JOIN "services_users" ON "services".id = "services_users".service_id WHERE ("services_users".user_id = 2 ) [0m


Processing UsersController#addservice (for 0.0.0.0 at 2010-03-29 21:53:29) [POST]
  Parameters: {"action"=>"addservice", "service_id"=>[2053932785], "user_id"=>"2", "controller"=>"users"}
  [4;36;1mLoggedUser Load (0.2ms)[0m   [0;1mSELECT * FROM "logged_users" WHERE ("logged_users"."ip" = '0.0.0.0' AND "logged_users"."session" = 'test session') LIMIT 1[0m
  [4;35;1mLoggedUser Update (0.1ms)[0m   [0mUPDATE "logged_users" SET "updated_at" = '2010-03-29 19:53:29', "session_ts" = '2010-03-29 19:53:29' WHERE "id" = 2053932786[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
  [4;36;1mService Load (0.2ms)[0m   [0;1mSELECT * FROM "services" WHERE ("services"."id" = 2053932785) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mINSERT INTO "services_users" ("service_id", "user_id") VALUES (2053932785, 2)[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT "users".id FROM "users" WHERE ("users"."username" = 'test1' AND "users".id <> 2) LIMIT 1[0m
Redirected to http://test.host/service_test_1/addtouser?user_id=2
Completed in 8ms (DB: 3) | 302 Found [http://test.host/users/addservice?service_id%5B%5D=2053932785&user_id=2]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM "services" INNER JOIN "services_users" ON "services".id = "services_users".service_id WHERE ("services_users".user_id = 2 ) [0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mLoggedUser Create (0.1ms)[0m   [0;1mINSERT INTO "logged_users" ("created_at", "session", "updated_at", "user_id", "ip", "session_ts") VALUES('2010-03-29 19:53:29', 'test session', '2010-03-29 19:53:29', 1, '0.0.0.0', '2010-03-29 19:53:29')[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM "users" [0m


Processing UsersController#create (for 0.0.0.0 at 2010-03-29 21:53:29) [POST]
  Parameters: {"action"=>"create", "controller"=>"users", "user"=>{"username"=>"newuser", "password"=>"[FILTERED]", "email"=>"test@test.com"}}
  [4;36;1mLoggedUser Load (0.2ms)[0m   [0;1mSELECT * FROM "logged_users" WHERE ("logged_users"."ip" = '0.0.0.0' AND "logged_users"."session" = 'test session') LIMIT 1[0m
  [4;35;1mLoggedUser Update (0.1ms)[0m   [0mUPDATE "logged_users" SET "updated_at" = '2010-03-29 19:53:29', "session_ts" = '2010-03-29 19:53:29' WHERE "id" = 2053932786[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT "users".id FROM "users" WHERE ("users"."username" = 'newuser') LIMIT 1[0m
  [4;36;1mUser Create (0.1ms)[0m   [0;1mINSERT INTO "users" ("max_bandwidth", "created_at", "max_space", "updated_at", "username", "used_space", "max_subusers", "full_name", "parent_id", "password", "email", "max_subdomains", "ohmd_password") VALUES(NULL, '2010-03-29 19:53:29', -1, '2010-03-29 19:53:29', 'newuser', 0, -1, NULL, 1, 'newpassword', 'test@test.com', -1, NULL)[0m
Redirected to http://test.host/users/4
Completed in 6ms (DB: 1) | 302 Found [http://test.host/users?user%5Bemail%5D=test%40test.com&user%5Bpassword%5D=newpassword&user%5Busername%5D=newuser]
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM "users" [0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
  [4;35;1mLoggedUser Create (0.1ms)[0m   [0mINSERT INTO "logged_users" ("created_at", "session", "updated_at", "user_id", "ip", "session_ts") VALUES('2010-03-29 19:53:29', 'test session', '2010-03-29 19:53:29', 2, '0.0.0.0', '2010-03-29 19:53:29')[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM "users" [0m


Processing UsersController#create (for 0.0.0.0 at 2010-03-29 21:53:29) [POST]
  Parameters: {"action"=>"create", "controller"=>"users", "user"=>{"max_space"=>100, "username"=>"secondnewuser", "max_subusers"=>1, "password"=>"[FILTERED]", "email"=>"test@test.com", "max_subdomains"=>1}}
  [4;35;1mLoggedUser Load (0.2ms)[0m   [0mSELECT * FROM "logged_users" WHERE ("logged_users"."ip" = '0.0.0.0' AND "logged_users"."session" = 'test session') LIMIT 1[0m
  [4;36;1mLoggedUser Update (0.1ms)[0m   [0;1mUPDATE "logged_users" SET "updated_at" = '2010-03-29 19:53:29', "session_ts" = '2010-03-29 19:53:29' WHERE "id" = 2053932786[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT "users".id FROM "users" WHERE ("users"."username" = 'secondnewuser') LIMIT 1[0m
  [4;35;1mUser Create (0.1ms)[0m   [0mINSERT INTO "users" ("max_bandwidth", "created_at", "max_space", "updated_at", "username", "used_space", "max_subusers", "full_name", "parent_id", "password", "email", "max_subdomains", "ohmd_password") VALUES(NULL, '2010-03-29 19:53:29', 100, '2010-03-29 19:53:29', 'secondnewuser', 0, 1, NULL, 1, 'newpassword', 'test@test.com', 1, NULL)[0m
Redirected to http://test.host/users/5
Completed in 6ms (DB: 1) | 302 Found [http://test.host/users?user%5Bemail%5D=test%40test.com&user%5Bpassword%5D=newpassword&user%5Busername%5D=newuser]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM "users" [0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mLoggedUser Create (0.1ms)[0m   [0;1mINSERT INTO "logged_users" ("created_at", "session", "updated_at", "user_id", "ip", "session_ts") VALUES('2010-03-29 19:53:29', 'test session', '2010-03-29 19:53:29', 1, '0.0.0.0', '2010-03-29 19:53:29')[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m


Processing UsersController#destroy (for 0.0.0.0 at 2010-03-29 21:53:29) [DELETE]
  Parameters: {"action"=>"destroy", "id"=>"2", "controller"=>"users"}
  [4;36;1mLoggedUser Load (0.2ms)[0m   [0;1mSELECT * FROM "logged_users" WHERE ("logged_users"."ip" = '0.0.0.0' AND "logged_users"."session" = 'test session') LIMIT 1[0m
  [4;35;1mLoggedUser Update (0.1ms)[0m   [0mUPDATE "logged_users" SET "updated_at" = '2010-03-29 19:53:29', "session_ts" = '2010-03-29 19:53:29' WHERE "id" = 2053932786[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mDomain Load (0.1ms)[0m   [0mSELECT * FROM "domains" WHERE ("domains".user_id = 2) [0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users".parent_id = 2) [0m
  [4;35;1mService Load (0.1ms)[0m   [0mSELECT * FROM "services" INNER JOIN "services_users" ON "services".id = "services_users".service_id WHERE ("services_users".user_id = 2 ) [0m
  [4;36;1mUser Destroy (0.1ms)[0m   [0;1mDELETE FROM "users" WHERE "id" = 2[0m
WARNING: Can't mass-assign these protected attributes: id
  [4;35;1mUser Create (0.1ms)[0m   [0mINSERT INTO "users" ("max_bandwidth", "created_at", "max_space", "updated_at", "username", "used_space", "max_subusers", "full_name", "parent_id", "password", "email", "max_subdomains", "ohmd_password") VALUES(NULL, '2010-03-29 19:53:29', NULL, '2010-03-29 19:53:29', 'test1', NULL, NULL, NULL, -1, NULL, NULL, NULL, NULL)[0m
Redirected to http://test.host/users
Completed in 6ms (DB: 2) | 302 Found [http://test.host/users/2]
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."username" = 'test1') LIMIT 1[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mLoggedUser Create (0.1ms)[0m   [0;1mINSERT INTO "logged_users" ("created_at", "session", "updated_at", "user_id", "ip", "session_ts") VALUES('2010-03-29 19:53:29', 'test session', '2010-03-29 19:53:29', 1, '0.0.0.0', '2010-03-29 19:53:29')[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m


Processing UsersController#edit (for 0.0.0.0 at 2010-03-29 21:53:29) [GET]
  Parameters: {"action"=>"edit", "id"=>"2", "controller"=>"users"}
  [4;36;1mLoggedUser Load (0.2ms)[0m   [0;1mSELECT * FROM "logged_users" WHERE ("logged_users"."ip" = '0.0.0.0' AND "logged_users"."session" = 'test session') LIMIT 1[0m
  [4;35;1mLoggedUser Update (0.1ms)[0m   [0mUPDATE "logged_users" SET "updated_at" = '2010-03-29 19:53:29', "session_ts" = '2010-03-29 19:53:29' WHERE "id" = 2053932786[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
Rendering template within layouts/ohm
Rendering users/edit
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM "users" WHERE ("users".parent_id = 2) [0m
  [4;36;1mDomain Load (0.1ms)[0m   [0;1mSELECT * FROM "domains" WHERE ("domains".user_id = 2) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM "users" WHERE ("users".parent_id = 2) [0m
  [4;36;1mService Load (0.1ms)[0m   [0;1mSELECT * FROM "services" INNER JOIN "services_users" ON "services".id = "services_users".service_id WHERE ("services_users".user_id = 1 ) [0m
Completed in 13ms (View: 9, DB: 2) | 200 OK [http://test.host/users/2/edit]
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
  [4;36;1mLoggedUser Create (0.1ms)[0m   [0;1mINSERT INTO "logged_users" ("created_at", "session", "updated_at", "user_id", "ip", "session_ts") VALUES('2010-03-29 19:53:29', 'test session', '2010-03-29 19:53:29', 2, '0.0.0.0', '2010-03-29 19:53:29')[0m


Processing UsersController#index (for 0.0.0.0 at 2010-03-29 21:53:29) [GET]
  Parameters: {"action"=>"index", "controller"=>"users"}
  [4;35;1mLoggedUser Load (0.2ms)[0m   [0mSELECT * FROM "logged_users" WHERE ("logged_users"."ip" = '0.0.0.0' AND "logged_users"."session" = 'test session') LIMIT 1[0m
  [4;36;1mLoggedUser Update (0.1ms)[0m   [0;1mUPDATE "logged_users" SET "updated_at" = '2010-03-29 19:53:29', "session_ts" = '2010-03-29 19:53:29' WHERE "id" = 2053932786[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
Rendering template within layouts/ohm
Rendering users/index
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM "users" WHERE ("users".parent_id = 2) [0m
  [4;35;1mService Load (0.1ms)[0m   [0mSELECT * FROM "services" INNER JOIN "services_users" ON "services".id = "services_users".service_id WHERE ("services_users".user_id = 2 ) [0m
Completed in 7ms (View: 4, DB: 1) | 200 OK [http://test.host/users]


Processing UsersController#index (for 0.0.0.0 at 2010-03-29 21:53:29) [GET]
  Parameters: {"action"=>"index", "controller"=>"users"}
Redirected to http://test.host/login
Filter chain halted as [:authenticate] rendered_or_redirected.
Completed in 0ms (DB: 0) | 302 Found [http://test.host/users]
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
  [4;35;1mLoggedUser Create (0.1ms)[0m   [0mINSERT INTO "logged_users" ("created_at", "session", "updated_at", "user_id", "ip", "session_ts") VALUES('2010-03-29 19:53:29', 'test session', '2010-03-29 19:53:29', 2, '0.0.0.0', '2010-03-29 19:53:29')[0m


Processing UsersController#new (for 0.0.0.0 at 2010-03-29 21:53:29) [GET]
  Parameters: {"action"=>"new", "controller"=>"users"}
  [4;36;1mLoggedUser Load (0.2ms)[0m   [0;1mSELECT * FROM "logged_users" WHERE ("logged_users"."ip" = '0.0.0.0' AND "logged_users"."session" = 'test session') LIMIT 1[0m
  [4;35;1mLoggedUser Update (0.1ms)[0m   [0mUPDATE "logged_users" SET "updated_at" = '2010-03-29 19:53:29', "session_ts" = '2010-03-29 19:53:29' WHERE "id" = 2053932786[0m
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
Rendering template within layouts/ohm
Rendering users/new
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM "users" WHERE ("users".parent_id = 2) [0m
  [4;36;1mDomain Load (0.1ms)[0m   [0;1mSELECT * FROM "domains" WHERE ("domains".user_id = 2) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM "users" WHERE ("users".parent_id = 2) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM "users" WHERE ("users".parent_id = 2) [0m
  [4;35;1mService Load (0.1ms)[0m   [0mSELECT * FROM "services" INNER JOIN "services_users" ON "services".id = "services_users".service_id WHERE ("services_users".user_id = 2 ) [0m
Completed in 68ms (View: 11, DB: 2) | 200 OK [http://test.host/users/new]
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
  [4;35;1mLoggedUser Create (0.1ms)[0m   [0mINSERT INTO "logged_users" ("created_at", "session", "updated_at", "user_id", "ip", "session_ts") VALUES('2010-03-29 19:53:29', 'test session', '2010-03-29 19:53:29', 2, '0.0.0.0', '2010-03-29 19:53:29')[0m


Processing UsersController#profile (for 0.0.0.0 at 2010-03-29 21:53:29) [GET]
  Parameters: {"action"=>"profile", "controller"=>"users"}
  [4;36;1mLoggedUser Load (0.2ms)[0m   [0;1mSELECT * FROM "logged_users" WHERE ("logged_users"."ip" = '0.0.0.0' AND "logged_users"."session" = 'test session') LIMIT 1[0m
  [4;35;1mLoggedUser Update (0.1ms)[0m   [0mUPDATE "logged_users" SET "updated_at" = '2010-03-29 19:53:29', "session_ts" = '2010-03-29 19:53:29' WHERE "id" = 2053932786[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
Rendering template within layouts/ohm
Rendering users/profile
  [4;35;1mService Load (0.1ms)[0m   [0mSELECT * FROM "services" INNER JOIN "services_users" ON "services".id = "services_users".service_id WHERE ("services_users".user_id = 2 ) [0m
Completed in 11ms (View: 8, DB: 1) | 200 OK [http://test.host/users/profile]
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mLoggedUser Create (0.1ms)[0m   [0mINSERT INTO "logged_users" ("created_at", "session", "updated_at", "user_id", "ip", "session_ts") VALUES('2010-03-29 19:53:29', 'test session', '2010-03-29 19:53:29', 1, '0.0.0.0', '2010-03-29 19:53:29')[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m


Processing UsersController#login_as_me (for 0.0.0.0 at 2010-03-29 21:53:29) [POST]
  Parameters: {"action"=>"login_as_me", "id"=>"2", "controller"=>"users"}
  [4;35;1mLoggedUser Load (0.2ms)[0m   [0mSELECT * FROM "logged_users" WHERE ("logged_users"."ip" = '0.0.0.0' AND "logged_users"."session" = 'test session') LIMIT 1[0m
  [4;36;1mLoggedUser Update (0.1ms)[0m   [0;1mUPDATE "logged_users" SET "updated_at" = '2010-03-29 19:53:29', "session_ts" = '2010-03-29 19:53:29' WHERE "id" = 2053932786[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mLoggedUser Load (0.2ms)[0m   [0;1mSELECT * FROM "logged_users" WHERE ("logged_users"."ip" = '0.0.0.0' AND "logged_users"."session" = 'test session') LIMIT 1[0m
  [4;35;1mLoggedUser Update (0.1ms)[0m   [0mUPDATE "logged_users" SET "updated_at" = '2010-03-29 19:53:29', "session_ts" = '2010-03-29 19:53:29' WHERE "id" = 2053932786[0m
  [4;36;1mLoggedUser Update (0.1ms)[0m   [0;1mUPDATE "logged_users" SET "updated_at" = '2010-03-29 19:53:29', "user_id" = 2 WHERE "id" = 2053932786[0m
Redirected to http://test.host/
Completed in 6ms (DB: 2) | 302 Found [http://test.host/users/login_as_me/2]
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
  [4;36;1mLoggedUser Create (0.1ms)[0m   [0;1mINSERT INTO "logged_users" ("created_at", "session", "updated_at", "user_id", "ip", "session_ts") VALUES('2010-03-29 19:53:29', 'test session', '2010-03-29 19:53:29', 2, '0.0.0.0', '2010-03-29 19:53:29')[0m
  [4;35;1mService Load (0.2ms)[0m   [0mSELECT * FROM "services" WHERE ("services"."id" = 2053932785) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mINSERT INTO "services_users" ("service_id", "user_id") VALUES (2053932785, 2)[0m
  [4;35;1mService Load (0.1ms)[0m   [0mSELECT "services".id FROM "services" WHERE ("services"."name" = 'Service 1' AND "services".id <> 2053932785) LIMIT 1[0m
  [4;36;1mService Load (0.1ms)[0m   [0;1mSELECT "services".id FROM "services" WHERE ("services"."controller" = 'service_test_1' AND "services".id <> 2053932785) LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM "services" INNER JOIN "services_users" ON "services".id = "services_users".service_id WHERE ("services_users".user_id = 2 ) [0m


Processing UsersController#addservice (for 0.0.0.0 at 2010-03-29 21:53:29) [POST]
  Parameters: {"action"=>"addservice", "service_id"=>[2053932785], "user_id"=>"2", "controller"=>"users"}
  [4;36;1mLoggedUser Load (0.2ms)[0m   [0;1mSELECT * FROM "logged_users" WHERE ("logged_users"."ip" = '0.0.0.0' AND "logged_users"."session" = 'test session') LIMIT 1[0m
  [4;35;1mLoggedUser Update (0.1ms)[0m   [0mUPDATE "logged_users" SET "updated_at" = '2010-03-29 19:53:29', "session_ts" = '2010-03-29 19:53:29' WHERE "id" = 2053932786[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
  [4;36;1mService Load (0.2ms)[0m   [0;1mSELECT * FROM "services" WHERE ("services"."id" = 2053932785) [0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
Redirected to http://test.host/users
Completed in 4ms (DB: 2) | 302 Found [http://test.host/users/addservice?service_id%5B%5D=2053932785&user_id=2]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM "services" INNER JOIN "services_users" ON "services".id = "services_users".service_id WHERE ("services_users".user_id = 2 ) [0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
  [4;36;1mLoggedUser Create (0.1ms)[0m   [0;1mINSERT INTO "logged_users" ("created_at", "session", "updated_at", "user_id", "ip", "session_ts") VALUES('2010-03-29 19:53:29', 'test session', '2010-03-29 19:53:29', 2, '0.0.0.0', '2010-03-29 19:53:29')[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM "users" [0m


Processing UsersController#destroy (for 0.0.0.0 at 2010-03-29 21:53:29) [DELETE]
  Parameters: {"action"=>"destroy", "id"=>"2", "controller"=>"users"}
  [4;36;1mLoggedUser Load (0.2ms)[0m   [0;1mSELECT * FROM "logged_users" WHERE ("logged_users"."ip" = '0.0.0.0' AND "logged_users"."session" = 'test session') LIMIT 1[0m
  [4;35;1mLoggedUser Update (0.1ms)[0m   [0mUPDATE "logged_users" SET "updated_at" = '2010-03-29 19:53:29', "session_ts" = '2010-03-29 19:53:29' WHERE "id" = 2053932786[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
Redirected to http://test.host/users
Completed in 4ms (DB: 2) | 302 Found [http://test.host/users/2]
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM "users" [0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
  [4;35;1mLoggedUser Create (0.1ms)[0m   [0mINSERT INTO "logged_users" ("created_at", "session", "updated_at", "user_id", "ip", "session_ts") VALUES('2010-03-29 19:53:29', 'test session', '2010-03-29 19:53:29', 2, '0.0.0.0', '2010-03-29 19:53:29')[0m


Processing UsersController#edit (for 0.0.0.0 at 2010-03-29 21:53:29) [GET]
  Parameters: {"action"=>"edit", "id"=>"2", "controller"=>"users"}
  [4;36;1mLoggedUser Load (0.2ms)[0m   [0;1mSELECT * FROM "logged_users" WHERE ("logged_users"."ip" = '0.0.0.0' AND "logged_users"."session" = 'test session') LIMIT 1[0m
  [4;35;1mLoggedUser Update (0.1ms)[0m   [0mUPDATE "logged_users" SET "updated_at" = '2010-03-29 19:53:29', "session_ts" = '2010-03-29 19:53:29' WHERE "id" = 2053932786[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
Redirected to http://test.host/users
Completed in 4ms (DB: 2) | 302 Found [http://test.host/users/2/edit]
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
  [4;36;1mLoggedUser Create (0.1ms)[0m   [0;1mINSERT INTO "logged_users" ("created_at", "session", "updated_at", "user_id", "ip", "session_ts") VALUES('2010-03-29 19:53:29', 'test session', '2010-03-29 19:53:29', 2, '0.0.0.0', '2010-03-29 19:53:29')[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 3) [0m


Processing UsersController#login_as_me (for 0.0.0.0 at 2010-03-29 21:53:29) [POST]
  Parameters: {"action"=>"login_as_me", "id"=>"3", "controller"=>"users"}
  [4;36;1mLoggedUser Load (0.2ms)[0m   [0;1mSELECT * FROM "logged_users" WHERE ("logged_users"."ip" = '0.0.0.0' AND "logged_users"."session" = 'test session') LIMIT 1[0m
  [4;35;1mLoggedUser Update (0.1ms)[0m   [0mUPDATE "logged_users" SET "updated_at" = '2010-03-29 19:53:29', "session_ts" = '2010-03-29 19:53:29' WHERE "id" = 2053932786[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 3) [0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
Redirected to http://test.host/users
Completed in 4ms (DB: 2) | 302 Found [http://test.host/users/login_as_me/3]
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
  [4;36;1mLoggedUser Create (0.1ms)[0m   [0;1mINSERT INTO "logged_users" ("created_at", "session", "updated_at", "user_id", "ip", "session_ts") VALUES('2010-03-29 19:53:29', 'test session', '2010-03-29 19:53:29', 2, '0.0.0.0', '2010-03-29 19:53:29')[0m
  [4;35;1mService Load (0.2ms)[0m   [0mSELECT * FROM "services" WHERE ("services"."id" = 2053932785) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mINSERT INTO "services_users" ("service_id", "user_id") VALUES (2053932785, 2)[0m
  [4;35;1mService Load (0.1ms)[0m   [0mSELECT "services".id FROM "services" WHERE ("services"."name" = 'Service 1' AND "services".id <> 2053932785) LIMIT 1[0m
  [4;36;1mService Load (0.1ms)[0m   [0;1mSELECT "services".id FROM "services" WHERE ("services"."controller" = 'service_test_1' AND "services".id <> 2053932785) LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM "services" INNER JOIN "services_users" ON "services".id = "services_users".service_id WHERE ("services_users".user_id = 2 ) [0m


Processing UsersController#removeservice (for 0.0.0.0 at 2010-03-29 21:53:29) [POST]
  Parameters: {"action"=>"removeservice", "service_id"=>"2053932785", "user_id"=>"2", "controller"=>"users"}
  [4;36;1mLoggedUser Load (0.2ms)[0m   [0;1mSELECT * FROM "logged_users" WHERE ("logged_users"."ip" = '0.0.0.0' AND "logged_users"."session" = 'test session') LIMIT 1[0m
  [4;35;1mLoggedUser Update (0.1ms)[0m   [0mUPDATE "logged_users" SET "updated_at" = '2010-03-29 19:53:29', "session_ts" = '2010-03-29 19:53:29' WHERE "id" = 2053932786[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
  [4;36;1mService Load (0.2ms)[0m   [0;1mSELECT * FROM "services" WHERE ("services"."id" = 2053932785) [0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
Redirected to http://test.host/users
Completed in 4ms (DB: 2) | 302 Found [http://test.host/users/removeservice?service_id=2053932785&user_id=2]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM "services" INNER JOIN "services_users" ON "services".id = "services_users".service_id WHERE ("services_users".user_id = 2 ) [0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
  [4;36;1mLoggedUser Create (0.1ms)[0m   [0;1mINSERT INTO "logged_users" ("created_at", "session", "updated_at", "user_id", "ip", "session_ts") VALUES('2010-03-29 19:53:29', 'test session', '2010-03-29 19:53:29', 2, '0.0.0.0', '2010-03-29 19:53:29')[0m


Processing UsersController#show (for 0.0.0.0 at 2010-03-29 21:53:29) [GET]
  Parameters: {"action"=>"show", "id"=>"2", "controller"=>"users"}
  [4;35;1mLoggedUser Load (0.2ms)[0m   [0mSELECT * FROM "logged_users" WHERE ("logged_users"."ip" = '0.0.0.0' AND "logged_users"."session" = 'test session') LIMIT 1[0m
  [4;36;1mLoggedUser Update (0.1ms)[0m   [0;1mUPDATE "logged_users" SET "updated_at" = '2010-03-29 19:53:29', "session_ts" = '2010-03-29 19:53:29' WHERE "id" = 2053932786[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
Redirected to http://test.host/users
  [4;36;1mService Load (0.1ms)[0m   [0;1mSELECT * FROM "services" INNER JOIN "services_users" ON "services".id = "services_users".service_id WHERE ("services_users".user_id = 2 ) [0m
  [4;35;1mService Load (0.1ms)[0m   [0mSELECT * FROM "services" INNER JOIN "services_users" ON "services".id = "services_users".service_id WHERE ("services_users".user_id = 2 ) [0m
Completed in 4ms (DB: 2) | 302 Found [http://test.host/users/2]
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
  [4;35;1mLoggedUser Create (0.1ms)[0m   [0mINSERT INTO "logged_users" ("created_at", "session", "updated_at", "user_id", "ip", "session_ts") VALUES('2010-03-29 19:53:29', 'test session', '2010-03-29 19:53:29', 2, '0.0.0.0', '2010-03-29 19:53:29')[0m


Processing UsersController#update (for 0.0.0.0 at 2010-03-29 21:53:29) [PUT]
  Parameters: {"action"=>"update", "id"=>"2", "controller"=>"users", "user"=>{"full_name"=>"New name"}}
  [4;36;1mLoggedUser Load (0.2ms)[0m   [0;1mSELECT * FROM "logged_users" WHERE ("logged_users"."ip" = '0.0.0.0' AND "logged_users"."session" = 'test session') LIMIT 1[0m
  [4;35;1mLoggedUser Update (0.1ms)[0m   [0mUPDATE "logged_users" SET "updated_at" = '2010-03-29 19:53:29', "session_ts" = '2010-03-29 19:53:29' WHERE "id" = 2053932786[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
Redirected to http://test.host/users
Completed in 4ms (DB: 2) | 302 Found [http://test.host/users/2?user%5Bfull_name%5D=New+name]
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mLoggedUser Create (0.1ms)[0m   [0;1mINSERT INTO "logged_users" ("created_at", "session", "updated_at", "user_id", "ip", "session_ts") VALUES('2010-03-29 19:53:29', 'test session', '2010-03-29 19:53:29', 1, '0.0.0.0', '2010-03-29 19:53:29')[0m
  [4;35;1mService Load (0.2ms)[0m   [0mSELECT * FROM "services" WHERE ("services"."id" = 2053932785) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mINSERT INTO "services_users" ("service_id", "user_id") VALUES (2053932785, 1)[0m
  [4;35;1mService Load (0.1ms)[0m   [0mSELECT "services".id FROM "services" WHERE ("services"."name" = 'Service 1' AND "services".id <> 2053932785) LIMIT 1[0m
  [4;36;1mService Load (0.1ms)[0m   [0;1mSELECT "services".id FROM "services" WHERE ("services"."controller" = 'service_test_1' AND "services".id <> 2053932785) LIMIT 1[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mINSERT INTO "services_users" ("service_id", "user_id") VALUES (2053932785, 2)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM "services" INNER JOIN "services_users" ON "services".id = "services_users".service_id WHERE ("services_users".user_id = 2 ) [0m


Processing UsersController#removeservice (for 0.0.0.0 at 2010-03-29 21:53:29) [POST]
  Parameters: {"action"=>"removeservice", "service_id"=>"2053932785", "user_id"=>"2", "controller"=>"users"}
  [4;36;1mLoggedUser Load (0.2ms)[0m   [0;1mSELECT * FROM "logged_users" WHERE ("logged_users"."ip" = '0.0.0.0' AND "logged_users"."session" = 'test session') LIMIT 1[0m
  [4;35;1mLoggedUser Update (0.1ms)[0m   [0mUPDATE "logged_users" SET "updated_at" = '2010-03-29 19:53:29', "session_ts" = '2010-03-29 19:53:29' WHERE "id" = 2053932786[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
  [4;36;1mService Load (0.2ms)[0m   [0;1mSELECT * FROM "services" WHERE ("services"."id" = 2053932785) [0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mService Load (0.1ms)[0m   [0;1mSELECT "services".id FROM "services" INNER JOIN "services_users" ON "services".id = "services_users".service_id WHERE ("services"."id" = 2053932785) AND ("services_users".user_id = 1 ) LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mDELETE FROM "services_users" WHERE user_id = 2 AND service_id IN (2053932785)[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT "users".id FROM "users" WHERE ("users"."username" = 'test1' AND "users".id <> 2) LIMIT 1[0m
Redirected to http://test.host/service_test_1/removefromuser?user_id=2
Completed in 7ms (DB: 3) | 302 Found [http://test.host/users/removeservice?service_id=2053932785&user_id=2]
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM "services" INNER JOIN "services_users" ON "services".id = "services_users".service_id WHERE ("services_users".user_id = 2 ) [0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mLoggedUser Create (0.1ms)[0m   [0mINSERT INTO "logged_users" ("created_at", "session", "updated_at", "user_id", "ip", "session_ts") VALUES('2010-03-29 19:53:29', 'test session', '2010-03-29 19:53:29', 1, '0.0.0.0', '2010-03-29 19:53:29')[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m


Processing UsersController#show (for 0.0.0.0 at 2010-03-29 21:53:29) [GET]
  Parameters: {"action"=>"show", "id"=>"2", "controller"=>"users"}
  [4;35;1mLoggedUser Load (0.2ms)[0m   [0mSELECT * FROM "logged_users" WHERE ("logged_users"."ip" = '0.0.0.0' AND "logged_users"."session" = 'test session') LIMIT 1[0m
  [4;36;1mLoggedUser Update (0.1ms)[0m   [0;1mUPDATE "logged_users" SET "updated_at" = '2010-03-29 19:53:29', "session_ts" = '2010-03-29 19:53:29' WHERE "id" = 2053932786[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mService Load (0.3ms)[0m   [0;1mSELECT * FROM "services" [0m
  [4;35;1mService Load (0.1ms)[0m   [0mSELECT * FROM "services" INNER JOIN "services_users" ON "services".id = "services_users".service_id WHERE ("services_users".user_id = 2 ) [0m
Rendering template within layouts/ohm
Rendering users/show
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users".parent_id = 2) [0m
  [4;35;1mDomain Load (0.1ms)[0m   [0mSELECT * FROM "domains" WHERE ("domains".user_id = 2) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM "domains" WHERE ("domains".user_id = 2) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM "services" INNER JOIN "services_users" ON "services".id = "services_users".service_id WHERE ("services_users".user_id = 2 ) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM "users" WHERE ("users".parent_id = 2) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM "users" WHERE ("users".parent_id = 2) [0m
  [4;36;1mService Load (0.1ms)[0m   [0;1mSELECT * FROM "services" INNER JOIN "services_users" ON "services".id = "services_users".service_id WHERE ("services_users".user_id = 1 ) [0m
Completed in 15ms (View: 10, DB: 3) | 200 OK [http://test.host/users/2]
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
  [4;36;1mLoggedUser Create (0.1ms)[0m   [0;1mINSERT INTO "logged_users" ("created_at", "session", "updated_at", "user_id", "ip", "session_ts") VALUES('2010-03-29 19:53:29', 'test session', '2010-03-29 19:53:29', 2, '0.0.0.0', '2010-03-29 19:53:29')[0m


Processing UsersController#profileupdate (for 0.0.0.0 at 2010-03-29 21:53:29) [POST]
  Parameters: {"action"=>"profileupdate", "controller"=>"users", "user"=>{"full_name"=>"New Name"}}
  [4;35;1mLoggedUser Load (0.2ms)[0m   [0mSELECT * FROM "logged_users" WHERE ("logged_users"."ip" = '0.0.0.0' AND "logged_users"."session" = 'test session') LIMIT 1[0m
  [4;36;1mLoggedUser Update (0.1ms)[0m   [0;1mUPDATE "logged_users" SET "updated_at" = '2010-03-29 19:53:29', "session_ts" = '2010-03-29 19:53:29' WHERE "id" = 2053932786[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT "users".id FROM "users" WHERE ("users"."username" = 'test1' AND "users".id <> 2) LIMIT 1[0m
  [4;36;1mUser Update (0.1ms)[0m   [0;1mUPDATE "users" SET "updated_at" = '2010-03-29 19:53:29', "full_name" = 'New Name' WHERE "id" = 2[0m
Redirected to http://test.host/
Completed in 5ms (DB: 1) | 302 Found [http://test.host/users/profileupdate?user%5Bfull_name%5D=New+Name]
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mLoggedUser Create (0.1ms)[0m   [0;1mINSERT INTO "logged_users" ("created_at", "session", "updated_at", "user_id", "ip", "session_ts") VALUES('2010-03-29 19:53:29', 'test session', '2010-03-29 19:53:29', 1, '0.0.0.0', '2010-03-29 19:53:29')[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m


Processing UsersController#update (for 0.0.0.0 at 2010-03-29 21:53:29) [PUT]
  Parameters: {"action"=>"update", "id"=>"2", "controller"=>"users", "user"=>{"full_name"=>"New name"}}
  [4;36;1mLoggedUser Load (0.2ms)[0m   [0;1mSELECT * FROM "logged_users" WHERE ("logged_users"."ip" = '0.0.0.0' AND "logged_users"."session" = 'test session') LIMIT 1[0m
  [4;35;1mLoggedUser Update (0.1ms)[0m   [0mUPDATE "logged_users" SET "updated_at" = '2010-03-29 19:53:29', "session_ts" = '2010-03-29 19:53:29' WHERE "id" = 2053932786[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT "users".id FROM "users" WHERE ("users"."username" = 'test1' AND "users".id <> 2) LIMIT 1[0m
  [4;36;1mUser Update (0.1ms)[0m   [0;1mUPDATE "users" SET "updated_at" = '2010-03-29 19:53:29', "full_name" = 'New name' WHERE "id" = 2[0m
Redirected to http://test.host/users/2
Completed in 6ms (DB: 2) | 302 Found [http://test.host/users/2?user%5Bfull_name%5D=New+name]
  [4;36;1mDomain Load (0.6ms)[0m   [0;1mSELECT * FROM "domains" WHERE ("domains"."id" = 1) [0m
  [4;35;1mUser Load (0.9ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
  [4;36;1mDomain Load (0.4ms)[0m   [0;1mSELECT "domains".id FROM "domains" WHERE ("domains"."domain" = 'test.com') LIMIT 1[0m
  [4;35;1mDomain Load (0.2ms)[0m   [0mSELECT "domains".id FROM "domains" WHERE ("domains"."domain" IS NULL) LIMIT 1[0m
  [4;36;1mDomain Load (0.5ms)[0m   [0;1mSELECT * FROM "domains" WHERE ("domains"."id" = 1) [0m
  [4;35;1mUser Load (0.8ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mDomain Load (0.2ms)[0m   [0;1mSELECT "domains".id FROM "domains" WHERE ("domains"."domain" = 'test.com' AND "domains".id <> 1) LIMIT 1[0m
  [4;35;1mLoggedUser Load (0.2ms)[0m   [0mSELECT * FROM "logged_users" WHERE ("logged_users"."id" = 2053932785) [0m
  [4;36;1mLoggedUser Load (0.2ms)[0m   [0;1mSELECT * FROM "logged_users" WHERE ("logged_users"."id" = 2053932785) [0m
  [4;35;1mLoggedUser Load (0.2ms)[0m   [0mSELECT * FROM "logged_users" WHERE ("logged_users"."id" = 2053932785) [0m
  [4;36;1mService Load (0.1ms)[0m   [0;1mSELECT "services".id FROM "services" WHERE ("services"."name" = 'New Service') LIMIT 1[0m
  [4;35;1mService Load (0.1ms)[0m   [0mSELECT "services".id FROM "services" WHERE ("services"."controller" = 'service_new_service') LIMIT 1[0m
  [4;36;1mService Load (0.1ms)[0m   [0;1mSELECT "services".id FROM "services" WHERE ("services"."name" = 'New Service') LIMIT 1[0m
  [4;35;1mService Load (0.1ms)[0m   [0mSELECT "services".id FROM "services" WHERE ("services"."controller" = 'service_new_service') LIMIT 1[0m
  [4;36;1mService Create (0.1ms)[0m   [0;1mINSERT INTO "services" ("name", "daemon_installed", "created_at", "updated_at", "by_domain", "deleted", "description", "controller", "tech_name", "install_files") VALUES('New Service', 'f', '2010-03-29 19:54:35', '2010-03-29 19:54:35', 'f', 'f', NULL, 'service_new_service', 'New Service', NULL)[0m
  [4;35;1mService Load (0.1ms)[0m   [0mSELECT "services".id FROM "services" WHERE ("services"."name" IS NULL) LIMIT 1[0m
  [4;36;1mService Load (0.1ms)[0m   [0;1mSELECT "services".id FROM "services" WHERE ("services"."controller" IS NULL) LIMIT 1[0m
  [4;35;1mService Load (0.2ms)[0m   [0mSELECT * FROM "services" WHERE ("services"."id" = 2053932785) [0m
  [4;36;1mService Load (0.1ms)[0m   [0;1mSELECT "services".id FROM "services" WHERE ("services"."name" = 'Service 1') LIMIT 1[0m
  [4;35;1mService Load (0.1ms)[0m   [0mSELECT "services".id FROM "services" WHERE ("services"."controller" = 'service_test_1') LIMIT 1[0m
  [4;36;1mService Load (0.2ms)[0m   [0;1mSELECT * FROM "services" WHERE ("services"."id" = 2053932785) [0m
  [4;35;1mService Load (0.1ms)[0m   [0mSELECT "services".id FROM "services" WHERE ("services"."name" = 'Service 1' AND "services".id <> 2053932785) LIMIT 1[0m
  [4;36;1mService Load (0.1ms)[0m   [0;1mSELECT "services".id FROM "services" WHERE ("services"."controller" = 'service_test_1' AND "services".id <> 2053932785) LIMIT 1[0m
  [4;35;1mService Load (0.2ms)[0m   [0mSELECT * FROM "services" WHERE ("services"."id" = 298486374) [0m
  [4;36;1mService Load (0.1ms)[0m   [0;1mSELECT "services".id FROM "services" WHERE ("services"."name" = 'Service 2' AND "services".id <> 298486374) LIMIT 1[0m
  [4;35;1mService Load (0.1ms)[0m   [0mSELECT "services".id FROM "services" WHERE ("services"."controller" = 'service_test_2' AND "services".id <> 298486374) LIMIT 1[0m
  [4;36;1mSubdomain Load (0.2ms)[0m   [0;1mSELECT * FROM "subdomains" WHERE ("subdomains"."id" = 2053932785) [0m
  [4;35;1mDomain Load (0.2ms)[0m   [0mSELECT * FROM "domains" WHERE ("domains"."id" = 1) [0m
  [4;36;1mSubdomain Load (0.1ms)[0m   [0;1mSELECT "subdomains".id FROM "subdomains" WHERE ("subdomains"."url" = 'www' AND "subdomains".domain_id = 1) LIMIT 1[0m
  [4;35;1mSubdomain Load (0.1ms)[0m   [0mSELECT "subdomains".id FROM "subdomains" WHERE ("subdomains"."path" = 'www' AND "subdomains".domain_id = 1) LIMIT 1[0m
  [4;36;1mSubdomain Load (0.1ms)[0m   [0;1mSELECT "subdomains".id FROM "subdomains" WHERE ("subdomains"."url" = 'www' AND "subdomains".domain_id = 2) LIMIT 1[0m
  [4;35;1mSubdomain Load (0.1ms)[0m   [0mSELECT "subdomains".id FROM "subdomains" WHERE ("subdomains"."path" = 'www' AND "subdomains".domain_id = 2) LIMIT 1[0m
  [4;36;1mSubdomain Load (0.1ms)[0m   [0;1mSELECT "subdomains".id FROM "subdomains" WHERE ("subdomains"."url" = 'newsub' AND "subdomains".domain_id = 1) LIMIT 1[0m
  [4;35;1mSubdomain Load (0.1ms)[0m   [0mSELECT "subdomains".id FROM "subdomains" WHERE ("subdomains"."path" = 'newsub' AND "subdomains".domain_id = 1) LIMIT 1[0m
  [4;36;1mSubdomain Load (0.1ms)[0m   [0;1mSELECT "subdomains".id FROM "subdomains" WHERE ("subdomains"."url" IS NULL AND "subdomains".domain_id IS NULL) LIMIT 1[0m
  [4;35;1mSubdomain Load (0.1ms)[0m   [0mSELECT "subdomains".id FROM "subdomains" WHERE ("subdomains"."path" IS NULL AND "subdomains".domain_id IS NULL) LIMIT 1[0m
  [4;36;1mSubdomain Load (0.2ms)[0m   [0;1mSELECT * FROM "subdomains" WHERE ("subdomains"."id" = 298486374) [0m
  [4;35;1mDomain Load (0.1ms)[0m   [0mSELECT * FROM "domains" WHERE ("domains"."id" = 1) [0m
  [4;36;1mSubdomain Load (0.1ms)[0m   [0;1mSELECT "subdomains".id FROM "subdomains" WHERE ("subdomains"."url" = 'test' AND "subdomains".domain_id = 1 AND "subdomains".id <> 298486374) LIMIT 1[0m
  [4;35;1mSubdomain Load (0.1ms)[0m   [0mSELECT "subdomains".id FROM "subdomains" WHERE ("subdomains"."path" = 'test-site' AND "subdomains".domain_id = 1 AND "subdomains".id <> 298486374) LIMIT 1[0m
  [4;36;1mSubdomain Load (0.2ms)[0m   [0;1mSELECT * FROM "subdomains" WHERE ("subdomains"."id" = 298486374) [0m
  [4;35;1mSubdomain Load (0.1ms)[0m   [0mSELECT "subdomains".id FROM "subdomains" WHERE ("subdomains"."url" = 'test' AND "subdomains".domain_id = 1 AND "subdomains".id <> 298486374) LIMIT 1[0m
  [4;36;1mSubdomain Load (0.1ms)[0m   [0;1mSELECT "subdomains".id FROM "subdomains" WHERE ("subdomains"."path" = 'test-site' AND "subdomains".domain_id = 1 AND "subdomains".id <> 298486374) LIMIT 1[0m
  [4;35;1mSubdomain Load (0.2ms)[0m   [0mSELECT * FROM "subdomains" WHERE ("subdomains"."id" = 298486374) [0m
  [4;36;1mDomain Load (0.2ms)[0m   [0;1mSELECT * FROM "domains" WHERE ("domains"."id" = 1) [0m
  [4;35;1mSubdomain Load (0.1ms)[0m   [0mSELECT "subdomains".id FROM "subdomains" WHERE ("subdomains"."url" = 'mainsub' AND "subdomains".domain_id = 1) LIMIT 1[0m
  [4;36;1mSubdomain Load (0.1ms)[0m   [0;1mSELECT "subdomains".id FROM "subdomains" WHERE ("subdomains"."path" = 'mainsub' AND "subdomains".domain_id = 1) LIMIT 1[0m
  [4;35;1mSubdomain Load (0.2ms)[0m   [0mSELECT * FROM "subdomains" WHERE ("subdomains"."domain_id" = 1 AND "subdomains"."mainsub" = 't') LIMIT 1[0m
  [4;36;1mSubdomain Update (0.1ms)[0m   [0;1mUPDATE "subdomains" SET "updated_at" = '2010-03-29 19:54:35', "mainsub" = 'f' WHERE "id" = 2053932785[0m
  [4;35;1mSubdomain Create (0.1ms)[0m   [0mINSERT INTO "subdomains" ("created_at", "updated_at", "url", "domain_id", "path", "mainsub") VALUES('2010-03-29 19:54:35', '2010-03-29 19:54:35', 'mainsub', 1, 'mainsub', 't')[0m
  [4;36;1mSubdomain Load (0.1ms)[0m   [0;1mSELECT "subdomains".id FROM "subdomains" WHERE ("subdomains"."url" = 'mainsub' AND "subdomains".domain_id = 1 AND "subdomains".id <> 2053932786) LIMIT 1[0m
  [4;35;1mSubdomain Load (0.1ms)[0m   [0mSELECT "subdomains".id FROM "subdomains" WHERE ("subdomains"."path" = 'mainsub' AND "subdomains".domain_id = 1 AND "subdomains".id <> 2053932786) LIMIT 1[0m
  [4;36;1mSubdomain Load (0.2ms)[0m   [0;1mSELECT * FROM "subdomains" WHERE ("subdomains"."domain_id" = 1 AND "subdomains"."mainsub" = 't') LIMIT 1[0m
  [4;35;1mSubdomain Load (0.3ms)[0m   [0mSELECT * FROM "subdomains" WHERE ("subdomains".domain_id = 1) [0m
  [4;36;1mSubdomain Load (0.2ms)[0m   [0;1mSELECT * FROM "subdomains" WHERE ("subdomains"."id" = 2053932785) [0m
  [4;35;1mDomain Load (0.2ms)[0m   [0mSELECT * FROM "domains" WHERE ("domains"."id" = 1) [0m
  [4;36;1mSubdomain Load (0.1ms)[0m   [0;1mSELECT "subdomains".id FROM "subdomains" WHERE ("subdomains"."url" = 'www' AND "subdomains".domain_id = 1 AND "subdomains".id <> 2053932785) LIMIT 1[0m
  [4;35;1mSubdomain Load (0.1ms)[0m   [0mSELECT "subdomains".id FROM "subdomains" WHERE ("subdomains"."path" = '' AND "subdomains".domain_id = 1 AND "subdomains".id <> 2053932785) LIMIT 1[0m
  [4;36;1mSubdomain Load (0.2ms)[0m   [0;1mSELECT * FROM "subdomains" WHERE ("subdomains"."domain_id" = 1 AND "subdomains"."mainsub" = 't') LIMIT 1[0m
  [4;35;1mSubdomain Load (0.1ms)[0m   [0mSELECT "subdomains".id FROM "subdomains" WHERE ("subdomains"."url" = 'www' AND "subdomains".domain_id = 1 AND "subdomains".id <> 2053932785) LIMIT 1[0m
  [4;36;1mSubdomain Load (0.1ms)[0m   [0;1mSELECT "subdomains".id FROM "subdomains" WHERE ("subdomains"."path" = 'www' AND "subdomains".domain_id = 1 AND "subdomains".id <> 2053932785) LIMIT 1[0m
  [4;35;1mSubdomain Load (0.2ms)[0m   [0mSELECT * FROM "subdomains" WHERE ("subdomains"."domain_id" = 1 AND "subdomains"."mainsub" = 't') LIMIT 1[0m
  [4;36;1mSubdomain Load (0.2ms)[0m   [0;1mSELECT * FROM "subdomains" WHERE ("subdomains"."id" = 2053932785) [0m
  [4;35;1mDomain Load (0.2ms)[0m   [0mSELECT * FROM "domains" WHERE ("domains"."id" = 1) [0m
  [4;36;1mSubdomain Load (0.1ms)[0m   [0;1mSELECT "subdomains".id FROM "subdomains" WHERE ("subdomains"."url" = 'www' AND "subdomains".domain_id = 1 AND "subdomains".id <> 2053932785) LIMIT 1[0m
  [4;35;1mSubdomain Load (0.1ms)[0m   [0mSELECT "subdomains".id FROM "subdomains" WHERE ("subdomains"."path" = 'www' AND "subdomains".domain_id = 1 AND "subdomains".id <> 2053932785) LIMIT 1[0m
  [4;36;1mSubdomain Load (0.2ms)[0m   [0;1mSELECT * FROM "subdomains" WHERE ("subdomains"."domain_id" = 1 AND "subdomains"."mainsub" = 't') LIMIT 1[0m
  [4;35;1mSubdomain Load (0.2ms)[0m   [0mSELECT * FROM "subdomains" WHERE ("subdomains"."id" = 298486374) [0m
  [4;36;1mDomain Load (0.2ms)[0m   [0;1mSELECT * FROM "domains" WHERE ("domains"."id" = 1) [0m
  [4;35;1mSubdomain Load (0.1ms)[0m   [0mSELECT "subdomains".id FROM "subdomains" WHERE ("subdomains"."url" = 'test' AND "subdomains".domain_id = 1 AND "subdomains".id <> 298486374) LIMIT 1[0m
  [4;36;1mSubdomain Load (0.1ms)[0m   [0;1mSELECT "subdomains".id FROM "subdomains" WHERE ("subdomains"."path" = 'test-site' AND "subdomains".domain_id = 1 AND "subdomains".id <> 298486374) LIMIT 1[0m
  [4;35;1mSubdomain Load (0.2ms)[0m   [0mSELECT * FROM "subdomains" WHERE ("subdomains"."id" = 298486374) [0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT "users".id FROM "users" WHERE ("users"."username" = 'test1' AND "users".id <> 2) LIMIT 1[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT "users".id FROM "users" WHERE ("users"."username" = 'test_email') LIMIT 1[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT "users".id FROM "users" WHERE ("users"."username" = 'test_email') LIMIT 1[0m
  [4;35;1mUser Create (0.2ms)[0m   [0mINSERT INTO "users" ("max_bandwidth", "created_at", "max_space", "updated_at", "username", "used_space", "max_subusers", "full_name", "parent_id", "password", "email", "max_subdomains", "ohmd_password") VALUES(NULL, '2010-03-29 19:54:35', -1, '2010-03-29 19:54:35', 'test_email', 0, -1, NULL, 1, 'x', 'valid.with.dots_and-stuff@123.test.co.uk', -1, NULL)[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT "users".id FROM "users" WHERE ("users"."username" = 'test_email' AND "users".id <> 4) LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT "users".id FROM "users" WHERE ("users"."username" = 'test_email' AND "users".id <> 4) LIMIT 1[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT "users".id FROM "users" WHERE ("users"."username" = 'test_email' AND "users".id <> 4) LIMIT 1[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT "users".id FROM "users" WHERE ("users"."username" = 'test1' AND "users".id <> 2) LIMIT 1[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users".parent_id = 2) [0m
  [4;35;1mDomain Load (0.1ms)[0m   [0mSELECT * FROM "domains" WHERE ("domains".user_id = 2) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM "users" WHERE ("users".parent_id = 2) [0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT "users".id FROM "users" WHERE ("users"."username" = 'quota tester') LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM "users" WHERE ("users".parent_id = 2) [0m
  [4;35;1mService Load (0.1ms)[0m   [0mSELECT * FROM "services" INNER JOIN "services_users" ON "services".id = "services_users".service_id WHERE ("services_users".user_id = 2 ) [0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT "users".id FROM "users" WHERE ("users"."username" IS NULL) LIMIT 1[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT "users".id FROM "users" WHERE ("users"."username" = 'admin') LIMIT 1[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT "users".id FROM "users" WHERE ("users"."username" = 'nobody') LIMIT 1[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT "users".id FROM "users" WHERE ("users"."username" = 'test1' AND "users".id <> 2) LIMIT 1[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT "users".id FROM "users" WHERE ("users"."username" = 'test1') LIMIT 1[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT "users".id FROM "users" WHERE ("users"."username" = 'ohmadmin' AND "users".id <> 1) LIMIT 1[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT "users".id FROM "users" WHERE ("users"."username" = 'test1' AND "users".id <> 2) LIMIT 1[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 3) [0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT "users".id FROM "users" WHERE ("users"."username" = 'test2' AND "users".id <> 3) LIMIT 1[0m
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
  [4;35;1mLoggedUser Create (0.2ms)[0m   [0mINSERT INTO "logged_users" ("created_at", "session", "updated_at", "user_id", "ip", "session_ts") VALUES('2010-03-29 19:54:36', 'test session', '2010-03-29 19:54:36', 2, '0.0.0.0', '2010-03-29 19:54:36')[0m


Processing DashboardController#index (for 0.0.0.0 at 2010-03-29 21:54:36) [GET]
  Parameters: {"action"=>"index", "controller"=>"dashboard"}
  [4;36;1mLoggedUser Load (0.2ms)[0m   [0;1mSELECT * FROM "logged_users" WHERE ("logged_users"."ip" = '0.0.0.0' AND "logged_users"."session" = 'test session') LIMIT 1[0m
  [4;35;1mLoggedUser Update (0.1ms)[0m   [0mUPDATE "logged_users" SET "updated_at" = '2010-03-29 19:54:36', "session_ts" = '2010-03-29 19:54:36' WHERE "id" = 2053932786[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
Rendering template within layouts/ohm
Rendering dashboard/index
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM "users" WHERE ("users".parent_id = 2) [0m
  [4;36;1mDomain Load (0.1ms)[0m   [0;1mSELECT * FROM "domains" WHERE ("domains".user_id = 2) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM "domains" WHERE ("domains".user_id = 2) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM "services" INNER JOIN "services_users" ON "services".id = "services_users".service_id WHERE ("services_users".user_id = 2 ) [0m
  [4;35;1mService Load (0.1ms)[0m   [0mSELECT * FROM "services" INNER JOIN "services_users" ON "services".id = "services_users".service_id WHERE ("services_users".user_id = 2 ) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM "users" WHERE ("users".parent_id = 2) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM "users" WHERE ("users".parent_id = 2) [0m
Completed in 16ms (View: 11, DB: 4) | 200 OK [http://test.host/]


Processing DashboardController#index (for 0.0.0.0 at 2010-03-29 21:54:36) [GET]
  Parameters: {"action"=>"index", "controller"=>"dashboard"}
Redirected to http://test.host/login
Filter chain halted as [:authenticate] rendered_or_redirected.
Completed in 0ms (DB: 0) | 302 Found [http://test.host/]
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mLoggedUser Create (0.1ms)[0m   [0mINSERT INTO "logged_users" ("created_at", "session", "updated_at", "user_id", "ip", "session_ts") VALUES('2010-03-29 19:54:36', 'test session', '2010-03-29 19:54:36', 1, '0.0.0.0', '2010-03-29 19:54:36')[0m
  [4;36;1mService Load (0.2ms)[0m   [0;1mSELECT * FROM "services" WHERE ("services"."id" = 2053932785) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mINSERT INTO "services_users" ("service_id", "user_id") VALUES (2053932785, 1)[0m
  [4;36;1mService Load (0.1ms)[0m   [0;1mSELECT "services".id FROM "services" WHERE ("services"."name" = 'Service 1' AND "services".id <> 2053932785) LIMIT 1[0m
  [4;35;1mService Load (0.1ms)[0m   [0mSELECT "services".id FROM "services" WHERE ("services"."controller" = 'service_test_1' AND "services".id <> 2053932785) LIMIT 1[0m
  [4;36;1mDomain Load (0.2ms)[0m   [0;1mSELECT * FROM "domains" WHERE ("domains"."id" = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM "services" INNER JOIN "domains_services" ON "services".id = "domains_services".service_id WHERE ("domains_services".domain_id = 1 ) [0m


Processing DomainsController#addservice (for 0.0.0.0 at 2010-03-29 21:54:36) [POST]
  Parameters: {"action"=>"addservice", "domain_id"=>"1", "service_id"=>[2053932785], "controller"=>"domains"}
  [4;36;1mLoggedUser Load (0.2ms)[0m   [0;1mSELECT * FROM "logged_users" WHERE ("logged_users"."ip" = '0.0.0.0' AND "logged_users"."session" = 'test session') LIMIT 1[0m
  [4;35;1mLoggedUser Update (0.1ms)[0m   [0mUPDATE "logged_users" SET "updated_at" = '2010-03-29 19:54:36', "session_ts" = '2010-03-29 19:54:36' WHERE "id" = 2053932786[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mDomain Load (0.2ms)[0m   [0mSELECT * FROM "domains" WHERE ("domains"."id" = 1) [0m
  [4;36;1mService Load (0.2ms)[0m   [0;1mSELECT * FROM "services" WHERE ("services"."id" = 2053932785) [0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT "users".id FROM "users" INNER JOIN "services_users" ON "users".id = "services_users".user_id WHERE ("users"."id" = 1) AND ("services_users".service_id = 2053932785 ) LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mINSERT INTO "domains_services" ("domain_id", "service_id") VALUES (1, 2053932785)[0m
  [4;36;1mDomain Load (0.1ms)[0m   [0;1mSELECT "domains".id FROM "domains" WHERE ("domains"."domain" = 'test.com' AND "domains".id <> 1) LIMIT 1[0m
Redirected to http://test.host/service_test_1/addtodomain?domain_id=1&service_id=2053932785
Completed in 10ms (DB: 3) | 302 Found [http://test.host/domains/addservice?domain_id=1&service_id%5B%5D=2053932785]
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM "services" INNER JOIN "domains_services" ON "services".id = "domains_services".service_id WHERE ("domains_services".domain_id = 1 ) [0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
  [4;35;1mLoggedUser Create (0.1ms)[0m   [0mINSERT INTO "logged_users" ("created_at", "session", "updated_at", "user_id", "ip", "session_ts") VALUES('2010-03-29 19:54:36', 'test session', '2010-03-29 19:54:36', 2, '0.0.0.0', '2010-03-29 19:54:36')[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM "domains" [0m


Processing DomainsController#create (for 0.0.0.0 at 2010-03-29 21:54:36) [POST]
  Parameters: {"action"=>"create", "domain"=>{"domain"=>"newdom.com"}, "controller"=>"domains"}
  [4;35;1mLoggedUser Load (0.2ms)[0m   [0mSELECT * FROM "logged_users" WHERE ("logged_users"."ip" = '0.0.0.0' AND "logged_users"."session" = 'test session') LIMIT 1[0m
  [4;36;1mLoggedUser Update (0.1ms)[0m   [0;1mUPDATE "logged_users" SET "updated_at" = '2010-03-29 19:54:36', "session_ts" = '2010-03-29 19:54:36' WHERE "id" = 2053932786[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
  [4;36;1mDomain Load (0.1ms)[0m   [0;1mSELECT "domains".id FROM "domains" WHERE ("domains"."domain" = 'newdom.com') LIMIT 1[0m
  [4;35;1mDomain Create (0.1ms)[0m   [0mINSERT INTO "domains" ("created_at", "updated_at", "domain", "user_id") VALUES('2010-03-29 19:54:36', '2010-03-29 19:54:36', 'newdom.com', 2)[0m
  [4;36;1mSubdomain Load (0.1ms)[0m   [0;1mSELECT "subdomains".id FROM "subdomains" WHERE ("subdomains"."url" = 'www' AND "subdomains".domain_id = 2) LIMIT 1[0m
  [4;35;1mSubdomain Load (0.1ms)[0m   [0mSELECT "subdomains".id FROM "subdomains" WHERE ("subdomains"."path" = 'www' AND "subdomains".domain_id = 2) LIMIT 1[0m
  [4;36;1mSubdomain Load (0.1ms)[0m   [0;1mSELECT * FROM "subdomains" WHERE ("subdomains"."mainsub" = 't' AND "subdomains"."domain_id" = 2) LIMIT 1[0m
  [4;35;1mSubdomain Create (0.1ms)[0m   [0mINSERT INTO "subdomains" ("created_at", "updated_at", "url", "domain_id", "path", "mainsub") VALUES('2010-03-29 19:54:36', '2010-03-29 19:54:36', 'www', 2, 'www', 't')[0m
Redirected to http://test.host/domains/2
Completed in 8ms (DB: 2) | 302 Found [http://test.host/domains?domain%5Bdomain%5D=newdom.com]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM "domains" [0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mLoggedUser Create (0.1ms)[0m   [0;1mINSERT INTO "logged_users" ("created_at", "session", "updated_at", "user_id", "ip", "session_ts") VALUES('2010-03-29 19:54:36', 'test session', '2010-03-29 19:54:36', 1, '0.0.0.0', '2010-03-29 19:54:36')[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM "domains" [0m
  [4;36;1mDomain Load (0.2ms)[0m   [0;1mSELECT * FROM "domains" WHERE ("domains"."id" = 1) [0m


Processing DomainsController#destroy (for 0.0.0.0 at 2010-03-29 21:54:36) [DELETE]
  Parameters: {"action"=>"destroy", "id"=>"1", "controller"=>"domains"}
  [4;35;1mLoggedUser Load (0.3ms)[0m   [0mSELECT * FROM "logged_users" WHERE ("logged_users"."ip" = '0.0.0.0' AND "logged_users"."session" = 'test session') LIMIT 1[0m
  [4;36;1mLoggedUser Update (0.1ms)[0m   [0;1mUPDATE "logged_users" SET "updated_at" = '2010-03-29 19:54:36', "session_ts" = '2010-03-29 19:54:36' WHERE "id" = 2053932786[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mDomain Load (0.2ms)[0m   [0;1mSELECT * FROM "domains" WHERE ("domains"."id" = 1) [0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mSubdomain Load (0.3ms)[0m   [0;1mSELECT * FROM "subdomains" WHERE ("subdomains".domain_id = 1) [0m
  [4;35;1mSubdomain Destroy (0.1ms)[0m   [0mDELETE FROM "subdomains" WHERE "id" = 298486374[0m
  [4;36;1mSubdomain Destroy (0.1ms)[0m   [0;1mDELETE FROM "subdomains" WHERE "id" = 2053932785[0m
  [4;35;1mSubdomain Destroy (0.1ms)[0m   [0mDELETE FROM "subdomains" WHERE "id" = 298486374[0m
  [4;36;1mSubdomain Destroy (0.1ms)[0m   [0;1mDELETE FROM "subdomains" WHERE "id" = 2053932785[0m
  [4;35;1mService Load (0.1ms)[0m   [0mSELECT * FROM "services" INNER JOIN "domains_services" ON "services".id = "domains_services".service_id WHERE ("domains_services".domain_id = 1 ) [0m
  [4;36;1mDomain Destroy (0.1ms)[0m   [0;1mDELETE FROM "domains" WHERE "id" = 1[0m
Redirected to http://test.host/domains
Completed in 8ms (DB: 3) | 302 Found [http://test.host/domains/1]
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM "domains" [0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
  [4;35;1mLoggedUser Create (0.1ms)[0m   [0mINSERT INTO "logged_users" ("created_at", "session", "updated_at", "user_id", "ip", "session_ts") VALUES('2010-03-29 19:54:36', 'test session', '2010-03-29 19:54:36', 2, '0.0.0.0', '2010-03-29 19:54:36')[0m


Processing DomainsController#index (for 0.0.0.0 at 2010-03-29 21:54:36) [GET]
  Parameters: {"action"=>"index", "controller"=>"domains"}
  [4;36;1mLoggedUser Load (0.2ms)[0m   [0;1mSELECT * FROM "logged_users" WHERE ("logged_users"."ip" = '0.0.0.0' AND "logged_users"."session" = 'test session') LIMIT 1[0m
  [4;35;1mLoggedUser Update (0.1ms)[0m   [0mUPDATE "logged_users" SET "updated_at" = '2010-03-29 19:54:36', "session_ts" = '2010-03-29 19:54:36' WHERE "id" = 2053932786[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
Rendering template within layouts/ohm
Rendering domains/index
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM "domains" WHERE ("domains".user_id = 2) [0m
  [4;36;1mDomain Load (0.1ms)[0m   [0;1mSELECT * FROM "domains" WHERE ("domains".user_id = 2) [0m
  [4;35;1mService Load (0.1ms)[0m   [0mSELECT * FROM "services" INNER JOIN "services_users" ON "services".id = "services_users".service_id WHERE ("services_users".user_id = 2 ) [0m
Completed in 8ms (View: 5, DB: 1) | 200 OK [http://test.host/domains]


Processing DomainsController#index (for 0.0.0.0 at 2010-03-29 21:54:36) [GET]
  Parameters: {"action"=>"index", "controller"=>"domains"}
Redirected to http://test.host/login
Filter chain halted as [:authenticate] rendered_or_redirected.
Completed in 0ms (DB: 0) | 302 Found [http://test.host/domains]
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
  [4;35;1mLoggedUser Create (0.1ms)[0m   [0mINSERT INTO "logged_users" ("created_at", "session", "updated_at", "user_id", "ip", "session_ts") VALUES('2010-03-29 19:54:36', 'test session', '2010-03-29 19:54:36', 2, '0.0.0.0', '2010-03-29 19:54:36')[0m


Processing DomainsController#new (for 0.0.0.0 at 2010-03-29 21:54:36) [GET]
  Parameters: {"action"=>"new", "controller"=>"domains"}
  [4;36;1mLoggedUser Load (0.2ms)[0m   [0;1mSELECT * FROM "logged_users" WHERE ("logged_users"."ip" = '0.0.0.0' AND "logged_users"."session" = 'test session') LIMIT 1[0m
  [4;35;1mLoggedUser Update (0.1ms)[0m   [0mUPDATE "logged_users" SET "updated_at" = '2010-03-29 19:54:36', "session_ts" = '2010-03-29 19:54:36' WHERE "id" = 2053932786[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
Rendering template within layouts/ohm
Rendering domains/new
  [4;35;1mService Load (0.1ms)[0m   [0mSELECT * FROM "services" INNER JOIN "services_users" ON "services".id = "services_users".service_id WHERE ("services_users".user_id = 2 ) [0m
Completed in 8ms (View: 5, DB: 1) | 200 OK [http://test.host/domains/new]
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
  [4;35;1mLoggedUser Create (0.1ms)[0m   [0mINSERT INTO "logged_users" ("created_at", "session", "updated_at", "user_id", "ip", "session_ts") VALUES('2010-03-29 19:54:36', 'test session', '2010-03-29 19:54:36', 2, '0.0.0.0', '2010-03-29 19:54:36')[0m
  [4;36;1mService Load (0.2ms)[0m   [0;1mSELECT * FROM "services" WHERE ("services"."id" = 2053932785) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mINSERT INTO "services_users" ("service_id", "user_id") VALUES (2053932785, 2)[0m
  [4;36;1mService Load (0.1ms)[0m   [0;1mSELECT "services".id FROM "services" WHERE ("services"."name" = 'Service 1' AND "services".id <> 2053932785) LIMIT 1[0m
  [4;35;1mService Load (0.1ms)[0m   [0mSELECT "services".id FROM "services" WHERE ("services"."controller" = 'service_test_1' AND "services".id <> 2053932785) LIMIT 1[0m
  [4;36;1mDomain Load (0.2ms)[0m   [0;1mSELECT * FROM "domains" WHERE ("domains"."id" = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM "services" INNER JOIN "domains_services" ON "services".id = "domains_services".service_id WHERE ("domains_services".domain_id = 1 ) [0m


Processing DomainsController#addservice (for 0.0.0.0 at 2010-03-29 21:54:36) [POST]
  Parameters: {"action"=>"addservice", "domain_id"=>"1", "service_id"=>[2053932785], "controller"=>"domains"}
  [4;36;1mLoggedUser Load (0.2ms)[0m   [0;1mSELECT * FROM "logged_users" WHERE ("logged_users"."ip" = '0.0.0.0' AND "logged_users"."session" = 'test session') LIMIT 1[0m
  [4;35;1mLoggedUser Update (0.1ms)[0m   [0mUPDATE "logged_users" SET "updated_at" = '2010-03-29 19:54:36', "session_ts" = '2010-03-29 19:54:36' WHERE "id" = 2053932786[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
  [4;35;1mDomain Load (0.2ms)[0m   [0mSELECT * FROM "domains" WHERE ("domains"."id" = 1) [0m
  [4;36;1mService Load (0.2ms)[0m   [0;1mSELECT * FROM "services" WHERE ("services"."id" = 2053932785) [0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
Redirected to http://test.host/domains
Completed in 4ms (DB: 2) | 302 Found [http://test.host/domains/addservice?domain_id=1&service_id%5B%5D=2053932785]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM "services" INNER JOIN "domains_services" ON "services".id = "domains_services".service_id WHERE ("domains_services".domain_id = 1 ) [0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
  [4;36;1mLoggedUser Create (0.1ms)[0m   [0;1mINSERT INTO "logged_users" ("created_at", "session", "updated_at", "user_id", "ip", "session_ts") VALUES('2010-03-29 19:54:36', 'test session', '2010-03-29 19:54:36', 2, '0.0.0.0', '2010-03-29 19:54:36')[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM "domains" [0m
  [4;36;1mDomain Load (0.2ms)[0m   [0;1mSELECT * FROM "domains" WHERE ("domains"."id" = 1) [0m


Processing DomainsController#destroy (for 0.0.0.0 at 2010-03-29 21:54:36) [DELETE]
  Parameters: {"action"=>"destroy", "id"=>"1", "controller"=>"domains"}
  [4;35;1mLoggedUser Load (0.2ms)[0m   [0mSELECT * FROM "logged_users" WHERE ("logged_users"."ip" = '0.0.0.0' AND "logged_users"."session" = 'test session') LIMIT 1[0m
  [4;36;1mLoggedUser Update (0.1ms)[0m   [0;1mUPDATE "logged_users" SET "updated_at" = '2010-03-29 19:54:36', "session_ts" = '2010-03-29 19:54:36' WHERE "id" = 2053932786[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
  [4;36;1mDomain Load (0.1ms)[0m   [0;1mSELECT * FROM "domains" WHERE ("domains"."id" = 1) [0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
Redirected to http://test.host/domains
Completed in 4ms (DB: 2) | 302 Found [http://test.host/domains/1]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM "domains" [0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
  [4;36;1mLoggedUser Create (0.1ms)[0m   [0;1mINSERT INTO "logged_users" ("created_at", "session", "updated_at", "user_id", "ip", "session_ts") VALUES('2010-03-29 19:54:36', 'test session', '2010-03-29 19:54:36', 2, '0.0.0.0', '2010-03-29 19:54:36')[0m
  [4;35;1mDomain Load (0.2ms)[0m   [0mSELECT * FROM "domains" WHERE ("domains"."id" = 1) [0m


Processing DomainsController#show (for 0.0.0.0 at 2010-03-29 21:54:36) [GET]
  Parameters: {"action"=>"show", "id"=>"1", "controller"=>"domains"}
  [4;36;1mLoggedUser Load (0.2ms)[0m   [0;1mSELECT * FROM "logged_users" WHERE ("logged_users"."ip" = '0.0.0.0' AND "logged_users"."session" = 'test session') LIMIT 1[0m
  [4;35;1mLoggedUser Update (0.1ms)[0m   [0mUPDATE "logged_users" SET "updated_at" = '2010-03-29 19:54:36', "session_ts" = '2010-03-29 19:54:36' WHERE "id" = 2053932786[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
  [4;35;1mDomain Load (0.1ms)[0m   [0mSELECT * FROM "domains" WHERE ("domains"."id" = 1) [0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
Redirected to http://test.host/domains
Completed in 4ms (DB: 2) | 302 Found [http://test.host/domains/1]
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mLoggedUser Create (0.1ms)[0m   [0;1mINSERT INTO "logged_users" ("created_at", "session", "updated_at", "user_id", "ip", "session_ts") VALUES('2010-03-29 19:54:36', 'test session', '2010-03-29 19:54:36', 1, '0.0.0.0', '2010-03-29 19:54:36')[0m
  [4;35;1mDomain Load (0.1ms)[0m   [0mSELECT * FROM "domains" WHERE ("domains"."id" = 1) [0m


Processing DomainsController#show (for 0.0.0.0 at 2010-03-29 21:54:36) [GET]
  Parameters: {"action"=>"show", "id"=>"1", "controller"=>"domains"}
  [4;36;1mLoggedUser Load (0.2ms)[0m   [0;1mSELECT * FROM "logged_users" WHERE ("logged_users"."ip" = '0.0.0.0' AND "logged_users"."session" = 'test session') LIMIT 1[0m
  [4;35;1mLoggedUser Update (0.1ms)[0m   [0mUPDATE "logged_users" SET "updated_at" = '2010-03-29 19:54:36', "session_ts" = '2010-03-29 19:54:36' WHERE "id" = 2053932786[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mDomain Load (0.2ms)[0m   [0mSELECT * FROM "domains" WHERE ("domains"."id" = 1) [0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
Rendering template within layouts/ohm
Rendering domains/show
  [4;35;1mSubdomain Load (0.3ms)[0m   [0mSELECT * FROM "subdomains" WHERE ("subdomains".domain_id = 1) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM "services" INNER JOIN "domains_services" ON "services".id = "domains_services".service_id WHERE ("domains_services".domain_id = 1 ) [0m
  [4;35;1mService Load (0.1ms)[0m   [0mSELECT * FROM "services" INNER JOIN "domains_services" ON "services".id = "domains_services".service_id WHERE ("domains_services".domain_id = 1 ) [0m
  [4;36;1mService Load (0.1ms)[0m   [0;1mSELECT * FROM "services" INNER JOIN "services_users" ON "services".id = "services_users".service_id WHERE ("services_users".user_id = 1 ) [0m
Rendered domains/_domain (15.3ms)
Completed in 22ms (View: 18, DB: 2) | 200 OK [http://test.host/domains/1]
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m


Processing LoginController#login (for 0.0.0.0 at 2010-03-29 21:54:36) [POST]
  Parameters: {"action"=>"login", "controller"=>"login", "user"=>#<User id: 2, username: "test1", password: "bad password", full_name: "Test User 1", email: "test1@test.com", parent_id: 1, created_at: "2010-03-29 19:54:36", updated_at: "2010-03-29 19:54:36", max_subdomains: 5, max_space: 500, max_bandwidth: nil, max_subusers: 5, used_space: 100, ohmd_password: nil>}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."username" = 'test1') LIMIT 1[0m
Redirected to http://test.host/login
Completed in 3ms (DB: 1) | 302 Found [http://test.host/login/login?user=2]
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m


Processing LoginController#login (for 0.0.0.0 at 2010-03-29 21:54:36) [POST]
  Parameters: {"action"=>"login", "controller"=>"login", "user"=>#<User id: 2, username: "test1", password: "test1", full_name: "Test User 1", email: "test1@test.com", parent_id: 1, created_at: "2010-03-29 19:54:36", updated_at: "2010-03-29 19:54:36", max_subdomains: 5, max_space: 500, max_bandwidth: nil, max_subusers: 5, used_space: 100, ohmd_password: nil>}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."username" = 'test1') LIMIT 1[0m
  [4;35;1mLoggedUser Create (0.2ms)[0m   [0mINSERT INTO "logged_users" ("created_at", "session", "updated_at", "user_id", "ip", "session_ts") VALUES('2010-03-29 19:54:37', '440b8a846b14a686d1bb89fe4cb4cfa6', '2010-03-29 19:54:37', 2, '0.0.0.0', '2010-03-29 19:54:37')[0m
Redirected to http://test.host/
Completed in 3ms (DB: 1) | 302 Found [http://test.host/login/login?user=2]


Processing LoginController#index (for 0.0.0.0 at 2010-03-29 21:54:37) [GET]
  Parameters: {"action"=>"index", "controller"=>"login"}
  [4;36;1mUser Load (0.5ms)[0m   [0;1mSELECT * FROM "users" [0m
Rendering template within layouts/ohm
Rendering login/index
Completed in 5ms (View: 4, DB: 1) | 200 OK [http://test.host/login]
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mLoggedUser Create (0.1ms)[0m   [0;1mINSERT INTO "logged_users" ("created_at", "session", "updated_at", "user_id", "ip", "session_ts") VALUES('2010-03-29 19:54:37', 'test session', '2010-03-29 19:54:37', 1, '0.0.0.0', '2010-03-29 19:54:37')[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM "services" [0m
  [4;36;1mService Load (0.2ms)[0m   [0;1mSELECT * FROM "services" WHERE ("services"."id" = 2053932785) [0m


Processing ServicesController#destroy (for 0.0.0.0 at 2010-03-29 21:54:37) [DELETE]
  Parameters: {"action"=>"destroy", "id"=>"2053932785", "controller"=>"services"}
  [4;35;1mLoggedUser Load (0.2ms)[0m   [0mSELECT * FROM "logged_users" WHERE ("logged_users"."ip" = '0.0.0.0' AND "logged_users"."session" = 'test session') LIMIT 1[0m
  [4;36;1mLoggedUser Update (0.1ms)[0m   [0;1mUPDATE "logged_users" SET "updated_at" = '2010-03-29 19:54:37', "session_ts" = '2010-03-29 19:54:37' WHERE "id" = 2053932786[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mService Load (0.2ms)[0m   [0;1mSELECT * FROM "services" WHERE ("services"."id" = 2053932785) [0m
  [4;35;1mService Update (0.1ms)[0m   [0mUPDATE "services" SET "updated_at" = '2010-03-29 19:54:37', "deleted" = 't' WHERE "id" = 2053932785[0m
Redirected to http://test.host/services
Completed in 5ms (DB: 2) | 302 Found [http://test.host/services/2053932785]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM "services" [0m
  [4;35;1mService Load (0.2ms)[0m   [0mSELECT * FROM "services" WHERE ("services"."id" = 2053932785) [0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mLoggedUser Create (0.1ms)[0m   [0mINSERT INTO "logged_users" ("created_at", "session", "updated_at", "user_id", "ip", "session_ts") VALUES('2010-03-29 19:54:37', 'test session', '2010-03-29 19:54:37', 1, '0.0.0.0', '2010-03-29 19:54:37')[0m


Processing ServicesController#index (for 0.0.0.0 at 2010-03-29 21:54:37) [GET]
  Parameters: {"action"=>"index", "controller"=>"services"}
  [4;36;1mLoggedUser Load (0.2ms)[0m   [0;1mSELECT * FROM "logged_users" WHERE ("logged_users"."ip" = '0.0.0.0' AND "logged_users"."session" = 'test session') LIMIT 1[0m
  [4;35;1mLoggedUser Update (0.1ms)[0m   [0mUPDATE "logged_users" SET "updated_at" = '2010-03-29 19:54:37', "session_ts" = '2010-03-29 19:54:37' WHERE "id" = 2053932786[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mService Load (0.3ms)[0m   [0mSELECT * FROM "services" [0m
Rendering template within layouts/ohm
Rendering services/index
  [4;36;1mService Load (0.1ms)[0m   [0;1mSELECT * FROM "services" INNER JOIN "services_users" ON "services".id = "services_users".service_id WHERE ("services_users".user_id = 1 ) [0m
Completed in 7ms (View: 4, DB: 2) | 200 OK [http://test.host/services]


Processing ServicesController#index (for 0.0.0.0 at 2010-03-29 21:54:37) [GET]
  Parameters: {"action"=>"index", "controller"=>"services"}
Redirected to http://test.host/login
Filter chain halted as [:authenticate_root] rendered_or_redirected.
Completed in 0ms (DB: 0) | 302 Found [http://test.host/services]
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mLoggedUser Create (0.1ms)[0m   [0;1mINSERT INTO "logged_users" ("created_at", "session", "updated_at", "user_id", "ip", "session_ts") VALUES('2010-03-29 19:54:37', 'test session', '2010-03-29 19:54:37', 1, '0.0.0.0', '2010-03-29 19:54:37')[0m


Processing ServicesController#new (for 0.0.0.0 at 2010-03-29 21:54:37) [GET]
  Parameters: {"action"=>"new", "controller"=>"services"}
  [4;35;1mLoggedUser Load (0.2ms)[0m   [0mSELECT * FROM "logged_users" WHERE ("logged_users"."ip" = '0.0.0.0' AND "logged_users"."session" = 'test session') LIMIT 1[0m
  [4;36;1mLoggedUser Update (0.1ms)[0m   [0;1mUPDATE "logged_users" SET "updated_at" = '2010-03-29 19:54:37', "session_ts" = '2010-03-29 19:54:37' WHERE "id" = 2053932786[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
Rendering template within layouts/ohm
Rendering services/new
  [4;36;1mService Load (0.1ms)[0m   [0;1mSELECT * FROM "services" INNER JOIN "services_users" ON "services".id = "services_users".service_id WHERE ("services_users".user_id = 1 ) [0m
Completed in 7ms (View: 5, DB: 1) | 200 OK [http://test.host/services/new]
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
  [4;36;1mLoggedUser Create (0.1ms)[0m   [0;1mINSERT INTO "logged_users" ("created_at", "session", "updated_at", "user_id", "ip", "session_ts") VALUES('2010-03-29 19:54:37', 'test session', '2010-03-29 19:54:37', 2, '0.0.0.0', '2010-03-29 19:54:37')[0m


Processing ServicesController#index (for 0.0.0.0 at 2010-03-29 21:54:37) [GET]
  Parameters: {"action"=>"index", "controller"=>"services"}
  [4;35;1mLoggedUser Load (0.2ms)[0m   [0mSELECT * FROM "logged_users" WHERE ("logged_users"."ip" = '0.0.0.0' AND "logged_users"."session" = 'test session') LIMIT 1[0m
  [4;36;1mLoggedUser Update (0.1ms)[0m   [0;1mUPDATE "logged_users" SET "updated_at" = '2010-03-29 19:54:37', "session_ts" = '2010-03-29 19:54:37' WHERE "id" = 2053932786[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
Redirected to http://test.host/
Filter chain halted as [:authenticate_root] rendered_or_redirected.
Completed in 2ms (DB: 1) | 302 Found [http://test.host/services]
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
  [4;35;1mLoggedUser Create (0.1ms)[0m   [0mINSERT INTO "logged_users" ("created_at", "session", "updated_at", "user_id", "ip", "session_ts") VALUES('2010-03-29 19:54:37', 'test session', '2010-03-29 19:54:37', 2, '0.0.0.0', '2010-03-29 19:54:37')[0m


Processing ServicesController#new (for 0.0.0.0 at 2010-03-29 21:54:37) [GET]
  Parameters: {"action"=>"new", "controller"=>"services"}
  [4;36;1mLoggedUser Load (0.2ms)[0m   [0;1mSELECT * FROM "logged_users" WHERE ("logged_users"."ip" = '0.0.0.0' AND "logged_users"."session" = 'test session') LIMIT 1[0m
  [4;35;1mLoggedUser Update (0.1ms)[0m   [0mUPDATE "logged_users" SET "updated_at" = '2010-03-29 19:54:37', "session_ts" = '2010-03-29 19:54:37' WHERE "id" = 2053932786[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
Redirected to http://test.host/
Filter chain halted as [:authenticate_root] rendered_or_redirected.
Completed in 2ms (DB: 1) | 302 Found [http://test.host/services/new]
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
  [4;36;1mLoggedUser Create (0.1ms)[0m   [0;1mINSERT INTO "logged_users" ("created_at", "session", "updated_at", "user_id", "ip", "session_ts") VALUES('2010-03-29 19:54:37', 'test session', '2010-03-29 19:54:37', 2, '0.0.0.0', '2010-03-29 19:54:37')[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM "services" [0m
  [4;36;1mService Load (0.2ms)[0m   [0;1mSELECT * FROM "services" WHERE ("services"."id" = 2053932785) [0m


Processing ServicesController#destroy (for 0.0.0.0 at 2010-03-29 21:54:37) [DELETE]
  Parameters: {"action"=>"destroy", "id"=>"2053932785", "controller"=>"services"}
  [4;35;1mLoggedUser Load (0.2ms)[0m   [0mSELECT * FROM "logged_users" WHERE ("logged_users"."ip" = '0.0.0.0' AND "logged_users"."session" = 'test session') LIMIT 1[0m
  [4;36;1mLoggedUser Update (0.1ms)[0m   [0;1mUPDATE "logged_users" SET "updated_at" = '2010-03-29 19:54:37', "session_ts" = '2010-03-29 19:54:37' WHERE "id" = 2053932786[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
Redirected to http://test.host/
Filter chain halted as [:authenticate_root] rendered_or_redirected.
Completed in 2ms (DB: 1) | 302 Found [http://test.host/services/2053932785]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM "services" [0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mLoggedUser Create (0.1ms)[0m   [0;1mINSERT INTO "logged_users" ("created_at", "session", "updated_at", "user_id", "ip", "session_ts") VALUES('2010-03-29 19:54:37', 'test session', '2010-03-29 19:54:37', 1, '0.0.0.0', '2010-03-29 19:54:37')[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM "subdomains" [0m
  [4;36;1mDomain Load (0.2ms)[0m   [0;1mSELECT * FROM "domains" WHERE ("domains"."id" = 1) [0m


Processing SubdomainsController#create (for 0.0.0.0 at 2010-03-29 21:54:37) [POST]
  Parameters: {"action"=>"create", "subdomain"=>{"url"=>"newsub", "domain"=>#<Domain id: 1, domain: "test.com", user_id: 1, created_at: "2010-03-29 19:54:36", updated_at: "2010-03-29 19:54:36">}, "controller"=>"subdomains"}
  [4;35;1mLoggedUser Load (0.2ms)[0m   [0mSELECT * FROM "logged_users" WHERE ("logged_users"."ip" = '0.0.0.0' AND "logged_users"."session" = 'test session') LIMIT 1[0m
  [4;36;1mLoggedUser Update (0.1ms)[0m   [0;1mUPDATE "logged_users" SET "updated_at" = '2010-03-29 19:54:37', "session_ts" = '2010-03-29 19:54:37' WHERE "id" = 2053932786[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mSubdomain Load (0.1ms)[0m   [0mSELECT "subdomains".id FROM "subdomains" WHERE ("subdomains"."url" = 'newsub' AND "subdomains".domain_id = 1) LIMIT 1[0m
  [4;36;1mSubdomain Load (0.1ms)[0m   [0;1mSELECT "subdomains".id FROM "subdomains" WHERE ("subdomains"."path" IS NULL AND "subdomains".domain_id = 1) LIMIT 1[0m
  [4;35;1mSubdomain Create (0.1ms)[0m   [0mINSERT INTO "subdomains" ("created_at", "updated_at", "url", "domain_id", "path", "mainsub") VALUES('2010-03-29 19:54:37', '2010-03-29 19:54:37', 'newsub', 1, NULL, 'f')[0m
Redirected to http://test.host/domains/1
Completed in 7ms (DB: 2) | 302 Found [http://test.host/subdomains?subdomain%5Bdomain%5D=1&subdomain%5Burl%5D=newsub]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM "subdomains" [0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mLoggedUser Create (0.1ms)[0m   [0;1mINSERT INTO "logged_users" ("created_at", "session", "updated_at", "user_id", "ip", "session_ts") VALUES('2010-03-29 19:54:37', 'test session', '2010-03-29 19:54:37', 1, '0.0.0.0', '2010-03-29 19:54:37')[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM "subdomains" [0m
  [4;36;1mSubdomain Load (0.2ms)[0m   [0;1mSELECT * FROM "subdomains" WHERE ("subdomains"."id" = 2053932785) [0m


Processing SubdomainsController#destroy (for 0.0.0.0 at 2010-03-29 21:54:37) [DELETE]
  Parameters: {"action"=>"destroy", "id"=>"2053932785", "controller"=>"subdomains"}
  [4;35;1mLoggedUser Load (0.2ms)[0m   [0mSELECT * FROM "logged_users" WHERE ("logged_users"."ip" = '0.0.0.0' AND "logged_users"."session" = 'test session') LIMIT 1[0m
  [4;36;1mLoggedUser Update (0.1ms)[0m   [0;1mUPDATE "logged_users" SET "updated_at" = '2010-03-29 19:54:37', "session_ts" = '2010-03-29 19:54:37' WHERE "id" = 2053932786[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mSubdomain Load (0.2ms)[0m   [0;1mSELECT * FROM "subdomains" WHERE ("subdomains"."id" = 2053932785) [0m
  [4;35;1mDomain Load (0.1ms)[0m   [0mSELECT * FROM "domains" WHERE ("domains"."id" = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM "subdomains" WHERE ("subdomains".domain_id = 1) [0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mSubdomain Load (0.2ms)[0m   [0;1mSELECT * FROM "subdomains" WHERE ("subdomains".domain_id = 1) [0m
  [4;35;1mSubdomain Update (0.1ms)[0m   [0mUPDATE "subdomains" SET "updated_at" = '2010-03-29 19:54:37', "mainsub" = 't' WHERE "id" = 298486374[0m
  [4;36;1mSubdomain Destroy (0.1ms)[0m   [0;1mDELETE FROM "subdomains" WHERE "id" = 2053932785[0m
Redirected to http://test.host/domains/1
Completed in 7ms (DB: 2) | 302 Found [http://test.host/subdomains/2053932785]
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM "subdomains" [0m
  [4;36;1mDomain Load (0.1ms)[0m   [0;1mSELECT * FROM "domains" WHERE ("domains"."id" = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM "subdomains" [0m
  [4;36;1mSubdomain Load (0.2ms)[0m   [0;1mSELECT * FROM "subdomains" WHERE ("subdomains"."id" = 298486374) [0m


Processing SubdomainsController#destroy (for 0.0.0.0 at 2010-03-29 21:54:37) [DELETE]
  Parameters: {"action"=>"destroy", "id"=>"298486374", "controller"=>"subdomains"}
  [4;35;1mLoggedUser Load (0.2ms)[0m   [0mSELECT * FROM "logged_users" WHERE ("logged_users"."ip" = '0.0.0.0' AND "logged_users"."session" = 'test session') LIMIT 1[0m
  [4;36;1mLoggedUser Update (8.5ms)[0m   [0;1mUPDATE "logged_users" SET "updated_at" = '2010-03-29 19:54:37', "session_ts" = '2010-03-29 19:54:37' WHERE "id" = 2053932786[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mSubdomain Load (0.2ms)[0m   [0;1mSELECT * FROM "subdomains" WHERE ("subdomains"."id" = 298486374) [0m
  [4;35;1mDomain Load (0.2ms)[0m   [0mSELECT * FROM "domains" WHERE ("domains"."id" = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM "subdomains" WHERE ("subdomains".domain_id = 1) [0m
Redirected to http://test.host/domains/1
Completed in 56ms (DB: 10) | 302 Found [http://test.host/subdomains/2053932785]
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM "subdomains" [0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mLoggedUser Create (0.1ms)[0m   [0mINSERT INTO "logged_users" ("created_at", "session", "updated_at", "user_id", "ip", "session_ts") VALUES('2010-03-29 19:54:37', 'test session', '2010-03-29 19:54:37', 1, '0.0.0.0', '2010-03-29 19:54:37')[0m
  [4;36;1mSubdomain Load (0.2ms)[0m   [0;1mSELECT * FROM "subdomains" WHERE ("subdomains"."id" = 2053932785) [0m


Processing SubdomainsController#edit (for 0.0.0.0 at 2010-03-29 21:54:37) [GET]
  Parameters: {"action"=>"edit", "id"=>"2053932785", "controller"=>"subdomains"}
  [4;35;1mLoggedUser Load (0.2ms)[0m   [0mSELECT * FROM "logged_users" WHERE ("logged_users"."ip" = '0.0.0.0' AND "logged_users"."session" = 'test session') LIMIT 1[0m
  [4;36;1mLoggedUser Update (0.1ms)[0m   [0;1mUPDATE "logged_users" SET "updated_at" = '2010-03-29 19:54:37', "session_ts" = '2010-03-29 19:54:37' WHERE "id" = 2053932786[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mSubdomain Load (0.2ms)[0m   [0;1mSELECT * FROM "subdomains" WHERE ("subdomains"."id" = 2053932785) [0m
  [4;35;1mDomain Load (0.2ms)[0m   [0mSELECT * FROM "domains" WHERE ("domains"."id" = 1) [0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
Rendering template within layouts/ohm
Rendering subdomains/edit
  [4;35;1mService Load (0.1ms)[0m   [0mSELECT * FROM "services" INNER JOIN "services_users" ON "services".id = "services_users".service_id WHERE ("services_users".user_id = 1 ) [0m
Completed in 12ms (View: 7, DB: 2) | 200 OK [http://test.host/subdomains/2053932785/edit]


Processing SubdomainsController#index (for 0.0.0.0 at 2010-03-29 21:54:37) [GET]
  Parameters: {"action"=>"index", "controller"=>"subdomains"}
Redirected to http://test.host/login
Filter chain halted as [:authenticate] rendered_or_redirected.
Completed in 0ms (DB: 0) | 302 Found [http://test.host/subdomains]
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mLoggedUser Create (0.1ms)[0m   [0mINSERT INTO "logged_users" ("created_at", "session", "updated_at", "user_id", "ip", "session_ts") VALUES('2010-03-29 19:54:37', 'test session', '2010-03-29 19:54:37', 1, '0.0.0.0', '2010-03-29 19:54:37')[0m
  [4;36;1mDomain Load (0.2ms)[0m   [0;1mSELECT * FROM "domains" WHERE ("domains"."id" = 1) [0m


Processing SubdomainsController#new (for 0.0.0.0 at 2010-03-29 21:54:37) [GET]
  Parameters: {"action"=>"new", "domain"=>"1", "controller"=>"subdomains"}
  [4;35;1mLoggedUser Load (0.2ms)[0m   [0mSELECT * FROM "logged_users" WHERE ("logged_users"."ip" = '0.0.0.0' AND "logged_users"."session" = 'test session') LIMIT 1[0m
  [4;36;1mLoggedUser Update (0.1ms)[0m   [0;1mUPDATE "logged_users" SET "updated_at" = '2010-03-29 19:54:37', "session_ts" = '2010-03-29 19:54:37' WHERE "id" = 2053932786[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mDomain Load (0.2ms)[0m   [0;1mSELECT * FROM "domains" WHERE ("domains"."id" = 1) [0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
Rendering template within layouts/ohm
Rendering subdomains/new
  [4;36;1mService Load (0.1ms)[0m   [0;1mSELECT * FROM "services" INNER JOIN "services_users" ON "services".id = "services_users".service_id WHERE ("services_users".user_id = 1 ) [0m
Completed in 10ms (View: 7, DB: 2) | 200 OK [http://test.host/subdomains/new?domain=1]
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
  [4;36;1mLoggedUser Create (0.1ms)[0m   [0;1mINSERT INTO "logged_users" ("created_at", "session", "updated_at", "user_id", "ip", "session_ts") VALUES('2010-03-29 19:54:37', 'test session', '2010-03-29 19:54:37', 2, '0.0.0.0', '2010-03-29 19:54:37')[0m
  [4;35;1mDomain Load (0.2ms)[0m   [0mSELECT * FROM "domains" WHERE ("domains"."id" = 1) [0m


Processing SubdomainsController#new (for 0.0.0.0 at 2010-03-29 21:54:37) [GET]
  Parameters: {"action"=>"new", "domain"=>"1", "controller"=>"subdomains"}
  [4;36;1mLoggedUser Load (0.2ms)[0m   [0;1mSELECT * FROM "logged_users" WHERE ("logged_users"."ip" = '0.0.0.0' AND "logged_users"."session" = 'test session') LIMIT 1[0m
  [4;35;1mLoggedUser Update (0.1ms)[0m   [0mUPDATE "logged_users" SET "updated_at" = '2010-03-29 19:54:37', "session_ts" = '2010-03-29 19:54:37' WHERE "id" = 2053932786[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
  [4;35;1mDomain Load (0.1ms)[0m   [0mSELECT * FROM "domains" WHERE ("domains"."id" = 1) [0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
Redirected to http://test.host/domains
Completed in 4ms (DB: 2) | 302 Found [http://test.host/subdomains/new?domain=1]
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
  [4;36;1mLoggedUser Create (0.1ms)[0m   [0;1mINSERT INTO "logged_users" ("created_at", "session", "updated_at", "user_id", "ip", "session_ts") VALUES('2010-03-29 19:54:37', 'test session', '2010-03-29 19:54:37', 2, '0.0.0.0', '2010-03-29 19:54:37')[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM "subdomains" [0m
  [4;36;1mDomain Load (0.2ms)[0m   [0;1mSELECT * FROM "domains" WHERE ("domains"."id" = 1) [0m


Processing SubdomainsController#create (for 0.0.0.0 at 2010-03-29 21:54:37) [POST]
  Parameters: {"action"=>"create", "subdomain"=>{"url"=>"newsub", "domain"=>#<Domain id: 1, domain: "test.com", user_id: 1, created_at: "2010-03-29 19:54:36", updated_at: "2010-03-29 19:54:36">}, "controller"=>"subdomains"}
  [4;35;1mLoggedUser Load (0.2ms)[0m   [0mSELECT * FROM "logged_users" WHERE ("logged_users"."ip" = '0.0.0.0' AND "logged_users"."session" = 'test session') LIMIT 1[0m
  [4;36;1mLoggedUser Update (0.1ms)[0m   [0;1mUPDATE "logged_users" SET "updated_at" = '2010-03-29 19:54:37', "session_ts" = '2010-03-29 19:54:37' WHERE "id" = 2053932786[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
Redirected to http://test.host/domains
Completed in 4ms (DB: 1) | 302 Found [http://test.host/subdomains?subdomain%5Bdomain%5D=1&subdomain%5Burl%5D=newsub]
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM "subdomains" [0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
  [4;35;1mLoggedUser Create (0.1ms)[0m   [0mINSERT INTO "logged_users" ("created_at", "session", "updated_at", "user_id", "ip", "session_ts") VALUES('2010-03-29 19:54:37', 'test session', '2010-03-29 19:54:37', 2, '0.0.0.0', '2010-03-29 19:54:37')[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM "subdomains" [0m
  [4;35;1mSubdomain Load (0.2ms)[0m   [0mSELECT * FROM "subdomains" WHERE ("subdomains"."id" = 2053932785) [0m


Processing SubdomainsController#destroy (for 0.0.0.0 at 2010-03-29 21:54:37) [DELETE]
  Parameters: {"action"=>"destroy", "id"=>"2053932785", "controller"=>"subdomains"}
  [4;36;1mLoggedUser Load (0.2ms)[0m   [0;1mSELECT * FROM "logged_users" WHERE ("logged_users"."ip" = '0.0.0.0' AND "logged_users"."session" = 'test session') LIMIT 1[0m
  [4;35;1mLoggedUser Update (0.1ms)[0m   [0mUPDATE "logged_users" SET "updated_at" = '2010-03-29 19:54:37', "session_ts" = '2010-03-29 19:54:37' WHERE "id" = 2053932786[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
  [4;35;1mSubdomain Load (0.2ms)[0m   [0mSELECT * FROM "subdomains" WHERE ("subdomains"."id" = 2053932785) [0m
  [4;36;1mDomain Load (0.1ms)[0m   [0;1mSELECT * FROM "domains" WHERE ("domains"."id" = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM "subdomains" WHERE ("subdomains".domain_id = 1) [0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
Redirected to http://test.host/domains
Completed in 5ms (DB: 2) | 302 Found [http://test.host/subdomains/2053932785]
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM "subdomains" [0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
  [4;35;1mLoggedUser Create (0.1ms)[0m   [0mINSERT INTO "logged_users" ("created_at", "session", "updated_at", "user_id", "ip", "session_ts") VALUES('2010-03-29 19:54:37', 'test session', '2010-03-29 19:54:37', 2, '0.0.0.0', '2010-03-29 19:54:37')[0m
  [4;36;1mSubdomain Load (0.2ms)[0m   [0;1mSELECT * FROM "subdomains" WHERE ("subdomains"."id" = 2053932785) [0m


Processing SubdomainsController#edit (for 0.0.0.0 at 2010-03-29 21:54:37) [GET]
  Parameters: {"action"=>"edit", "id"=>"2053932785", "controller"=>"subdomains"}
  [4;35;1mLoggedUser Load (0.2ms)[0m   [0mSELECT * FROM "logged_users" WHERE ("logged_users"."ip" = '0.0.0.0' AND "logged_users"."session" = 'test session') LIMIT 1[0m
  [4;36;1mLoggedUser Update (0.1ms)[0m   [0;1mUPDATE "logged_users" SET "updated_at" = '2010-03-29 19:54:37', "session_ts" = '2010-03-29 19:54:37' WHERE "id" = 2053932786[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
  [4;36;1mSubdomain Load (0.2ms)[0m   [0;1mSELECT * FROM "subdomains" WHERE ("subdomains"."id" = 2053932785) [0m
  [4;35;1mDomain Load (0.2ms)[0m   [0mSELECT * FROM "domains" WHERE ("domains"."id" = 1) [0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
Redirected to http://test.host/domains
Completed in 4ms (DB: 2) | 302 Found [http://test.host/subdomains/2053932785/edit]
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
  [4;36;1mLoggedUser Create (0.1ms)[0m   [0;1mINSERT INTO "logged_users" ("created_at", "session", "updated_at", "user_id", "ip", "session_ts") VALUES('2010-03-29 19:54:37', 'test session', '2010-03-29 19:54:37', 2, '0.0.0.0', '2010-03-29 19:54:37')[0m
  [4;35;1mSubdomain Load (0.2ms)[0m   [0mSELECT * FROM "subdomains" WHERE ("subdomains"."id" = 2053932785) [0m


Processing SubdomainsController#update (for 0.0.0.0 at 2010-03-29 21:54:37) [PUT]
  Parameters: {"action"=>"update", "id"=>"2053932785", "subdomain"=>{"url"=>"newurl"}, "controller"=>"subdomains"}
  [4;36;1mLoggedUser Load (0.2ms)[0m   [0;1mSELECT * FROM "logged_users" WHERE ("logged_users"."ip" = '0.0.0.0' AND "logged_users"."session" = 'test session') LIMIT 1[0m
  [4;35;1mLoggedUser Update (0.1ms)[0m   [0mUPDATE "logged_users" SET "updated_at" = '2010-03-29 19:54:37', "session_ts" = '2010-03-29 19:54:37' WHERE "id" = 2053932786[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
  [4;35;1mSubdomain Load (0.2ms)[0m   [0mSELECT * FROM "subdomains" WHERE ("subdomains"."id" = 2053932785) [0m
  [4;36;1mDomain Load (0.2ms)[0m   [0;1mSELECT * FROM "domains" WHERE ("domains"."id" = 1) [0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
Redirected to http://test.host/domains
Completed in 4ms (DB: 2) | 302 Found [http://test.host/subdomains/2053932785?subdomain%5Burl%5D=newurl]
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mLoggedUser Create (0.1ms)[0m   [0mINSERT INTO "logged_users" ("created_at", "session", "updated_at", "user_id", "ip", "session_ts") VALUES('2010-03-29 19:54:37', 'test session', '2010-03-29 19:54:37', 1, '0.0.0.0', '2010-03-29 19:54:37')[0m
  [4;36;1mDomain Load (0.2ms)[0m   [0;1mSELECT * FROM "domains" WHERE ("domains"."id" = 1) [0m


Processing SubdomainsController#update (for 0.0.0.0 at 2010-03-29 21:54:37) [PUT]
  Parameters: {"action"=>"update", "id"=>"2053932785", "subdomain"=>{"url"=>"newurl", "domain"=>#<Domain id: 1, domain: "test.com", user_id: 1, created_at: "2010-03-29 19:54:36", updated_at: "2010-03-29 19:54:36">}, "controller"=>"subdomains"}
  [4;35;1mLoggedUser Load (0.2ms)[0m   [0mSELECT * FROM "logged_users" WHERE ("logged_users"."ip" = '0.0.0.0' AND "logged_users"."session" = 'test session') LIMIT 1[0m
  [4;36;1mLoggedUser Update (0.1ms)[0m   [0;1mUPDATE "logged_users" SET "updated_at" = '2010-03-29 19:54:37', "session_ts" = '2010-03-29 19:54:37' WHERE "id" = 2053932786[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
  [4;36;1mSubdomain Load (0.2ms)[0m   [0;1mSELECT * FROM "subdomains" WHERE ("subdomains"."id" = 2053932785) [0m
  [4;35;1mDomain Load (0.1ms)[0m   [0mSELECT * FROM "domains" WHERE ("domains"."id" = 1) [0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
Redirected to http://test.host/domains
Completed in 4ms (DB: 2) | 302 Found [http://test.host/subdomains/2053932785?subdomain%5Burl%5D=newurl]
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mLoggedUser Create (0.1ms)[0m   [0;1mINSERT INTO "logged_users" ("created_at", "session", "updated_at", "user_id", "ip", "session_ts") VALUES('2010-03-29 19:54:37', 'test session', '2010-03-29 19:54:37', 1, '0.0.0.0', '2010-03-29 19:54:37')[0m
  [4;35;1mSubdomain Load (0.2ms)[0m   [0mSELECT * FROM "subdomains" WHERE ("subdomains"."id" = 2053932785) [0m


Processing SubdomainsController#update (for 0.0.0.0 at 2010-03-29 21:54:37) [PUT]
  Parameters: {"action"=>"update", "id"=>"2053932785", "subdomain"=>{"url"=>"newurl"}, "controller"=>"subdomains"}
  [4;36;1mLoggedUser Load (0.2ms)[0m   [0;1mSELECT * FROM "logged_users" WHERE ("logged_users"."ip" = '0.0.0.0' AND "logged_users"."session" = 'test session') LIMIT 1[0m
  [4;35;1mLoggedUser Update (0.1ms)[0m   [0mUPDATE "logged_users" SET "updated_at" = '2010-03-29 19:54:37', "session_ts" = '2010-03-29 19:54:37' WHERE "id" = 2053932786[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mSubdomain Load (0.2ms)[0m   [0mSELECT * FROM "subdomains" WHERE ("subdomains"."id" = 2053932785) [0m
  [4;36;1mDomain Load (0.1ms)[0m   [0;1mSELECT * FROM "domains" WHERE ("domains"."id" = 1) [0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mSubdomain Load (0.1ms)[0m   [0;1mSELECT "subdomains".id FROM "subdomains" WHERE ("subdomains"."url" = 'newurl' AND "subdomains".domain_id = 1 AND "subdomains".id <> 2053932785) LIMIT 1[0m
  [4;35;1mSubdomain Load (0.1ms)[0m   [0mSELECT "subdomains".id FROM "subdomains" WHERE ("subdomains"."path" = 'www' AND "subdomains".domain_id = 1 AND "subdomains".id <> 2053932785) LIMIT 1[0m
  [4;36;1mSubdomain Load (0.2ms)[0m   [0;1mSELECT * FROM "subdomains" WHERE ("subdomains"."mainsub" = 't' AND "subdomains"."domain_id" = 1) LIMIT 1[0m
  [4;35;1mSubdomain Update (0.1ms)[0m   [0mUPDATE "subdomains" SET "updated_at" = '2010-03-29 19:54:37', "url" = 'newurl' WHERE "id" = 2053932785[0m
Redirected to http://test.host/domains/1
Completed in 7ms (DB: 2) | 302 Found [http://test.host/subdomains/2053932785?subdomain%5Burl%5D=newurl]
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mLoggedUser Create (0.1ms)[0m   [0mINSERT INTO "logged_users" ("created_at", "session", "updated_at", "user_id", "ip", "session_ts") VALUES('2010-03-29 19:54:37', 'test session', '2010-03-29 19:54:37', 1, '0.0.0.0', '2010-03-29 19:54:37')[0m
  [4;36;1mService Load (0.2ms)[0m   [0;1mSELECT * FROM "services" WHERE ("services"."id" = 2053932785) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mINSERT INTO "services_users" ("service_id", "user_id") VALUES (2053932785, 1)[0m
  [4;36;1mService Load (0.1ms)[0m   [0;1mSELECT "services".id FROM "services" WHERE ("services"."name" = 'Service 1' AND "services".id <> 2053932785) LIMIT 1[0m
  [4;35;1mService Load (0.1ms)[0m   [0mSELECT "services".id FROM "services" WHERE ("services"."controller" = 'service_test_1' AND "services".id <> 2053932785) LIMIT 1[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM "services" INNER JOIN "services_users" ON "services".id = "services_users".service_id WHERE ("services_users".user_id = 2 ) [0m


Processing UsersController#addservice (for 0.0.0.0 at 2010-03-29 21:54:37) [POST]
  Parameters: {"action"=>"addservice", "service_id"=>[2053932785], "user_id"=>"2", "controller"=>"users"}
  [4;36;1mLoggedUser Load (0.2ms)[0m   [0;1mSELECT * FROM "logged_users" WHERE ("logged_users"."ip" = '0.0.0.0' AND "logged_users"."session" = 'test session') LIMIT 1[0m
  [4;35;1mLoggedUser Update (0.1ms)[0m   [0mUPDATE "logged_users" SET "updated_at" = '2010-03-29 19:54:37', "session_ts" = '2010-03-29 19:54:37' WHERE "id" = 2053932786[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
  [4;36;1mService Load (0.2ms)[0m   [0;1mSELECT * FROM "services" WHERE ("services"."id" = 2053932785) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mINSERT INTO "services_users" ("service_id", "user_id") VALUES (2053932785, 2)[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT "users".id FROM "users" WHERE ("users"."username" = 'test1' AND "users".id <> 2) LIMIT 1[0m
Redirected to http://test.host/service_test_1/addtouser?user_id=2
Completed in 9ms (DB: 3) | 302 Found [http://test.host/users/addservice?service_id%5B%5D=2053932785&user_id=2]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM "services" INNER JOIN "services_users" ON "services".id = "services_users".service_id WHERE ("services_users".user_id = 2 ) [0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mLoggedUser Create (0.1ms)[0m   [0;1mINSERT INTO "logged_users" ("created_at", "session", "updated_at", "user_id", "ip", "session_ts") VALUES('2010-03-29 19:54:37', 'test session', '2010-03-29 19:54:37', 1, '0.0.0.0', '2010-03-29 19:54:37')[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM "users" [0m


Processing UsersController#create (for 0.0.0.0 at 2010-03-29 21:54:37) [POST]
  Parameters: {"action"=>"create", "controller"=>"users", "user"=>{"username"=>"newuser", "password"=>"[FILTERED]", "email"=>"test@test.com"}}
  [4;36;1mLoggedUser Load (0.2ms)[0m   [0;1mSELECT * FROM "logged_users" WHERE ("logged_users"."ip" = '0.0.0.0' AND "logged_users"."session" = 'test session') LIMIT 1[0m
  [4;35;1mLoggedUser Update (0.1ms)[0m   [0mUPDATE "logged_users" SET "updated_at" = '2010-03-29 19:54:37', "session_ts" = '2010-03-29 19:54:37' WHERE "id" = 2053932786[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT "users".id FROM "users" WHERE ("users"."username" = 'newuser') LIMIT 1[0m
  [4;36;1mUser Create (0.1ms)[0m   [0;1mINSERT INTO "users" ("max_bandwidth", "created_at", "max_space", "updated_at", "username", "used_space", "max_subusers", "full_name", "parent_id", "password", "email", "max_subdomains", "ohmd_password") VALUES(NULL, '2010-03-29 19:54:37', -1, '2010-03-29 19:54:37', 'newuser', 0, -1, NULL, 1, 'newpassword', 'test@test.com', -1, NULL)[0m
Redirected to http://test.host/users/4
Completed in 6ms (DB: 1) | 302 Found [http://test.host/users?user%5Bemail%5D=test%40test.com&user%5Bpassword%5D=newpassword&user%5Busername%5D=newuser]
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM "users" [0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
  [4;35;1mLoggedUser Create (0.1ms)[0m   [0mINSERT INTO "logged_users" ("created_at", "session", "updated_at", "user_id", "ip", "session_ts") VALUES('2010-03-29 19:54:37', 'test session', '2010-03-29 19:54:37', 2, '0.0.0.0', '2010-03-29 19:54:37')[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM "users" [0m


Processing UsersController#create (for 0.0.0.0 at 2010-03-29 21:54:37) [POST]
  Parameters: {"action"=>"create", "controller"=>"users", "user"=>{"max_space"=>100, "username"=>"secondnewuser", "max_subusers"=>1, "password"=>"[FILTERED]", "email"=>"test@test.com", "max_subdomains"=>1}}
  [4;35;1mLoggedUser Load (0.2ms)[0m   [0mSELECT * FROM "logged_users" WHERE ("logged_users"."ip" = '0.0.0.0' AND "logged_users"."session" = 'test session') LIMIT 1[0m
  [4;36;1mLoggedUser Update (0.1ms)[0m   [0;1mUPDATE "logged_users" SET "updated_at" = '2010-03-29 19:54:37', "session_ts" = '2010-03-29 19:54:37' WHERE "id" = 2053932786[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT "users".id FROM "users" WHERE ("users"."username" = 'secondnewuser') LIMIT 1[0m
  [4;35;1mUser Create (0.1ms)[0m   [0mINSERT INTO "users" ("max_bandwidth", "created_at", "max_space", "updated_at", "username", "used_space", "max_subusers", "full_name", "parent_id", "password", "email", "max_subdomains", "ohmd_password") VALUES(NULL, '2010-03-29 19:54:37', 100, '2010-03-29 19:54:37', 'secondnewuser', 0, 1, NULL, 1, 'newpassword', 'test@test.com', 1, NULL)[0m
Redirected to http://test.host/users/5
Completed in 6ms (DB: 1) | 302 Found [http://test.host/users?user%5Bemail%5D=test%40test.com&user%5Bpassword%5D=newpassword&user%5Busername%5D=newuser]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM "users" [0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mLoggedUser Create (0.1ms)[0m   [0;1mINSERT INTO "logged_users" ("created_at", "session", "updated_at", "user_id", "ip", "session_ts") VALUES('2010-03-29 19:54:37', 'test session', '2010-03-29 19:54:37', 1, '0.0.0.0', '2010-03-29 19:54:37')[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m


Processing UsersController#destroy (for 0.0.0.0 at 2010-03-29 21:54:37) [DELETE]
  Parameters: {"action"=>"destroy", "id"=>"2", "controller"=>"users"}
  [4;36;1mLoggedUser Load (0.2ms)[0m   [0;1mSELECT * FROM "logged_users" WHERE ("logged_users"."ip" = '0.0.0.0' AND "logged_users"."session" = 'test session') LIMIT 1[0m
  [4;35;1mLoggedUser Update (0.1ms)[0m   [0mUPDATE "logged_users" SET "updated_at" = '2010-03-29 19:54:37', "session_ts" = '2010-03-29 19:54:37' WHERE "id" = 2053932786[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mDomain Load (0.1ms)[0m   [0mSELECT * FROM "domains" WHERE ("domains".user_id = 2) [0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users".parent_id = 2) [0m
  [4;35;1mService Load (0.1ms)[0m   [0mSELECT * FROM "services" INNER JOIN "services_users" ON "services".id = "services_users".service_id WHERE ("services_users".user_id = 2 ) [0m
  [4;36;1mUser Destroy (0.1ms)[0m   [0;1mDELETE FROM "users" WHERE "id" = 2[0m
WARNING: Can't mass-assign these protected attributes: id
  [4;35;1mUser Create (0.1ms)[0m   [0mINSERT INTO "users" ("max_bandwidth", "created_at", "max_space", "updated_at", "username", "used_space", "max_subusers", "full_name", "parent_id", "password", "email", "max_subdomains", "ohmd_password") VALUES(NULL, '2010-03-29 19:54:37', NULL, '2010-03-29 19:54:37', 'test1', NULL, NULL, NULL, -1, NULL, NULL, NULL, NULL)[0m
Redirected to http://test.host/users
Completed in 6ms (DB: 2) | 302 Found [http://test.host/users/2]
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."username" = 'test1') LIMIT 1[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mLoggedUser Create (0.1ms)[0m   [0;1mINSERT INTO "logged_users" ("created_at", "session", "updated_at", "user_id", "ip", "session_ts") VALUES('2010-03-29 19:54:37', 'test session', '2010-03-29 19:54:37', 1, '0.0.0.0', '2010-03-29 19:54:37')[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m


Processing UsersController#edit (for 0.0.0.0 at 2010-03-29 21:54:37) [GET]
  Parameters: {"action"=>"edit", "id"=>"2", "controller"=>"users"}
  [4;36;1mLoggedUser Load (0.2ms)[0m   [0;1mSELECT * FROM "logged_users" WHERE ("logged_users"."ip" = '0.0.0.0' AND "logged_users"."session" = 'test session') LIMIT 1[0m
  [4;35;1mLoggedUser Update (0.1ms)[0m   [0mUPDATE "logged_users" SET "updated_at" = '2010-03-29 19:54:37', "session_ts" = '2010-03-29 19:54:37' WHERE "id" = 2053932786[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
Rendering template within layouts/ohm
Rendering users/edit
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM "users" WHERE ("users".parent_id = 2) [0m
  [4;36;1mDomain Load (0.1ms)[0m   [0;1mSELECT * FROM "domains" WHERE ("domains".user_id = 2) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM "users" WHERE ("users".parent_id = 2) [0m
  [4;36;1mService Load (0.1ms)[0m   [0;1mSELECT * FROM "services" INNER JOIN "services_users" ON "services".id = "services_users".service_id WHERE ("services_users".user_id = 1 ) [0m
Completed in 13ms (View: 9, DB: 2) | 200 OK [http://test.host/users/2/edit]
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
  [4;36;1mLoggedUser Create (0.1ms)[0m   [0;1mINSERT INTO "logged_users" ("created_at", "session", "updated_at", "user_id", "ip", "session_ts") VALUES('2010-03-29 19:54:37', 'test session', '2010-03-29 19:54:37', 2, '0.0.0.0', '2010-03-29 19:54:37')[0m


Processing UsersController#index (for 0.0.0.0 at 2010-03-29 21:54:37) [GET]
  Parameters: {"action"=>"index", "controller"=>"users"}
  [4;35;1mLoggedUser Load (0.2ms)[0m   [0mSELECT * FROM "logged_users" WHERE ("logged_users"."ip" = '0.0.0.0' AND "logged_users"."session" = 'test session') LIMIT 1[0m
  [4;36;1mLoggedUser Update (0.1ms)[0m   [0;1mUPDATE "logged_users" SET "updated_at" = '2010-03-29 19:54:37', "session_ts" = '2010-03-29 19:54:37' WHERE "id" = 2053932786[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
Rendering template within layouts/ohm
Rendering users/index
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM "users" WHERE ("users".parent_id = 2) [0m
  [4;35;1mService Load (0.1ms)[0m   [0mSELECT * FROM "services" INNER JOIN "services_users" ON "services".id = "services_users".service_id WHERE ("services_users".user_id = 2 ) [0m
Completed in 7ms (View: 4, DB: 1) | 200 OK [http://test.host/users]


Processing UsersController#index (for 0.0.0.0 at 2010-03-29 21:54:37) [GET]
  Parameters: {"action"=>"index", "controller"=>"users"}
Redirected to http://test.host/login
Filter chain halted as [:authenticate] rendered_or_redirected.
Completed in 0ms (DB: 0) | 302 Found [http://test.host/users]
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
  [4;35;1mLoggedUser Create (0.1ms)[0m   [0mINSERT INTO "logged_users" ("created_at", "session", "updated_at", "user_id", "ip", "session_ts") VALUES('2010-03-29 19:54:37', 'test session', '2010-03-29 19:54:37', 2, '0.0.0.0', '2010-03-29 19:54:37')[0m


Processing UsersController#new (for 0.0.0.0 at 2010-03-29 21:54:37) [GET]
  Parameters: {"action"=>"new", "controller"=>"users"}
  [4;36;1mLoggedUser Load (0.2ms)[0m   [0;1mSELECT * FROM "logged_users" WHERE ("logged_users"."ip" = '0.0.0.0' AND "logged_users"."session" = 'test session') LIMIT 1[0m
  [4;35;1mLoggedUser Update (0.1ms)[0m   [0mUPDATE "logged_users" SET "updated_at" = '2010-03-29 19:54:37', "session_ts" = '2010-03-29 19:54:37' WHERE "id" = 2053932786[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
Rendering template within layouts/ohm
Rendering users/new
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM "users" WHERE ("users".parent_id = 2) [0m
  [4;36;1mDomain Load (0.1ms)[0m   [0;1mSELECT * FROM "domains" WHERE ("domains".user_id = 2) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM "users" WHERE ("users".parent_id = 2) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM "users" WHERE ("users".parent_id = 2) [0m
  [4;35;1mService Load (0.1ms)[0m   [0mSELECT * FROM "services" INNER JOIN "services_users" ON "services".id = "services_users".service_id WHERE ("services_users".user_id = 2 ) [0m
Completed in 65ms (View: 62, DB: 2) | 200 OK [http://test.host/users/new]
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
  [4;35;1mLoggedUser Create (0.1ms)[0m   [0mINSERT INTO "logged_users" ("created_at", "session", "updated_at", "user_id", "ip", "session_ts") VALUES('2010-03-29 19:54:37', 'test session', '2010-03-29 19:54:37', 2, '0.0.0.0', '2010-03-29 19:54:37')[0m


Processing UsersController#profile (for 0.0.0.0 at 2010-03-29 21:54:37) [GET]
  Parameters: {"action"=>"profile", "controller"=>"users"}
  [4;36;1mLoggedUser Load (0.2ms)[0m   [0;1mSELECT * FROM "logged_users" WHERE ("logged_users"."ip" = '0.0.0.0' AND "logged_users"."session" = 'test session') LIMIT 1[0m
  [4;35;1mLoggedUser Update (0.1ms)[0m   [0mUPDATE "logged_users" SET "updated_at" = '2010-03-29 19:54:37', "session_ts" = '2010-03-29 19:54:37' WHERE "id" = 2053932786[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
Rendering template within layouts/ohm
Rendering users/profile
  [4;35;1mService Load (0.2ms)[0m   [0mSELECT * FROM "services" INNER JOIN "services_users" ON "services".id = "services_users".service_id WHERE ("services_users".user_id = 2 ) [0m
Completed in 12ms (View: 9, DB: 1) | 200 OK [http://test.host/users/profile]
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mLoggedUser Create (0.1ms)[0m   [0mINSERT INTO "logged_users" ("created_at", "session", "updated_at", "user_id", "ip", "session_ts") VALUES('2010-03-29 19:54:37', 'test session', '2010-03-29 19:54:37', 1, '0.0.0.0', '2010-03-29 19:54:37')[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m


Processing UsersController#login_as_me (for 0.0.0.0 at 2010-03-29 21:54:37) [POST]
  Parameters: {"action"=>"login_as_me", "id"=>"2", "controller"=>"users"}
  [4;35;1mLoggedUser Load (0.2ms)[0m   [0mSELECT * FROM "logged_users" WHERE ("logged_users"."ip" = '0.0.0.0' AND "logged_users"."session" = 'test session') LIMIT 1[0m
  [4;36;1mLoggedUser Update (0.1ms)[0m   [0;1mUPDATE "logged_users" SET "updated_at" = '2010-03-29 19:54:37', "session_ts" = '2010-03-29 19:54:37' WHERE "id" = 2053932786[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mLoggedUser Load (0.2ms)[0m   [0;1mSELECT * FROM "logged_users" WHERE ("logged_users"."ip" = '0.0.0.0' AND "logged_users"."session" = 'test session') LIMIT 1[0m
  [4;35;1mLoggedUser Update (0.1ms)[0m   [0mUPDATE "logged_users" SET "updated_at" = '2010-03-29 19:54:37', "session_ts" = '2010-03-29 19:54:37' WHERE "id" = 2053932786[0m
  [4;36;1mLoggedUser Update (0.1ms)[0m   [0;1mUPDATE "logged_users" SET "updated_at" = '2010-03-29 19:54:37', "user_id" = 2 WHERE "id" = 2053932786[0m
Redirected to http://test.host/
Completed in 6ms (DB: 2) | 302 Found [http://test.host/users/login_as_me/2]
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
  [4;36;1mLoggedUser Create (0.1ms)[0m   [0;1mINSERT INTO "logged_users" ("created_at", "session", "updated_at", "user_id", "ip", "session_ts") VALUES('2010-03-29 19:54:37', 'test session', '2010-03-29 19:54:37', 2, '0.0.0.0', '2010-03-29 19:54:37')[0m
  [4;35;1mService Load (0.2ms)[0m   [0mSELECT * FROM "services" WHERE ("services"."id" = 2053932785) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mINSERT INTO "services_users" ("service_id", "user_id") VALUES (2053932785, 2)[0m
  [4;35;1mService Load (0.1ms)[0m   [0mSELECT "services".id FROM "services" WHERE ("services"."name" = 'Service 1' AND "services".id <> 2053932785) LIMIT 1[0m
  [4;36;1mService Load (0.1ms)[0m   [0;1mSELECT "services".id FROM "services" WHERE ("services"."controller" = 'service_test_1' AND "services".id <> 2053932785) LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM "services" INNER JOIN "services_users" ON "services".id = "services_users".service_id WHERE ("services_users".user_id = 2 ) [0m


Processing UsersController#addservice (for 0.0.0.0 at 2010-03-29 21:54:37) [POST]
  Parameters: {"action"=>"addservice", "service_id"=>[2053932785], "user_id"=>"2", "controller"=>"users"}
  [4;36;1mLoggedUser Load (0.2ms)[0m   [0;1mSELECT * FROM "logged_users" WHERE ("logged_users"."ip" = '0.0.0.0' AND "logged_users"."session" = 'test session') LIMIT 1[0m
  [4;35;1mLoggedUser Update (0.1ms)[0m   [0mUPDATE "logged_users" SET "updated_at" = '2010-03-29 19:54:37', "session_ts" = '2010-03-29 19:54:37' WHERE "id" = 2053932786[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
  [4;36;1mService Load (0.2ms)[0m   [0;1mSELECT * FROM "services" WHERE ("services"."id" = 2053932785) [0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
Redirected to http://test.host/users
Completed in 4ms (DB: 2) | 302 Found [http://test.host/users/addservice?service_id%5B%5D=2053932785&user_id=2]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM "services" INNER JOIN "services_users" ON "services".id = "services_users".service_id WHERE ("services_users".user_id = 2 ) [0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
  [4;36;1mLoggedUser Create (0.1ms)[0m   [0;1mINSERT INTO "logged_users" ("created_at", "session", "updated_at", "user_id", "ip", "session_ts") VALUES('2010-03-29 19:54:37', 'test session', '2010-03-29 19:54:37', 2, '0.0.0.0', '2010-03-29 19:54:37')[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM "users" [0m


Processing UsersController#destroy (for 0.0.0.0 at 2010-03-29 21:54:37) [DELETE]
  Parameters: {"action"=>"destroy", "id"=>"2", "controller"=>"users"}
  [4;36;1mLoggedUser Load (0.2ms)[0m   [0;1mSELECT * FROM "logged_users" WHERE ("logged_users"."ip" = '0.0.0.0' AND "logged_users"."session" = 'test session') LIMIT 1[0m
  [4;35;1mLoggedUser Update (0.1ms)[0m   [0mUPDATE "logged_users" SET "updated_at" = '2010-03-29 19:54:37', "session_ts" = '2010-03-29 19:54:37' WHERE "id" = 2053932786[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
Redirected to http://test.host/users
Completed in 4ms (DB: 2) | 302 Found [http://test.host/users/2]
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM "users" [0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
  [4;35;1mLoggedUser Create (0.1ms)[0m   [0mINSERT INTO "logged_users" ("created_at", "session", "updated_at", "user_id", "ip", "session_ts") VALUES('2010-03-29 19:54:37', 'test session', '2010-03-29 19:54:37', 2, '0.0.0.0', '2010-03-29 19:54:37')[0m


Processing UsersController#edit (for 0.0.0.0 at 2010-03-29 21:54:37) [GET]
  Parameters: {"action"=>"edit", "id"=>"2", "controller"=>"users"}
  [4;36;1mLoggedUser Load (0.2ms)[0m   [0;1mSELECT * FROM "logged_users" WHERE ("logged_users"."ip" = '0.0.0.0' AND "logged_users"."session" = 'test session') LIMIT 1[0m
  [4;35;1mLoggedUser Update (0.1ms)[0m   [0mUPDATE "logged_users" SET "updated_at" = '2010-03-29 19:54:37', "session_ts" = '2010-03-29 19:54:37' WHERE "id" = 2053932786[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
Redirected to http://test.host/users
Completed in 4ms (DB: 2) | 302 Found [http://test.host/users/2/edit]
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
  [4;36;1mLoggedUser Create (0.1ms)[0m   [0;1mINSERT INTO "logged_users" ("created_at", "session", "updated_at", "user_id", "ip", "session_ts") VALUES('2010-03-29 19:54:37', 'test session', '2010-03-29 19:54:37', 2, '0.0.0.0', '2010-03-29 19:54:37')[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 3) [0m


Processing UsersController#login_as_me (for 0.0.0.0 at 2010-03-29 21:54:37) [POST]
  Parameters: {"action"=>"login_as_me", "id"=>"3", "controller"=>"users"}
  [4;36;1mLoggedUser Load (0.2ms)[0m   [0;1mSELECT * FROM "logged_users" WHERE ("logged_users"."ip" = '0.0.0.0' AND "logged_users"."session" = 'test session') LIMIT 1[0m
  [4;35;1mLoggedUser Update (0.1ms)[0m   [0mUPDATE "logged_users" SET "updated_at" = '2010-03-29 19:54:37', "session_ts" = '2010-03-29 19:54:37' WHERE "id" = 2053932786[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 3) [0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
Redirected to http://test.host/users
Completed in 4ms (DB: 2) | 302 Found [http://test.host/users/login_as_me/3]
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
  [4;36;1mLoggedUser Create (0.1ms)[0m   [0;1mINSERT INTO "logged_users" ("created_at", "session", "updated_at", "user_id", "ip", "session_ts") VALUES('2010-03-29 19:54:37', 'test session', '2010-03-29 19:54:37', 2, '0.0.0.0', '2010-03-29 19:54:37')[0m
  [4;35;1mService Load (0.2ms)[0m   [0mSELECT * FROM "services" WHERE ("services"."id" = 2053932785) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mINSERT INTO "services_users" ("service_id", "user_id") VALUES (2053932785, 2)[0m
  [4;35;1mService Load (0.1ms)[0m   [0mSELECT "services".id FROM "services" WHERE ("services"."name" = 'Service 1' AND "services".id <> 2053932785) LIMIT 1[0m
  [4;36;1mService Load (0.1ms)[0m   [0;1mSELECT "services".id FROM "services" WHERE ("services"."controller" = 'service_test_1' AND "services".id <> 2053932785) LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM "services" INNER JOIN "services_users" ON "services".id = "services_users".service_id WHERE ("services_users".user_id = 2 ) [0m


Processing UsersController#removeservice (for 0.0.0.0 at 2010-03-29 21:54:37) [POST]
  Parameters: {"action"=>"removeservice", "service_id"=>"2053932785", "user_id"=>"2", "controller"=>"users"}
  [4;36;1mLoggedUser Load (0.2ms)[0m   [0;1mSELECT * FROM "logged_users" WHERE ("logged_users"."ip" = '0.0.0.0' AND "logged_users"."session" = 'test session') LIMIT 1[0m
  [4;35;1mLoggedUser Update (0.1ms)[0m   [0mUPDATE "logged_users" SET "updated_at" = '2010-03-29 19:54:37', "session_ts" = '2010-03-29 19:54:37' WHERE "id" = 2053932786[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
  [4;36;1mService Load (0.2ms)[0m   [0;1mSELECT * FROM "services" WHERE ("services"."id" = 2053932785) [0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
Redirected to http://test.host/users
Completed in 4ms (DB: 2) | 302 Found [http://test.host/users/removeservice?service_id=2053932785&user_id=2]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM "services" INNER JOIN "services_users" ON "services".id = "services_users".service_id WHERE ("services_users".user_id = 2 ) [0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
  [4;36;1mLoggedUser Create (0.1ms)[0m   [0;1mINSERT INTO "logged_users" ("created_at", "session", "updated_at", "user_id", "ip", "session_ts") VALUES('2010-03-29 19:54:37', 'test session', '2010-03-29 19:54:37', 2, '0.0.0.0', '2010-03-29 19:54:37')[0m


Processing UsersController#show (for 0.0.0.0 at 2010-03-29 21:54:37) [GET]
  Parameters: {"action"=>"show", "id"=>"2", "controller"=>"users"}
  [4;35;1mLoggedUser Load (0.2ms)[0m   [0mSELECT * FROM "logged_users" WHERE ("logged_users"."ip" = '0.0.0.0' AND "logged_users"."session" = 'test session') LIMIT 1[0m
  [4;36;1mLoggedUser Update (0.1ms)[0m   [0;1mUPDATE "logged_users" SET "updated_at" = '2010-03-29 19:54:37', "session_ts" = '2010-03-29 19:54:37' WHERE "id" = 2053932786[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
Redirected to http://test.host/users
  [4;36;1mService Load (0.1ms)[0m   [0;1mSELECT * FROM "services" INNER JOIN "services_users" ON "services".id = "services_users".service_id WHERE ("services_users".user_id = 2 ) [0m
  [4;35;1mService Load (0.1ms)[0m   [0mSELECT * FROM "services" INNER JOIN "services_users" ON "services".id = "services_users".service_id WHERE ("services_users".user_id = 2 ) [0m
Completed in 5ms (DB: 2) | 302 Found [http://test.host/users/2]
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
  [4;35;1mLoggedUser Create (0.1ms)[0m   [0mINSERT INTO "logged_users" ("created_at", "session", "updated_at", "user_id", "ip", "session_ts") VALUES('2010-03-29 19:54:37', 'test session', '2010-03-29 19:54:37', 2, '0.0.0.0', '2010-03-29 19:54:37')[0m


Processing UsersController#update (for 0.0.0.0 at 2010-03-29 21:54:37) [PUT]
  Parameters: {"action"=>"update", "id"=>"2", "controller"=>"users", "user"=>{"full_name"=>"New name"}}
  [4;36;1mLoggedUser Load (0.2ms)[0m   [0;1mSELECT * FROM "logged_users" WHERE ("logged_users"."ip" = '0.0.0.0' AND "logged_users"."session" = 'test session') LIMIT 1[0m
  [4;35;1mLoggedUser Update (0.1ms)[0m   [0mUPDATE "logged_users" SET "updated_at" = '2010-03-29 19:54:37', "session_ts" = '2010-03-29 19:54:37' WHERE "id" = 2053932786[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
Redirected to http://test.host/users
Completed in 4ms (DB: 1) | 302 Found [http://test.host/users/2?user%5Bfull_name%5D=New+name]
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mLoggedUser Create (0.1ms)[0m   [0;1mINSERT INTO "logged_users" ("created_at", "session", "updated_at", "user_id", "ip", "session_ts") VALUES('2010-03-29 19:54:37', 'test session', '2010-03-29 19:54:37', 1, '0.0.0.0', '2010-03-29 19:54:37')[0m
  [4;35;1mService Load (0.2ms)[0m   [0mSELECT * FROM "services" WHERE ("services"."id" = 2053932785) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mINSERT INTO "services_users" ("service_id", "user_id") VALUES (2053932785, 1)[0m
  [4;35;1mService Load (0.1ms)[0m   [0mSELECT "services".id FROM "services" WHERE ("services"."name" = 'Service 1' AND "services".id <> 2053932785) LIMIT 1[0m
  [4;36;1mService Load (0.1ms)[0m   [0;1mSELECT "services".id FROM "services" WHERE ("services"."controller" = 'service_test_1' AND "services".id <> 2053932785) LIMIT 1[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mINSERT INTO "services_users" ("service_id", "user_id") VALUES (2053932785, 2)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM "services" INNER JOIN "services_users" ON "services".id = "services_users".service_id WHERE ("services_users".user_id = 2 ) [0m


Processing UsersController#removeservice (for 0.0.0.0 at 2010-03-29 21:54:37) [POST]
  Parameters: {"action"=>"removeservice", "service_id"=>"2053932785", "user_id"=>"2", "controller"=>"users"}
  [4;36;1mLoggedUser Load (0.2ms)[0m   [0;1mSELECT * FROM "logged_users" WHERE ("logged_users"."ip" = '0.0.0.0' AND "logged_users"."session" = 'test session') LIMIT 1[0m
  [4;35;1mLoggedUser Update (0.1ms)[0m   [0mUPDATE "logged_users" SET "updated_at" = '2010-03-29 19:54:37', "session_ts" = '2010-03-29 19:54:37' WHERE "id" = 2053932786[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
  [4;36;1mService Load (0.2ms)[0m   [0;1mSELECT * FROM "services" WHERE ("services"."id" = 2053932785) [0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mService Load (0.1ms)[0m   [0;1mSELECT "services".id FROM "services" INNER JOIN "services_users" ON "services".id = "services_users".service_id WHERE ("services"."id" = 2053932785) AND ("services_users".user_id = 1 ) LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mDELETE FROM "services_users" WHERE user_id = 2 AND service_id IN (2053932785)[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT "users".id FROM "users" WHERE ("users"."username" = 'test1' AND "users".id <> 2) LIMIT 1[0m
Redirected to http://test.host/service_test_1/removefromuser?user_id=2
Completed in 7ms (DB: 3) | 302 Found [http://test.host/users/removeservice?service_id=2053932785&user_id=2]
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM "services" INNER JOIN "services_users" ON "services".id = "services_users".service_id WHERE ("services_users".user_id = 2 ) [0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mLoggedUser Create (0.1ms)[0m   [0mINSERT INTO "logged_users" ("created_at", "session", "updated_at", "user_id", "ip", "session_ts") VALUES('2010-03-29 19:54:37', 'test session', '2010-03-29 19:54:37', 1, '0.0.0.0', '2010-03-29 19:54:37')[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m


Processing UsersController#show (for 0.0.0.0 at 2010-03-29 21:54:37) [GET]
  Parameters: {"action"=>"show", "id"=>"2", "controller"=>"users"}
  [4;35;1mLoggedUser Load (0.2ms)[0m   [0mSELECT * FROM "logged_users" WHERE ("logged_users"."ip" = '0.0.0.0' AND "logged_users"."session" = 'test session') LIMIT 1[0m
  [4;36;1mLoggedUser Update (0.1ms)[0m   [0;1mUPDATE "logged_users" SET "updated_at" = '2010-03-29 19:54:37', "session_ts" = '2010-03-29 19:54:37' WHERE "id" = 2053932786[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mService Load (0.3ms)[0m   [0;1mSELECT * FROM "services" [0m
  [4;35;1mService Load (0.1ms)[0m   [0mSELECT * FROM "services" INNER JOIN "services_users" ON "services".id = "services_users".service_id WHERE ("services_users".user_id = 2 ) [0m
Rendering template within layouts/ohm
Rendering users/show
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users".parent_id = 2) [0m
  [4;35;1mDomain Load (0.1ms)[0m   [0mSELECT * FROM "domains" WHERE ("domains".user_id = 2) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM "domains" WHERE ("domains".user_id = 2) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM "services" INNER JOIN "services_users" ON "services".id = "services_users".service_id WHERE ("services_users".user_id = 2 ) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM "users" WHERE ("users".parent_id = 2) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM "users" WHERE ("users".parent_id = 2) [0m
  [4;36;1mService Load (0.1ms)[0m   [0;1mSELECT * FROM "services" INNER JOIN "services_users" ON "services".id = "services_users".service_id WHERE ("services_users".user_id = 1 ) [0m
Completed in 15ms (View: 10, DB: 3) | 200 OK [http://test.host/users/2]
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
  [4;36;1mLoggedUser Create (0.1ms)[0m   [0;1mINSERT INTO "logged_users" ("created_at", "session", "updated_at", "user_id", "ip", "session_ts") VALUES('2010-03-29 19:54:37', 'test session', '2010-03-29 19:54:37', 2, '0.0.0.0', '2010-03-29 19:54:37')[0m


Processing UsersController#profileupdate (for 0.0.0.0 at 2010-03-29 21:54:37) [POST]
  Parameters: {"action"=>"profileupdate", "controller"=>"users", "user"=>{"full_name"=>"New Name"}}
  [4;35;1mLoggedUser Load (0.2ms)[0m   [0mSELECT * FROM "logged_users" WHERE ("logged_users"."ip" = '0.0.0.0' AND "logged_users"."session" = 'test session') LIMIT 1[0m
  [4;36;1mLoggedUser Update (0.1ms)[0m   [0;1mUPDATE "logged_users" SET "updated_at" = '2010-03-29 19:54:37', "session_ts" = '2010-03-29 19:54:37' WHERE "id" = 2053932786[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT "users".id FROM "users" WHERE ("users"."username" = 'test1' AND "users".id <> 2) LIMIT 1[0m
  [4;36;1mUser Update (0.1ms)[0m   [0;1mUPDATE "users" SET "updated_at" = '2010-03-29 19:54:37', "full_name" = 'New Name' WHERE "id" = 2[0m
Redirected to http://test.host/
Completed in 5ms (DB: 1) | 302 Found [http://test.host/users/profileupdate?user%5Bfull_name%5D=New+Name]
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mLoggedUser Create (0.1ms)[0m   [0;1mINSERT INTO "logged_users" ("created_at", "session", "updated_at", "user_id", "ip", "session_ts") VALUES('2010-03-29 19:54:37', 'test session', '2010-03-29 19:54:37', 1, '0.0.0.0', '2010-03-29 19:54:37')[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m


Processing UsersController#update (for 0.0.0.0 at 2010-03-29 21:54:37) [PUT]
  Parameters: {"action"=>"update", "id"=>"2", "controller"=>"users", "user"=>{"full_name"=>"New name"}}
  [4;36;1mLoggedUser Load (0.2ms)[0m   [0;1mSELECT * FROM "logged_users" WHERE ("logged_users"."ip" = '0.0.0.0' AND "logged_users"."session" = 'test session') LIMIT 1[0m
  [4;35;1mLoggedUser Update (0.1ms)[0m   [0mUPDATE "logged_users" SET "updated_at" = '2010-03-29 19:54:37', "session_ts" = '2010-03-29 19:54:37' WHERE "id" = 2053932786[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT "users".id FROM "users" WHERE ("users"."username" = 'test1' AND "users".id <> 2) LIMIT 1[0m
  [4;36;1mUser Update (0.1ms)[0m   [0;1mUPDATE "users" SET "updated_at" = '2010-03-29 19:54:37', "full_name" = 'New name' WHERE "id" = 2[0m
Redirected to http://test.host/users/2
Completed in 6ms (DB: 2) | 302 Found [http://test.host/users/2?user%5Bfull_name%5D=New+name]
