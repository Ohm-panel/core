# Logfile created on Sun Mar 28 15:46:16 +0200 2010  [4;36;1mDomain Load (0.6ms)[0m   [0;1mSELECT * FROM "domains" WHERE ("domains"."id" = 1) [0m
  [4;35;1mUser Load (0.9ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
  [4;36;1mDomain Load (0.2ms)[0m   [0;1mSELECT "domains".id FROM "domains" WHERE ("domains"."domain" = 'test.com') LIMIT 1[0m
  [4;35;1mDomain Load (0.1ms)[0m   [0mSELECT "domains".id FROM "domains" WHERE ("domains"."domain" IS NULL) LIMIT 1[0m
  [4;36;1mDomain Load (0.2ms)[0m   [0;1mSELECT * FROM "domains" WHERE ("domains"."id" = 1) [0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mDomain Load (0.1ms)[0m   [0;1mSELECT "domains".id FROM "domains" WHERE ("domains"."domain" = 'test.com' AND "domains".id <> 1) LIMIT 1[0m
  [4;35;1mLoggedUser Load (0.2ms)[0m   [0mSELECT * FROM "logged_users" WHERE ("logged_users"."id" = 2053932785) [0m
  [4;36;1mLoggedUser Load (0.3ms)[0m   [0;1mSELECT * FROM "logged_users" WHERE ("logged_users"."id" = 2053932785) [0m
  [4;35;1mLoggedUser Load (0.2ms)[0m   [0mSELECT * FROM "logged_users" WHERE ("logged_users"."id" = 2053932785) [0m
  [4;36;1mServiceEmailMailbox Load (0.2ms)[0m   [0;1mSELECT * FROM "service_email_mailboxes" WHERE ("service_email_mailboxes"."id" = 198609129) [0m
  [4;35;1mServiceEmailMailbox Load (0.1ms)[0m   [0mSELECT "service_email_mailboxes".id FROM "service_email_mailboxes" WHERE ("service_email_mailboxes"."address" = 'valid.email_address-ok' AND "service_email_mailboxes".domain_id = 1 AND "service_email_mailboxes".id <> 198609129) LIMIT 1[0m
  [4;36;1mServiceEmailMailbox Load (0.1ms)[0m   [0;1mSELECT "service_email_mailboxes".id FROM "service_email_mailboxes" WHERE ("service_email_mailboxes"."address" = 'invalid@address' AND "service_email_mailboxes".domain_id = 1 AND "service_email_mailboxes".id <> 198609129) LIMIT 1[0m
  [4;35;1mServiceEmailMailbox Load (0.1ms)[0m   [0mSELECT "service_email_mailboxes".id FROM "service_email_mailboxes" WHERE ("service_email_mailboxes"."address" = 'invalid address' AND "service_email_mailboxes".domain_id = 1 AND "service_email_mailboxes".id <> 198609129) LIMIT 1[0m
  [4;36;1mServiceEmailMailbox Load (0.1ms)[0m   [0;1mSELECT "service_email_mailboxes".id FROM "service_email_mailboxes" WHERE ("service_email_mailboxes"."address" = 'invalid+address' AND "service_email_mailboxes".domain_id = 1 AND "service_email_mailboxes".id <> 198609129) LIMIT 1[0m
  [4;35;1mServiceEmailMailbox Load (0.2ms)[0m   [0mSELECT * FROM "service_email_mailboxes" WHERE ("service_email_mailboxes"."id" = 198609129) [0m
  [4;36;1mServiceEmailMailbox Load (0.1ms)[0m   [0;1mSELECT "service_email_mailboxes".id FROM "service_email_mailboxes" WHERE ("service_email_mailboxes"."address" = 'test' AND "service_email_mailboxes".domain_id = 1) LIMIT 1[0m
  [4;35;1mServiceEmailMailbox Load (0.1ms)[0m   [0mSELECT "service_email_mailboxes".id FROM "service_email_mailboxes" WHERE ("service_email_mailboxes"."address" = 'test' AND "service_email_mailboxes".domain_id = 2) LIMIT 1[0m
  [4;36;1mServiceEmailMailbox Load (0.1ms)[0m   [0;1mSELECT "service_email_mailboxes".id FROM "service_email_mailboxes" WHERE ("service_email_mailboxes"."address" IS NULL AND "service_email_mailboxes".domain_id IS NULL) LIMIT 1[0m
  [4;35;1mServiceEmailMailbox Load (0.2ms)[0m   [0mSELECT * FROM "service_email_mailboxes" WHERE ("service_email_mailboxes"."id" = 198609129) [0m
  [4;36;1mServiceEmailMailbox Load (0.1ms)[0m   [0;1mSELECT "service_email_mailboxes".id FROM "service_email_mailboxes" WHERE ("service_email_mailboxes"."address" = 'test' AND "service_email_mailboxes".domain_id = 1 AND "service_email_mailboxes".id <> 198609129) LIMIT 1[0m
  [4;35;1mServiceEmailMailbox Load (0.1ms)[0m   [0mSELECT "service_email_mailboxes".id FROM "service_email_mailboxes" WHERE ("service_email_mailboxes"."address" = 'test' AND "service_email_mailboxes".domain_id = 1 AND "service_email_mailboxes".id <> 198609129) LIMIT 1[0m
  [4;36;1mServiceEmailMailbox Load (0.2ms)[0m   [0;1mSELECT * FROM "service_email_mailboxes" WHERE ("service_email_mailboxes"."id" = 198609129) [0m
  [4;35;1mServiceEmailMailbox Load (0.1ms)[0m   [0mSELECT "service_email_mailboxes".id FROM "service_email_mailboxes" WHERE ("service_email_mailboxes"."address" = 'test' AND "service_email_mailboxes".domain_id = 1 AND "service_email_mailboxes".id <> 198609129) LIMIT 1[0m
  [4;36;1mServiceEmailMailbox Load (0.2ms)[0m   [0;1mSELECT * FROM "service_email_mailboxes" WHERE ("service_email_mailboxes"."id" = 1634495381) [0m
  [4;35;1mServiceEmailMailbox Load (0.1ms)[0m   [0mSELECT "service_email_mailboxes".id FROM "service_email_mailboxes" WHERE ("service_email_mailboxes"."address" = 'aliastest' AND "service_email_mailboxes".domain_id = 1 AND "service_email_mailboxes".id <> 1634495381) LIMIT 1[0m
  [4;36;1mService Load (0.1ms)[0m   [0;1mSELECT "services".id FROM "services" WHERE ("services"."name" = 'New Service') LIMIT 1[0m
  [4;35;1mService Load (0.1ms)[0m   [0mSELECT "services".id FROM "services" WHERE ("services"."controller" = 'service_new_service') LIMIT 1[0m
  [4;36;1mService Load (0.1ms)[0m   [0;1mSELECT "services".id FROM "services" WHERE ("services"."name" = 'New Service') LIMIT 1[0m
  [4;35;1mService Load (0.1ms)[0m   [0mSELECT "services".id FROM "services" WHERE ("services"."controller" = 'service_new_service') LIMIT 1[0m
  [4;36;1mService Create (0.2ms)[0m   [0;1mINSERT INTO "services" ("name", "created_at", "updated_at", "by_domain", "description", "controller", "tech_name") VALUES('New Service', '2010-03-28 13:47:50', '2010-03-28 13:47:50', 'f', NULL, 'service_new_service', 'New Service')[0m
  [4;35;1mService Load (0.1ms)[0m   [0mSELECT "services".id FROM "services" WHERE ("services"."name" IS NULL) LIMIT 1[0m
  [4;36;1mService Load (0.1ms)[0m   [0;1mSELECT "services".id FROM "services" WHERE ("services"."controller" IS NULL) LIMIT 1[0m
  [4;35;1mService Load (0.2ms)[0m   [0mSELECT * FROM "services" WHERE ("services"."id" = 2053932785) [0m
  [4;36;1mService Load (0.1ms)[0m   [0;1mSELECT "services".id FROM "services" WHERE ("services"."name" = 'Service 1') LIMIT 1[0m
  [4;35;1mService Load (0.1ms)[0m   [0mSELECT "services".id FROM "services" WHERE ("services"."controller" = 'service_test_1') LIMIT 1[0m
  [4;36;1mService Load (0.2ms)[0m   [0;1mSELECT * FROM "services" WHERE ("services"."id" = 2053932785) [0m
  [4;35;1mService Load (0.1ms)[0m   [0mSELECT "services".id FROM "services" WHERE ("services"."name" = 'Service 1' AND "services".id <> 2053932785) LIMIT 1[0m
  [4;36;1mService Load (0.1ms)[0m   [0;1mSELECT "services".id FROM "services" WHERE ("services"."controller" = 'service_test_1' AND "services".id <> 2053932785) LIMIT 1[0m
  [4;35;1mService Load (0.2ms)[0m   [0mSELECT * FROM "services" WHERE ("services"."id" = 298486374) [0m
  [4;36;1mService Load (0.1ms)[0m   [0;1mSELECT "services".id FROM "services" WHERE ("services"."name" = 'Service 2' AND "services".id <> 298486374) LIMIT 1[0m
  [4;35;1mService Load (0.1ms)[0m   [0mSELECT "services".id FROM "services" WHERE ("services"."controller" = 'service_test_2' AND "services".id <> 298486374) LIMIT 1[0m
  [4;36;1mSubdomain Load (0.2ms)[0m   [0;1mSELECT * FROM "subdomains" WHERE ("subdomains"."id" = 2053932785) [0m
  [4;35;1mDomain Load (0.2ms)[0m   [0mSELECT * FROM "domains" WHERE ("domains"."id" = 1) [0m
  [4;36;1mSubdomain Load (0.1ms)[0m   [0;1mSELECT "subdomains".id FROM "subdomains" WHERE ("subdomains"."url" = 'www' AND "subdomains".domain_id = 1) LIMIT 1[0m
  [4;35;1mSubdomain Load (0.1ms)[0m   [0mSELECT "subdomains".id FROM "subdomains" WHERE ("subdomains"."path" = 'www' AND "subdomains".domain_id = 1) LIMIT 1[0m
  [4;36;1mSubdomain Load (0.2ms)[0m   [0;1mSELECT "subdomains".id FROM "subdomains" WHERE ("subdomains"."url" = 'www' AND "subdomains".domain_id = 2) LIMIT 1[0m
  [4;35;1mSubdomain Load (0.1ms)[0m   [0mSELECT "subdomains".id FROM "subdomains" WHERE ("subdomains"."path" = 'www' AND "subdomains".domain_id = 2) LIMIT 1[0m
  [4;36;1mSubdomain Load (0.1ms)[0m   [0;1mSELECT "subdomains".id FROM "subdomains" WHERE ("subdomains"."url" = 'newsub' AND "subdomains".domain_id = 1) LIMIT 1[0m
  [4;35;1mSubdomain Load (0.1ms)[0m   [0mSELECT "subdomains".id FROM "subdomains" WHERE ("subdomains"."path" = 'newsub' AND "subdomains".domain_id = 1) LIMIT 1[0m
  [4;36;1mSubdomain Load (0.1ms)[0m   [0;1mSELECT "subdomains".id FROM "subdomains" WHERE ("subdomains"."url" IS NULL AND "subdomains".domain_id IS NULL) LIMIT 1[0m
  [4;35;1mSubdomain Load (0.1ms)[0m   [0mSELECT "subdomains".id FROM "subdomains" WHERE ("subdomains"."path" IS NULL AND "subdomains".domain_id IS NULL) LIMIT 1[0m
  [4;36;1mSubdomain Load (0.2ms)[0m   [0;1mSELECT * FROM "subdomains" WHERE ("subdomains"."id" = 298486374) [0m
  [4;35;1mDomain Load (0.2ms)[0m   [0mSELECT * FROM "domains" WHERE ("domains"."id" = 1) [0m
  [4;36;1mSubdomain Load (0.1ms)[0m   [0;1mSELECT "subdomains".id FROM "subdomains" WHERE ("subdomains"."url" = 'test' AND "subdomains".domain_id = 1 AND "subdomains".id <> 298486374) LIMIT 1[0m
  [4;35;1mSubdomain Load (0.1ms)[0m   [0mSELECT "subdomains".id FROM "subdomains" WHERE ("subdomains"."path" = 'test-site' AND "subdomains".domain_id = 1 AND "subdomains".id <> 298486374) LIMIT 1[0m
  [4;36;1mSubdomain Load (0.2ms)[0m   [0;1mSELECT * FROM "subdomains" WHERE ("subdomains"."id" = 298486374) [0m
  [4;35;1mSubdomain Load (0.1ms)[0m   [0mSELECT "subdomains".id FROM "subdomains" WHERE ("subdomains"."url" = 'test' AND "subdomains".domain_id = 1 AND "subdomains".id <> 298486374) LIMIT 1[0m
  [4;36;1mSubdomain Load (0.1ms)[0m   [0;1mSELECT "subdomains".id FROM "subdomains" WHERE ("subdomains"."path" = 'test-site' AND "subdomains".domain_id = 1 AND "subdomains".id <> 298486374) LIMIT 1[0m
  [4;35;1mSubdomain Load (0.2ms)[0m   [0mSELECT * FROM "subdomains" WHERE ("subdomains"."id" = 298486374) [0m
  [4;36;1mDomain Load (0.2ms)[0m   [0;1mSELECT * FROM "domains" WHERE ("domains"."id" = 1) [0m
  [4;35;1mSubdomain Load (0.1ms)[0m   [0mSELECT "subdomains".id FROM "subdomains" WHERE ("subdomains"."url" = 'mainsub' AND "subdomains".domain_id = 1) LIMIT 1[0m
  [4;36;1mSubdomain Load (0.1ms)[0m   [0;1mSELECT "subdomains".id FROM "subdomains" WHERE ("subdomains"."path" = 'mainsub' AND "subdomains".domain_id = 1) LIMIT 1[0m
  [4;35;1mSubdomain Load (0.2ms)[0m   [0mSELECT * FROM "subdomains" WHERE ("subdomains"."mainsub" = 't' AND "subdomains"."domain_id" = 1) LIMIT 1[0m
  [4;36;1mSubdomain Update (0.2ms)[0m   [0;1mUPDATE "subdomains" SET "updated_at" = '2010-03-28 13:47:50', "mainsub" = 'f' WHERE "id" = 2053932785[0m
  [4;35;1mSubdomain Create (0.1ms)[0m   [0mINSERT INTO "subdomains" ("created_at", "updated_at", "url", "domain_id", "path", "mainsub") VALUES('2010-03-28 13:47:50', '2010-03-28 13:47:50', 'mainsub', 1, 'mainsub', 't')[0m
  [4;36;1mSubdomain Load (0.1ms)[0m   [0;1mSELECT "subdomains".id FROM "subdomains" WHERE ("subdomains"."url" = 'mainsub' AND "subdomains".domain_id = 1 AND "subdomains".id <> 2053932786) LIMIT 1[0m
  [4;35;1mSubdomain Load (0.1ms)[0m   [0mSELECT "subdomains".id FROM "subdomains" WHERE ("subdomains"."path" = 'mainsub' AND "subdomains".domain_id = 1 AND "subdomains".id <> 2053932786) LIMIT 1[0m
  [4;36;1mSubdomain Load (0.2ms)[0m   [0;1mSELECT * FROM "subdomains" WHERE ("subdomains"."mainsub" = 't' AND "subdomains"."domain_id" = 1) LIMIT 1[0m
  [4;35;1mSubdomain Load (0.3ms)[0m   [0mSELECT * FROM "subdomains" WHERE ("subdomains".domain_id = 1) [0m
  [4;36;1mSubdomain Load (0.2ms)[0m   [0;1mSELECT * FROM "subdomains" WHERE ("subdomains"."id" = 2053932785) [0m
  [4;35;1mDomain Load (0.1ms)[0m   [0mSELECT * FROM "domains" WHERE ("domains"."id" = 1) [0m
  [4;36;1mSubdomain Load (0.1ms)[0m   [0;1mSELECT "subdomains".id FROM "subdomains" WHERE ("subdomains"."url" = 'www' AND "subdomains".domain_id = 1 AND "subdomains".id <> 2053932785) LIMIT 1[0m
  [4;35;1mSubdomain Load (0.1ms)[0m   [0mSELECT "subdomains".id FROM "subdomains" WHERE ("subdomains"."path" = '' AND "subdomains".domain_id = 1 AND "subdomains".id <> 2053932785) LIMIT 1[0m
  [4;36;1mSubdomain Load (0.2ms)[0m   [0;1mSELECT * FROM "subdomains" WHERE ("subdomains"."mainsub" = 't' AND "subdomains"."domain_id" = 1) LIMIT 1[0m
  [4;35;1mSubdomain Load (0.1ms)[0m   [0mSELECT "subdomains".id FROM "subdomains" WHERE ("subdomains"."url" = 'www' AND "subdomains".domain_id = 1 AND "subdomains".id <> 2053932785) LIMIT 1[0m
  [4;36;1mSubdomain Load (0.1ms)[0m   [0;1mSELECT "subdomains".id FROM "subdomains" WHERE ("subdomains"."path" = 'www' AND "subdomains".domain_id = 1 AND "subdomains".id <> 2053932785) LIMIT 1[0m
  [4;35;1mSubdomain Load (0.2ms)[0m   [0mSELECT * FROM "subdomains" WHERE ("subdomains"."mainsub" = 't' AND "subdomains"."domain_id" = 1) LIMIT 1[0m
  [4;36;1mSubdomain Load (0.2ms)[0m   [0;1mSELECT * FROM "subdomains" WHERE ("subdomains"."id" = 2053932785) [0m
  [4;35;1mDomain Load (0.2ms)[0m   [0mSELECT * FROM "domains" WHERE ("domains"."id" = 1) [0m
  [4;36;1mSubdomain Load (0.1ms)[0m   [0;1mSELECT "subdomains".id FROM "subdomains" WHERE ("subdomains"."url" = 'www' AND "subdomains".domain_id = 1 AND "subdomains".id <> 2053932785) LIMIT 1[0m
  [4;35;1mSubdomain Load (0.1ms)[0m   [0mSELECT "subdomains".id FROM "subdomains" WHERE ("subdomains"."path" = 'www' AND "subdomains".domain_id = 1 AND "subdomains".id <> 2053932785) LIMIT 1[0m
  [4;36;1mSubdomain Load (0.2ms)[0m   [0;1mSELECT * FROM "subdomains" WHERE ("subdomains"."mainsub" = 't' AND "subdomains"."domain_id" = 1) LIMIT 1[0m
  [4;35;1mSubdomain Load (0.2ms)[0m   [0mSELECT * FROM "subdomains" WHERE ("subdomains"."id" = 298486374) [0m
  [4;36;1mDomain Load (0.1ms)[0m   [0;1mSELECT * FROM "domains" WHERE ("domains"."id" = 1) [0m
  [4;35;1mSubdomain Load (0.1ms)[0m   [0mSELECT "subdomains".id FROM "subdomains" WHERE ("subdomains"."url" = 'test' AND "subdomains".domain_id = 1 AND "subdomains".id <> 298486374) LIMIT 1[0m
  [4;36;1mSubdomain Load (0.1ms)[0m   [0;1mSELECT "subdomains".id FROM "subdomains" WHERE ("subdomains"."path" = 'test-site' AND "subdomains".domain_id = 1 AND "subdomains".id <> 298486374) LIMIT 1[0m
  [4;35;1mSubdomain Load (0.2ms)[0m   [0mSELECT * FROM "subdomains" WHERE ("subdomains"."id" = 298486374) [0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT "users".id FROM "users" WHERE ("users"."username" = 'test1' AND "users".id <> 2) LIMIT 1[0m
  [4;35;1mService Load (0.1ms)[0m   [0mSELECT * FROM "services" INNER JOIN "services_users" ON "services".id = "services_users".service_id WHERE ("services_users".user_id = 2 ) [0m
  [4;36;1mService Load (0.1ms)[0m   [0;1mSELECT * FROM "services" INNER JOIN "services_users" ON "services".id = "services_users".service_id WHERE ("services_users".user_id = 1 ) [0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT "users".id FROM "users" WHERE ("users"."username" = 'test_email') LIMIT 1[0m
  [4;36;1mService Load (0.1ms)[0m   [0;1mSELECT * FROM "services" INNER JOIN "services_users" ON "services".id = "services_users".service_id WHERE ("services_users".user_id = 1 ) [0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT "users".id FROM "users" WHERE ("users"."username" = 'test_email') LIMIT 1[0m
  [4;36;1mUser Create (0.2ms)[0m   [0;1mINSERT INTO "users" ("max_bandwidth", "created_at", "max_space", "updated_at", "username", "used_space", "max_subusers", "full_name", "parent_id", "password", "email", "max_subdomains", "ohmd_password") VALUES(NULL, '2010-03-28 13:47:50', -1, '2010-03-28 13:47:50', 'test_email', 0, -1, NULL, 1, 'x', 'valid.with.dots_and-stuff@123.test.co.uk', -1, NULL)[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT "users".id FROM "users" WHERE ("users"."username" = 'test_email' AND "users".id <> 4) LIMIT 1[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT "users".id FROM "users" WHERE ("users"."username" = 'test_email' AND "users".id <> 4) LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT "users".id FROM "users" WHERE ("users"."username" = 'test_email' AND "users".id <> 4) LIMIT 1[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT "users".id FROM "users" WHERE ("users"."username" = 'test1' AND "users".id <> 2) LIMIT 1[0m
  [4;35;1mService Load (0.1ms)[0m   [0mSELECT * FROM "services" INNER JOIN "services_users" ON "services".id = "services_users".service_id WHERE ("services_users".user_id = 2 ) [0m
  [4;36;1mService Load (0.1ms)[0m   [0;1mSELECT * FROM "services" INNER JOIN "services_users" ON "services".id = "services_users".service_id WHERE ("services_users".user_id = 1 ) [0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM "users" WHERE ("users".parent_id = 2) [0m
  [4;36;1mDomain Load (0.1ms)[0m   [0;1mSELECT * FROM "domains" WHERE ("domains".user_id = 2) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM "users" WHERE ("users".parent_id = 2) [0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT "users".id FROM "users" WHERE ("users"."username" = 'quota tester') LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM "users" WHERE ("users".parent_id = 2) [0m
  [4;36;1mService Load (0.1ms)[0m   [0;1mSELECT * FROM "services" INNER JOIN "services_users" ON "services".id = "services_users".service_id WHERE ("services_users".user_id = 2 ) [0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT "users".id FROM "users" WHERE ("users"."username" IS NULL) LIMIT 1[0m
  [4;35;1mService Load (0.1ms)[0m   [0mSELECT * FROM "services" INNER JOIN "services_users" ON "services".id = "services_users".service_id WHERE ("services_users".user_id = 1 ) [0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT "users".id FROM "users" WHERE ("users"."username" = 'admin') LIMIT 1[0m
  [4;36;1mService Load (0.1ms)[0m   [0;1mSELECT * FROM "services" INNER JOIN "services_users" ON "services".id = "services_users".service_id WHERE ("services_users".user_id = 1 ) [0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT "users".id FROM "users" WHERE ("users"."username" = 'nobody') LIMIT 1[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT "users".id FROM "users" WHERE ("users"."username" = 'test1' AND "users".id <> 2) LIMIT 1[0m
  [4;35;1mService Load (0.1ms)[0m   [0mSELECT * FROM "services" INNER JOIN "services_users" ON "services".id = "services_users".service_id WHERE ("services_users".user_id = 2 ) [0m
  [4;36;1mService Load (0.1ms)[0m   [0;1mSELECT * FROM "services" INNER JOIN "services_users" ON "services".id = "services_users".service_id WHERE ("services_users".user_id = 1 ) [0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT "users".id FROM "users" WHERE ("users"."username" = 'test1') LIMIT 1[0m
  [4;35;1mService Load (0.1ms)[0m   [0mSELECT * FROM "services" INNER JOIN "services_users" ON "services".id = "services_users".service_id WHERE ("services_users".user_id = 1 ) [0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT "users".id FROM "users" WHERE ("users"."username" = 'ohmadmin' AND "users".id <> 1) LIMIT 1[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT "users".id FROM "users" WHERE ("users"."username" = 'test1' AND "users".id <> 2) LIMIT 1[0m
  [4;35;1mService Load (0.1ms)[0m   [0mSELECT * FROM "services" INNER JOIN "services_users" ON "services".id = "services_users".service_id WHERE ("services_users".user_id = 2 ) [0m
  [4;36;1mService Load (0.1ms)[0m   [0;1mSELECT * FROM "services" INNER JOIN "services_users" ON "services".id = "services_users".service_id WHERE ("services_users".user_id = 1 ) [0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 3) [0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT "users".id FROM "users" WHERE ("users"."username" = 'test2' AND "users".id <> 3) LIMIT 1[0m
  [4;36;1mService Load (0.1ms)[0m   [0;1mSELECT * FROM "services" INNER JOIN "services_users" ON "services".id = "services_users".service_id WHERE ("services_users".user_id = 3 ) [0m
  [4;35;1mService Load (0.1ms)[0m   [0mSELECT * FROM "services" INNER JOIN "services_users" ON "services".id = "services_users".service_id WHERE ("services_users".user_id = 1 ) [0m
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
  [4;35;1mLoggedUser Create (0.3ms)[0m   [0mINSERT INTO "logged_users" ("created_at", "session", "updated_at", "user_id", "ip", "session_ts") VALUES('2010-03-28 13:47:51', 'test session', '2010-03-28 13:47:51', 2, '0.0.0.0', '2010-03-28 13:47:51')[0m


Processing DashboardController#index (for 0.0.0.0 at 2010-03-28 15:47:51) [GET]
  Parameters: {"action"=>"index", "controller"=>"dashboard"}
  [4;36;1mLoggedUser Load (0.3ms)[0m   [0;1mSELECT * FROM "logged_users" WHERE ("logged_users"."ip" = '0.0.0.0' AND "logged_users"."session" = 'test session') LIMIT 1[0m
  [4;35;1mLoggedUser Update (0.1ms)[0m   [0mUPDATE "logged_users" SET "updated_at" = '2010-03-28 13:47:51', "session_ts" = '2010-03-28 13:47:51' WHERE "id" = 2053932786[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
Rendering template within layouts/ohm
Rendering dashboard/index
  [4;35;1mUser Load (0.5ms)[0m   [0mSELECT * FROM "users" WHERE ("users".parent_id = 2) [0m
  [4;36;1mDomain Load (0.2ms)[0m   [0;1mSELECT * FROM "domains" WHERE ("domains".user_id = 2) [0m
  [4;35;1mSQL (0.4ms)[0m   [0mSELECT count(*) AS count_all FROM "domains" WHERE ("domains".user_id = 2) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM "services" INNER JOIN "services_users" ON "services".id = "services_users".service_id WHERE ("services_users".user_id = 2 ) [0m
  [4;35;1mService Load (0.1ms)[0m   [0mSELECT * FROM "services" INNER JOIN "services_users" ON "services".id = "services_users".service_id WHERE ("services_users".user_id = 2 ) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM "users" WHERE ("users".parent_id = 2) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM "users" WHERE ("users".parent_id = 2) [0m
Completed in 58ms (View: 51, DB: 5) | 200 OK [http://test.host/]


Processing DashboardController#index (for 0.0.0.0 at 2010-03-28 15:47:51) [GET]
  Parameters: {"action"=>"index", "controller"=>"dashboard"}
Redirected to http://test.host/login
Filter chain halted as [:authenticate] rendered_or_redirected.
Completed in 1ms (DB: 0) | 302 Found [http://test.host/]
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mLoggedUser Create (0.2ms)[0m   [0mINSERT INTO "logged_users" ("created_at", "session", "updated_at", "user_id", "ip", "session_ts") VALUES('2010-03-28 13:47:51', 'test session', '2010-03-28 13:47:51', 1, '0.0.0.0', '2010-03-28 13:47:51')[0m
  [4;36;1mService Load (0.2ms)[0m   [0;1mSELECT * FROM "services" WHERE ("services"."id" = 2053932785) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mINSERT INTO "services_users" ("service_id", "user_id") VALUES (2053932785, 1)[0m
  [4;36;1mService Load (0.1ms)[0m   [0;1mSELECT "services".id FROM "services" WHERE ("services"."name" = 'Service 1' AND "services".id <> 2053932785) LIMIT 1[0m
  [4;35;1mService Load (0.1ms)[0m   [0mSELECT "services".id FROM "services" WHERE ("services"."controller" = 'service_test_1' AND "services".id <> 2053932785) LIMIT 1[0m
  [4;36;1mDomain Load (0.2ms)[0m   [0;1mSELECT * FROM "domains" WHERE ("domains"."id" = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM "services" INNER JOIN "domains_services" ON "services".id = "domains_services".service_id WHERE ("domains_services".domain_id = 1 ) [0m


Processing DomainsController#addservice (for 0.0.0.0 at 2010-03-28 15:47:51) [POST]
  Parameters: {"action"=>"addservice", "domain_id"=>"1", "service_id"=>[2053932785], "controller"=>"domains"}
  [4;36;1mLoggedUser Load (0.2ms)[0m   [0;1mSELECT * FROM "logged_users" WHERE ("logged_users"."ip" = '0.0.0.0' AND "logged_users"."session" = 'test session') LIMIT 1[0m
  [4;35;1mLoggedUser Update (0.1ms)[0m   [0mUPDATE "logged_users" SET "updated_at" = '2010-03-28 13:47:51', "session_ts" = '2010-03-28 13:47:51' WHERE "id" = 2053932786[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mDomain Load (0.2ms)[0m   [0mSELECT * FROM "domains" WHERE ("domains"."id" = 1) [0m
  [4;36;1mService Load (0.2ms)[0m   [0;1mSELECT * FROM "services" WHERE ("services"."id" = 2053932785) [0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT "users".id FROM "users" INNER JOIN "services_users" ON "users".id = "services_users".user_id WHERE ("users"."id" = 1) AND ("services_users".service_id = 2053932785 ) LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mINSERT INTO "domains_services" ("domain_id", "service_id") VALUES (1, 2053932785)[0m
  [4;36;1mDomain Load (0.1ms)[0m   [0;1mSELECT "domains".id FROM "domains" WHERE ("domains"."domain" = 'test.com' AND "domains".id <> 1) LIMIT 1[0m
Redirected to http://test.host/service_test_1/addtodomain?domain_id=1&service_id=2053932785
Completed in 10ms (DB: 3) | 302 Found [http://test.host/domains/addservice?domain_id=1&service_id%5B%5D=2053932785]
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM "services" INNER JOIN "domains_services" ON "services".id = "domains_services".service_id WHERE ("domains_services".domain_id = 1 ) [0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
  [4;35;1mLoggedUser Create (0.2ms)[0m   [0mINSERT INTO "logged_users" ("created_at", "session", "updated_at", "user_id", "ip", "session_ts") VALUES('2010-03-28 13:47:51', 'test session', '2010-03-28 13:47:51', 2, '0.0.0.0', '2010-03-28 13:47:51')[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM "domains" [0m


Processing DomainsController#create (for 0.0.0.0 at 2010-03-28 15:47:51) [POST]
  Parameters: {"action"=>"create", "domain"=>{"domain"=>"newdom.com"}, "controller"=>"domains"}
  [4;35;1mLoggedUser Load (0.2ms)[0m   [0mSELECT * FROM "logged_users" WHERE ("logged_users"."ip" = '0.0.0.0' AND "logged_users"."session" = 'test session') LIMIT 1[0m
  [4;36;1mLoggedUser Update (0.1ms)[0m   [0;1mUPDATE "logged_users" SET "updated_at" = '2010-03-28 13:47:51', "session_ts" = '2010-03-28 13:47:51' WHERE "id" = 2053932786[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
  [4;36;1mDomain Load (0.1ms)[0m   [0;1mSELECT "domains".id FROM "domains" WHERE ("domains"."domain" = 'newdom.com') LIMIT 1[0m
  [4;35;1mDomain Create (0.1ms)[0m   [0mINSERT INTO "domains" ("created_at", "updated_at", "domain", "user_id") VALUES('2010-03-28 13:47:51', '2010-03-28 13:47:51', 'newdom.com', 2)[0m
  [4;36;1mSubdomain Load (0.1ms)[0m   [0;1mSELECT "subdomains".id FROM "subdomains" WHERE ("subdomains"."url" = 'www' AND "subdomains".domain_id = 2) LIMIT 1[0m
  [4;35;1mSubdomain Load (0.1ms)[0m   [0mSELECT "subdomains".id FROM "subdomains" WHERE ("subdomains"."path" = 'www' AND "subdomains".domain_id = 2) LIMIT 1[0m
  [4;36;1mSubdomain Load (0.1ms)[0m   [0;1mSELECT * FROM "subdomains" WHERE ("subdomains"."domain_id" = 2 AND "subdomains"."mainsub" = 't') LIMIT 1[0m
  [4;35;1mSubdomain Create (0.1ms)[0m   [0mINSERT INTO "subdomains" ("created_at", "updated_at", "url", "domain_id", "path", "mainsub") VALUES('2010-03-28 13:47:51', '2010-03-28 13:47:51', 'www', 2, 'www', 't')[0m
Redirected to http://test.host/domains/2
Completed in 9ms (DB: 2) | 302 Found [http://test.host/domains?domain%5Bdomain%5D=newdom.com]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM "domains" [0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mLoggedUser Create (0.2ms)[0m   [0;1mINSERT INTO "logged_users" ("created_at", "session", "updated_at", "user_id", "ip", "session_ts") VALUES('2010-03-28 13:47:51', 'test session', '2010-03-28 13:47:51', 1, '0.0.0.0', '2010-03-28 13:47:51')[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM "domains" [0m
  [4;36;1mDomain Load (0.2ms)[0m   [0;1mSELECT * FROM "domains" WHERE ("domains"."id" = 1) [0m


Processing DomainsController#destroy (for 0.0.0.0 at 2010-03-28 15:47:51) [DELETE]
  Parameters: {"action"=>"destroy", "id"=>"1", "controller"=>"domains"}
  [4;35;1mLoggedUser Load (0.2ms)[0m   [0mSELECT * FROM "logged_users" WHERE ("logged_users"."ip" = '0.0.0.0' AND "logged_users"."session" = 'test session') LIMIT 1[0m
  [4;36;1mLoggedUser Update (0.1ms)[0m   [0;1mUPDATE "logged_users" SET "updated_at" = '2010-03-28 13:47:51', "session_ts" = '2010-03-28 13:47:51' WHERE "id" = 2053932786[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mDomain Load (0.2ms)[0m   [0;1mSELECT * FROM "domains" WHERE ("domains"."id" = 1) [0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mSubdomain Load (0.2ms)[0m   [0;1mSELECT * FROM "subdomains" WHERE ("subdomains".domain_id = 1) [0m
  [4;35;1mSubdomain Destroy (0.1ms)[0m   [0mDELETE FROM "subdomains" WHERE "id" = 298486374[0m
  [4;36;1mSubdomain Destroy (0.1ms)[0m   [0;1mDELETE FROM "subdomains" WHERE "id" = 2053932785[0m
  [4;35;1mService Load (0.1ms)[0m   [0mSELECT * FROM "services" INNER JOIN "domains_services" ON "services".id = "domains_services".service_id WHERE ("domains_services".domain_id = 1 ) [0m
  [4;36;1mDomain Destroy (0.1ms)[0m   [0;1mDELETE FROM "domains" WHERE "id" = 1[0m
Redirected to http://test.host/domains
Completed in 6ms (DB: 2) | 302 Found [http://test.host/domains/1]
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM "domains" [0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
  [4;35;1mLoggedUser Create (0.1ms)[0m   [0mINSERT INTO "logged_users" ("created_at", "session", "updated_at", "user_id", "ip", "session_ts") VALUES('2010-03-28 13:47:52', 'test session', '2010-03-28 13:47:52', 2, '0.0.0.0', '2010-03-28 13:47:52')[0m


Processing DomainsController#index (for 0.0.0.0 at 2010-03-28 15:47:52) [GET]
  Parameters: {"action"=>"index", "controller"=>"domains"}
  [4;36;1mLoggedUser Load (0.2ms)[0m   [0;1mSELECT * FROM "logged_users" WHERE ("logged_users"."ip" = '0.0.0.0' AND "logged_users"."session" = 'test session') LIMIT 1[0m
  [4;35;1mLoggedUser Update (0.1ms)[0m   [0mUPDATE "logged_users" SET "updated_at" = '2010-03-28 13:47:52', "session_ts" = '2010-03-28 13:47:52' WHERE "id" = 2053932786[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
Rendering template within layouts/ohm
Rendering domains/index
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM "domains" WHERE ("domains".user_id = 2) [0m
  [4;36;1mDomain Load (0.1ms)[0m   [0;1mSELECT * FROM "domains" WHERE ("domains".user_id = 2) [0m
  [4;35;1mService Load (0.1ms)[0m   [0mSELECT * FROM "services" INNER JOIN "services_users" ON "services".id = "services_users".service_id WHERE ("services_users".user_id = 2 ) [0m
Completed in 8ms (View: 5, DB: 1) | 200 OK [http://test.host/domains]


Processing DomainsController#index (for 0.0.0.0 at 2010-03-28 15:47:52) [GET]
  Parameters: {"action"=>"index", "controller"=>"domains"}
Redirected to http://test.host/login
Filter chain halted as [:authenticate] rendered_or_redirected.
Completed in 0ms (DB: 0) | 302 Found [http://test.host/domains]
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
  [4;35;1mLoggedUser Create (0.2ms)[0m   [0mINSERT INTO "logged_users" ("created_at", "session", "updated_at", "user_id", "ip", "session_ts") VALUES('2010-03-28 13:47:52', 'test session', '2010-03-28 13:47:52', 2, '0.0.0.0', '2010-03-28 13:47:52')[0m


Processing DomainsController#new (for 0.0.0.0 at 2010-03-28 15:47:52) [GET]
  Parameters: {"action"=>"new", "controller"=>"domains"}
  [4;36;1mLoggedUser Load (0.2ms)[0m   [0;1mSELECT * FROM "logged_users" WHERE ("logged_users"."ip" = '0.0.0.0' AND "logged_users"."session" = 'test session') LIMIT 1[0m
  [4;35;1mLoggedUser Update (0.1ms)[0m   [0mUPDATE "logged_users" SET "updated_at" = '2010-03-28 13:47:52', "session_ts" = '2010-03-28 13:47:52' WHERE "id" = 2053932786[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
Rendering template within layouts/ohm
Rendering domains/new
  [4;35;1mService Load (0.1ms)[0m   [0mSELECT * FROM "services" INNER JOIN "services_users" ON "services".id = "services_users".service_id WHERE ("services_users".user_id = 2 ) [0m
Completed in 8ms (View: 5, DB: 1) | 200 OK [http://test.host/domains/new]
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
  [4;35;1mLoggedUser Create (0.2ms)[0m   [0mINSERT INTO "logged_users" ("created_at", "session", "updated_at", "user_id", "ip", "session_ts") VALUES('2010-03-28 13:47:52', 'test session', '2010-03-28 13:47:52', 2, '0.0.0.0', '2010-03-28 13:47:52')[0m
  [4;36;1mService Load (0.2ms)[0m   [0;1mSELECT * FROM "services" WHERE ("services"."id" = 2053932785) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mINSERT INTO "services_users" ("service_id", "user_id") VALUES (2053932785, 2)[0m
  [4;36;1mService Load (0.1ms)[0m   [0;1mSELECT "services".id FROM "services" WHERE ("services"."name" = 'Service 1' AND "services".id <> 2053932785) LIMIT 1[0m
  [4;35;1mService Load (0.1ms)[0m   [0mSELECT "services".id FROM "services" WHERE ("services"."controller" = 'service_test_1' AND "services".id <> 2053932785) LIMIT 1[0m
  [4;36;1mDomain Load (0.1ms)[0m   [0;1mSELECT * FROM "domains" WHERE ("domains"."id" = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM "services" INNER JOIN "domains_services" ON "services".id = "domains_services".service_id WHERE ("domains_services".domain_id = 1 ) [0m


Processing DomainsController#addservice (for 0.0.0.0 at 2010-03-28 15:47:52) [POST]
  Parameters: {"action"=>"addservice", "domain_id"=>"1", "service_id"=>[2053932785], "controller"=>"domains"}
  [4;36;1mLoggedUser Load (0.2ms)[0m   [0;1mSELECT * FROM "logged_users" WHERE ("logged_users"."ip" = '0.0.0.0' AND "logged_users"."session" = 'test session') LIMIT 1[0m
  [4;35;1mLoggedUser Update (0.1ms)[0m   [0mUPDATE "logged_users" SET "updated_at" = '2010-03-28 13:47:52', "session_ts" = '2010-03-28 13:47:52' WHERE "id" = 2053932786[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
  [4;35;1mDomain Load (0.2ms)[0m   [0mSELECT * FROM "domains" WHERE ("domains"."id" = 1) [0m
  [4;36;1mService Load (0.2ms)[0m   [0;1mSELECT * FROM "services" WHERE ("services"."id" = 2053932785) [0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
Redirected to http://test.host/domains
Completed in 4ms (DB: 2) | 302 Found [http://test.host/domains/addservice?domain_id=1&service_id%5B%5D=2053932785]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM "services" INNER JOIN "domains_services" ON "services".id = "domains_services".service_id WHERE ("domains_services".domain_id = 1 ) [0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
  [4;36;1mLoggedUser Create (0.2ms)[0m   [0;1mINSERT INTO "logged_users" ("created_at", "session", "updated_at", "user_id", "ip", "session_ts") VALUES('2010-03-28 13:47:52', 'test session', '2010-03-28 13:47:52', 2, '0.0.0.0', '2010-03-28 13:47:52')[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM "domains" [0m
  [4;36;1mDomain Load (0.2ms)[0m   [0;1mSELECT * FROM "domains" WHERE ("domains"."id" = 1) [0m


Processing DomainsController#destroy (for 0.0.0.0 at 2010-03-28 15:47:52) [DELETE]
  Parameters: {"action"=>"destroy", "id"=>"1", "controller"=>"domains"}
  [4;35;1mLoggedUser Load (0.2ms)[0m   [0mSELECT * FROM "logged_users" WHERE ("logged_users"."ip" = '0.0.0.0' AND "logged_users"."session" = 'test session') LIMIT 1[0m
  [4;36;1mLoggedUser Update (0.1ms)[0m   [0;1mUPDATE "logged_users" SET "updated_at" = '2010-03-28 13:47:52', "session_ts" = '2010-03-28 13:47:52' WHERE "id" = 2053932786[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
  [4;36;1mDomain Load (0.1ms)[0m   [0;1mSELECT * FROM "domains" WHERE ("domains"."id" = 1) [0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
Redirected to http://test.host/domains
Completed in 4ms (DB: 2) | 302 Found [http://test.host/domains/1]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM "domains" [0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
  [4;36;1mLoggedUser Create (0.1ms)[0m   [0;1mINSERT INTO "logged_users" ("created_at", "session", "updated_at", "user_id", "ip", "session_ts") VALUES('2010-03-28 13:47:52', 'test session', '2010-03-28 13:47:52', 2, '0.0.0.0', '2010-03-28 13:47:52')[0m
  [4;35;1mDomain Load (0.2ms)[0m   [0mSELECT * FROM "domains" WHERE ("domains"."id" = 1) [0m


Processing DomainsController#show (for 0.0.0.0 at 2010-03-28 15:47:52) [GET]
  Parameters: {"action"=>"show", "id"=>"1", "controller"=>"domains"}
  [4;36;1mLoggedUser Load (0.2ms)[0m   [0;1mSELECT * FROM "logged_users" WHERE ("logged_users"."ip" = '0.0.0.0' AND "logged_users"."session" = 'test session') LIMIT 1[0m
  [4;35;1mLoggedUser Update (0.1ms)[0m   [0mUPDATE "logged_users" SET "updated_at" = '2010-03-28 13:47:52', "session_ts" = '2010-03-28 13:47:52' WHERE "id" = 2053932786[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
  [4;35;1mDomain Load (0.1ms)[0m   [0mSELECT * FROM "domains" WHERE ("domains"."id" = 1) [0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
Redirected to http://test.host/domains
Completed in 4ms (DB: 2) | 302 Found [http://test.host/domains/1]
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mLoggedUser Create (0.2ms)[0m   [0;1mINSERT INTO "logged_users" ("created_at", "session", "updated_at", "user_id", "ip", "session_ts") VALUES('2010-03-28 13:47:52', 'test session', '2010-03-28 13:47:52', 1, '0.0.0.0', '2010-03-28 13:47:52')[0m
  [4;35;1mDomain Load (0.2ms)[0m   [0mSELECT * FROM "domains" WHERE ("domains"."id" = 1) [0m


Processing DomainsController#show (for 0.0.0.0 at 2010-03-28 15:47:52) [GET]
  Parameters: {"action"=>"show", "id"=>"1", "controller"=>"domains"}
  [4;36;1mLoggedUser Load (0.2ms)[0m   [0;1mSELECT * FROM "logged_users" WHERE ("logged_users"."ip" = '0.0.0.0' AND "logged_users"."session" = 'test session') LIMIT 1[0m
  [4;35;1mLoggedUser Update (0.1ms)[0m   [0mUPDATE "logged_users" SET "updated_at" = '2010-03-28 13:47:52', "session_ts" = '2010-03-28 13:47:52' WHERE "id" = 2053932786[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mDomain Load (0.1ms)[0m   [0mSELECT * FROM "domains" WHERE ("domains"."id" = 1) [0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
Rendering template within layouts/ohm
Rendering domains/show
  [4;35;1mSubdomain Load (0.3ms)[0m   [0mSELECT * FROM "subdomains" WHERE ("subdomains".domain_id = 1) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM "services" INNER JOIN "domains_services" ON "services".id = "domains_services".service_id WHERE ("domains_services".domain_id = 1 ) [0m
  [4;35;1mService Load (0.1ms)[0m   [0mSELECT * FROM "services" INNER JOIN "domains_services" ON "services".id = "domains_services".service_id WHERE ("domains_services".domain_id = 1 ) [0m
  [4;36;1mService Load (0.1ms)[0m   [0;1mSELECT * FROM "services" INNER JOIN "services_users" ON "services".id = "services_users".service_id WHERE ("services_users".user_id = 1 ) [0m
Rendered domains/_domain (15.2ms)
Completed in 22ms (View: 18, DB: 2) | 200 OK [http://test.host/domains/1]
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m


Processing LoginController#login (for 0.0.0.0 at 2010-03-28 15:47:52) [POST]
  Parameters: {"action"=>"login", "controller"=>"login", "user"=>#<User id: 2, username: "test1", password: "bad password", full_name: "Test User 1", email: "test1@test.com", parent_id: 1, created_at: "2010-03-28 13:47:51", updated_at: "2010-03-28 13:47:51", max_subdomains: 5, max_space: 500, max_bandwidth: nil, max_subusers: 5, used_space: 100, ohmd_password: nil>}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."username" = 'test1') LIMIT 1[0m
Redirected to http://test.host/login
Completed in 3ms (DB: 1) | 302 Found [http://test.host/login/login?user=2]
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m


Processing LoginController#login (for 0.0.0.0 at 2010-03-28 15:47:52) [POST]
  Parameters: {"action"=>"login", "controller"=>"login", "user"=>#<User id: 2, username: "test1", password: "test1", full_name: "Test User 1", email: "test1@test.com", parent_id: 1, created_at: "2010-03-28 13:47:51", updated_at: "2010-03-28 13:47:51", max_subdomains: 5, max_space: 500, max_bandwidth: nil, max_subusers: 5, used_space: 100, ohmd_password: nil>}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."username" = 'test1') LIMIT 1[0m
  [4;35;1mLoggedUser Create (0.2ms)[0m   [0mINSERT INTO "logged_users" ("created_at", "session", "updated_at", "user_id", "ip", "session_ts") VALUES('2010-03-28 13:47:52', '63cd8ff6337e305f1e23cb93cebeffb0', '2010-03-28 13:47:52', 2, '0.0.0.0', '2010-03-28 13:47:52')[0m
Redirected to http://test.host/
Completed in 3ms (DB: 1) | 302 Found [http://test.host/login/login?user=2]


Processing LoginController#index (for 0.0.0.0 at 2010-03-28 15:47:52) [GET]
  Parameters: {"action"=>"index", "controller"=>"login"}
  [4;36;1mUser Load (0.5ms)[0m   [0;1mSELECT * FROM "users" [0m
Rendering template within layouts/ohm
Rendering login/index
Completed in 5ms (View: 4, DB: 1) | 200 OK [http://test.host/login]
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mLoggedUser Create (0.2ms)[0m   [0;1mINSERT INTO "logged_users" ("created_at", "session", "updated_at", "user_id", "ip", "session_ts") VALUES('2010-03-28 13:47:52', 'test session', '2010-03-28 13:47:52', 1, '0.0.0.0', '2010-03-28 13:47:52')[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM "service_email_mailboxes" [0m


Processing ServiceEmailMailboxesController#create (for 0.0.0.0 at 2010-03-28 15:47:52) [POST]
  Parameters: {"action"=>"create", "controller"=>"service_email_mailboxes", "service_email_mailbox"=>{"address"=>"newtest", "password_confirmation"=>"[FILTERED]", "domain_id"=>1, "password"=>"[FILTERED]"}}
  [4;36;1mLoggedUser Load (0.2ms)[0m   [0;1mSELECT * FROM "logged_users" WHERE ("logged_users"."ip" = '0.0.0.0' AND "logged_users"."session" = 'test session') LIMIT 1[0m
  [4;35;1mLoggedUser Update (0.1ms)[0m   [0mUPDATE "logged_users" SET "updated_at" = '2010-03-28 13:47:52', "session_ts" = '2010-03-28 13:47:52' WHERE "id" = 2053932786[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mServiceEmailUser Load (0.1ms)[0m   [0mSELECT * FROM "service_email_users" WHERE ("service_email_users"."user_id" = 1) LIMIT 1[0m
  [4;36;1mServiceEmailUser Load (0.1ms)[0m   [0;1mSELECT "service_email_users".id FROM "service_email_users" WHERE ("service_email_users"."user_id" = 1) LIMIT 1[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mServiceEmailUser Create (0.1ms)[0m   [0;1mINSERT INTO "service_email_users" ("created_at", "updated_at", "max_aliases", "user_id", "max_mailboxes") VALUES('2010-03-28 13:47:52', '2010-03-28 13:47:52', -1, 1, -1)[0m
  [4;35;1mDomain Load (0.3ms)[0m   [0mSELECT * FROM "domains" WHERE ("domains"."id" = 1) [0m
  [4;36;1mDomain Load (0.1ms)[0m   [0;1mSELECT "domains".id FROM "domains" WHERE ("domains"."id" = 1) AND ("domains".user_id = 1) LIMIT 1[0m
  [4;35;1mServiceEmailMailbox Load (0.1ms)[0m   [0mSELECT "service_email_mailboxes".id FROM "service_email_mailboxes" WHERE ("service_email_mailboxes"."address" = 'newtest' AND "service_email_mailboxes".domain_id = 1) LIMIT 1[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mServiceEmailMailbox Create (0.1ms)[0m   [0mINSERT INTO "service_email_mailboxes" ("address", "size", "created_at", "updated_at", "domain_id", "forward", "forward_only", "full_name", "password") VALUES('newtest', -1, '2010-03-28 13:47:52', '2010-03-28 13:47:52', 1, NULL, NULL, NULL, '$6$O4BgVYgO$rGmyVht87rS/D1i3M0IX1w5XtIDSV3W6qGaaXJcmavPZoyKoNaRGfdX4cLM2sEW0PCxLv/O/c/xM1moFNwHHJ/')[0m
Redirected to http://test.host/service_email_mailboxes
Completed in 69ms (DB: 3) | 302 Found [http://test.host/service_email_mailboxes/create?service_email_mailbox%5Baddress%5D=newtest&service_email_mailbox%5Bdomain_id%5D=1&service_email_mailbox%5Bpassword%5D=newpass&service_email_mailbox%5Bpassword_confirmation%5D=newpass]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM "service_email_mailboxes" [0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mLoggedUser Create (0.2ms)[0m   [0;1mINSERT INTO "logged_users" ("created_at", "session", "updated_at", "user_id", "ip", "session_ts") VALUES('2010-03-28 13:47:52', 'test session', '2010-03-28 13:47:52', 1, '0.0.0.0', '2010-03-28 13:47:52')[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM "service_email_mailboxes" [0m
  [4;36;1mServiceEmailMailbox Load (0.2ms)[0m   [0;1mSELECT * FROM "service_email_mailboxes" WHERE ("service_email_mailboxes"."id" = 198609129) [0m


Processing ServiceEmailMailboxesController#destroy (for 0.0.0.0 at 2010-03-28 15:47:52) [DELETE]
  Parameters: {"action"=>"destroy", "id"=>"198609129", "controller"=>"service_email_mailboxes"}
  [4;35;1mLoggedUser Load (0.2ms)[0m   [0mSELECT * FROM "logged_users" WHERE ("logged_users"."ip" = '0.0.0.0' AND "logged_users"."session" = 'test session') LIMIT 1[0m
  [4;36;1mLoggedUser Update (0.1ms)[0m   [0;1mUPDATE "logged_users" SET "updated_at" = '2010-03-28 13:47:52', "session_ts" = '2010-03-28 13:47:52' WHERE "id" = 2053932786[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mServiceEmailUser Load (0.1ms)[0m   [0;1mSELECT * FROM "service_email_users" WHERE ("service_email_users"."user_id" = 1) LIMIT 1[0m
  [4;35;1mServiceEmailUser Load (0.1ms)[0m   [0mSELECT "service_email_users".id FROM "service_email_users" WHERE ("service_email_users"."user_id" = 1) LIMIT 1[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mServiceEmailUser Create (0.1ms)[0m   [0mINSERT INTO "service_email_users" ("created_at", "updated_at", "max_aliases", "user_id", "max_mailboxes") VALUES('2010-03-28 13:47:52', '2010-03-28 13:47:52', -1, 1, -1)[0m
  [4;36;1mServiceEmailMailbox Load (0.2ms)[0m   [0;1mSELECT * FROM "service_email_mailboxes" WHERE ("service_email_mailboxes"."id" = 198609129) [0m
  [4;35;1mDomain Load (0.2ms)[0m   [0mSELECT * FROM "domains" WHERE ("domains"."id" = 1) [0m
  [4;36;1mDomain Load (0.1ms)[0m   [0;1mSELECT "domains".id FROM "domains" WHERE ("domains"."id" = 1) AND ("domains".user_id = 1) LIMIT 1[0m
  [4;35;1mServiceEmailMailbox Destroy (0.1ms)[0m   [0mDELETE FROM "service_email_mailboxes" WHERE "id" = 198609129[0m
Redirected to http://test.host/service_email_mailboxes
Completed in 8ms (DB: 2) | 302 Found [http://test.host/service_email_mailboxes/destroy/198609129]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM "service_email_mailboxes" [0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mLoggedUser Create (0.2ms)[0m   [0;1mINSERT INTO "logged_users" ("created_at", "session", "updated_at", "user_id", "ip", "session_ts") VALUES('2010-03-28 13:47:52', 'test session', '2010-03-28 13:47:52', 1, '0.0.0.0', '2010-03-28 13:47:52')[0m
  [4;35;1mServiceEmailMailbox Load (0.2ms)[0m   [0mSELECT * FROM "service_email_mailboxes" WHERE ("service_email_mailboxes"."id" = 198609129) [0m


Processing ServiceEmailMailboxesController#edit (for 0.0.0.0 at 2010-03-28 15:47:52) [GET]
  Parameters: {"action"=>"edit", "id"=>"198609129", "controller"=>"service_email_mailboxes"}
  [4;36;1mLoggedUser Load (0.2ms)[0m   [0;1mSELECT * FROM "logged_users" WHERE ("logged_users"."ip" = '0.0.0.0' AND "logged_users"."session" = 'test session') LIMIT 1[0m
  [4;35;1mLoggedUser Update (0.1ms)[0m   [0mUPDATE "logged_users" SET "updated_at" = '2010-03-28 13:47:52', "session_ts" = '2010-03-28 13:47:52' WHERE "id" = 2053932786[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mServiceEmailUser Load (0.1ms)[0m   [0mSELECT * FROM "service_email_users" WHERE ("service_email_users"."user_id" = 1) LIMIT 1[0m
  [4;36;1mServiceEmailUser Load (0.1ms)[0m   [0;1mSELECT "service_email_users".id FROM "service_email_users" WHERE ("service_email_users"."user_id" = 1) LIMIT 1[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mServiceEmailUser Create (0.3ms)[0m   [0;1mINSERT INTO "service_email_users" ("created_at", "updated_at", "max_aliases", "user_id", "max_mailboxes") VALUES('2010-03-28 13:47:52', '2010-03-28 13:47:52', -1, 1, -1)[0m
  [4;35;1mServiceEmailMailbox Load (0.2ms)[0m   [0mSELECT * FROM "service_email_mailboxes" WHERE ("service_email_mailboxes"."id" = 198609129) [0m
  [4;36;1mDomain Load (0.2ms)[0m   [0;1mSELECT * FROM "domains" WHERE ("domains"."id" = 1) [0m
  [4;35;1mDomain Load (0.1ms)[0m   [0mSELECT "domains".id FROM "domains" WHERE ("domains"."id" = 1) AND ("domains".user_id = 1) LIMIT 1[0m
Rendering template within layouts/ohm
Rendering service_email_mailboxes/edit
  [4;36;1mService Load (0.1ms)[0m   [0;1mSELECT * FROM "services" INNER JOIN "services_users" ON "services".id = "services_users".service_id WHERE ("services_users".user_id = 1 ) [0m
Completed in 19ms (View: 11, DB: 3) | 200 OK [http://test.host/service_email_mailboxes/edit/198609129]
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
  [4;36;1mLoggedUser Create (0.2ms)[0m   [0;1mINSERT INTO "logged_users" ("created_at", "session", "updated_at", "user_id", "ip", "session_ts") VALUES('2010-03-28 13:47:52', 'test session', '2010-03-28 13:47:52', 2, '0.0.0.0', '2010-03-28 13:47:52')[0m


Processing ServiceEmailMailboxesController#index (for 0.0.0.0 at 2010-03-28 15:47:52) [GET]
  Parameters: {"action"=>"index", "controller"=>"service_email_mailboxes"}
  [4;35;1mLoggedUser Load (0.2ms)[0m   [0mSELECT * FROM "logged_users" WHERE ("logged_users"."ip" = '0.0.0.0' AND "logged_users"."session" = 'test session') LIMIT 1[0m
  [4;36;1mLoggedUser Update (0.1ms)[0m   [0;1mUPDATE "logged_users" SET "updated_at" = '2010-03-28 13:47:52', "session_ts" = '2010-03-28 13:47:52' WHERE "id" = 2053932786[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
  [4;36;1mServiceEmailUser Load (0.2ms)[0m   [0;1mSELECT * FROM "service_email_users" WHERE ("service_email_users"."user_id" = 2) LIMIT 1[0m
  [4;35;1mServiceEmailMailbox Load (0.3ms)[0m   [0mSELECT * FROM "service_email_mailboxes" [0m
Rendering template within layouts/ohm
Rendering service_email_mailboxes/index
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
  [4;35;1mDomain Load (0.1ms)[0m   [0mSELECT * FROM "domains" WHERE ("domains".user_id = 2) [0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users".parent_id = 2) [0m
  [4;35;1mDomain Load (0.1ms)[0m   [0mSELECT * FROM "domains" WHERE ("domains".user_id = 2) [0m
  [4;36;1mService Load (0.1ms)[0m   [0;1mSELECT * FROM "services" INNER JOIN "services_users" ON "services".id = "services_users".service_id WHERE ("services_users".user_id = 2 ) [0m
Completed in 10ms (View: 6, DB: 2) | 200 OK [http://test.host/service_email_mailboxes]


Processing ServiceEmailMailboxesController#index (for 0.0.0.0 at 2010-03-28 15:47:52) [GET]
  Parameters: {"action"=>"index", "controller"=>"service_email_mailboxes"}
Redirected to http://test.host/login
Filter chain halted as [:authenticate] rendered_or_redirected.
Completed in 0ms (DB: 0) | 302 Found [http://test.host/service_email_mailboxes]
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
  [4;36;1mLoggedUser Create (0.2ms)[0m   [0;1mINSERT INTO "logged_users" ("created_at", "session", "updated_at", "user_id", "ip", "session_ts") VALUES('2010-03-28 13:47:52', 'test session', '2010-03-28 13:47:52', 2, '0.0.0.0', '2010-03-28 13:47:52')[0m


Processing ServiceEmailMailboxesController#new (for 0.0.0.0 at 2010-03-28 15:47:52) [GET]
  Parameters: {"action"=>"new", "controller"=>"service_email_mailboxes"}
  [4;35;1mLoggedUser Load (0.2ms)[0m   [0mSELECT * FROM "logged_users" WHERE ("logged_users"."ip" = '0.0.0.0' AND "logged_users"."session" = 'test session') LIMIT 1[0m
  [4;36;1mLoggedUser Update (0.1ms)[0m   [0;1mUPDATE "logged_users" SET "updated_at" = '2010-03-28 13:47:52', "session_ts" = '2010-03-28 13:47:52' WHERE "id" = 2053932786[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
  [4;36;1mServiceEmailUser Load (0.2ms)[0m   [0;1mSELECT * FROM "service_email_users" WHERE ("service_email_users"."user_id" = 2) LIMIT 1[0m
Rendering template within layouts/ohm
Rendering service_email_mailboxes/new
  [4;35;1mDomain Load (0.1ms)[0m   [0mSELECT * FROM "domains" WHERE ("domains".user_id = 2) [0m
  [4;36;1mService Load (0.1ms)[0m   [0;1mSELECT * FROM "services" INNER JOIN "services_users" ON "services".id = "services_users".service_id WHERE ("services_users".user_id = 2 ) [0m
Completed in 15ms (View: 11, DB: 1) | 200 OK [http://test.host/service_email_mailboxes/new]
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
  [4;36;1mLoggedUser Create (0.2ms)[0m   [0;1mINSERT INTO "logged_users" ("created_at", "session", "updated_at", "user_id", "ip", "session_ts") VALUES('2010-03-28 13:47:52', 'test session', '2010-03-28 13:47:52', 2, '0.0.0.0', '2010-03-28 13:47:52')[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM "service_email_mailboxes" [0m


Processing ServiceEmailMailboxesController#create (for 0.0.0.0 at 2010-03-28 15:47:52) [POST]
  Parameters: {"action"=>"create", "controller"=>"service_email_mailboxes", "service_email_mailbox"=>{"address"=>"newtest", "password_confirmation"=>"[FILTERED]", "domain_id"=>1, "password"=>"[FILTERED]"}}
  [4;36;1mLoggedUser Load (0.2ms)[0m   [0;1mSELECT * FROM "logged_users" WHERE ("logged_users"."ip" = '0.0.0.0' AND "logged_users"."session" = 'test session') LIMIT 1[0m
  [4;35;1mLoggedUser Update (0.1ms)[0m   [0mUPDATE "logged_users" SET "updated_at" = '2010-03-28 13:47:52', "session_ts" = '2010-03-28 13:47:52' WHERE "id" = 2053932786[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
  [4;35;1mServiceEmailUser Load (0.2ms)[0m   [0mSELECT * FROM "service_email_users" WHERE ("service_email_users"."user_id" = 2) LIMIT 1[0m
  [4;36;1mDomain Load (0.1ms)[0m   [0;1mSELECT * FROM "domains" WHERE ("domains"."id" = 1) [0m
  [4;35;1mDomain Load (0.1ms)[0m   [0mSELECT "domains".id FROM "domains" WHERE ("domains"."id" = 1) AND ("domains".user_id = 2) LIMIT 1[0m
Rendering template within layouts/ohm
Rendering service_email_mailboxes/new
  [4;36;1mDomain Load (0.1ms)[0m   [0;1mSELECT * FROM "domains" WHERE ("domains".user_id = 2) [0m
  [4;35;1mService Load (0.1ms)[0m   [0mSELECT * FROM "services" INNER JOIN "services_users" ON "services".id = "services_users".service_id WHERE ("services_users".user_id = 2 ) [0m
Completed in 18ms (View: 13, DB: 2) | 200 OK [http://test.host/service_email_mailboxes/create?service_email_mailbox%5Baddress%5D=newtest&service_email_mailbox%5Bdomain_id%5D=1&service_email_mailbox%5Bpassword%5D=newpass&service_email_mailbox%5Bpassword_confirmation%5D=newpass]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM "service_email_mailboxes" [0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
  [4;36;1mLoggedUser Create (0.1ms)[0m   [0;1mINSERT INTO "logged_users" ("created_at", "session", "updated_at", "user_id", "ip", "session_ts") VALUES('2010-03-28 13:47:52', 'test session', '2010-03-28 13:47:52', 2, '0.0.0.0', '2010-03-28 13:47:52')[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM "service_email_mailboxes" [0m
  [4;36;1mServiceEmailMailbox Load (0.2ms)[0m   [0;1mSELECT * FROM "service_email_mailboxes" WHERE ("service_email_mailboxes"."id" = 198609129) [0m


Processing ServiceEmailMailboxesController#destroy (for 0.0.0.0 at 2010-03-28 15:47:52) [DELETE]
  Parameters: {"action"=>"destroy", "id"=>"198609129", "controller"=>"service_email_mailboxes"}
  [4;35;1mLoggedUser Load (0.2ms)[0m   [0mSELECT * FROM "logged_users" WHERE ("logged_users"."ip" = '0.0.0.0' AND "logged_users"."session" = 'test session') LIMIT 1[0m
  [4;36;1mLoggedUser Update (0.1ms)[0m   [0;1mUPDATE "logged_users" SET "updated_at" = '2010-03-28 13:47:52', "session_ts" = '2010-03-28 13:47:52' WHERE "id" = 2053932786[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
  [4;36;1mServiceEmailUser Load (0.2ms)[0m   [0;1mSELECT * FROM "service_email_users" WHERE ("service_email_users"."user_id" = 2) LIMIT 1[0m
  [4;35;1mServiceEmailMailbox Load (0.2ms)[0m   [0mSELECT * FROM "service_email_mailboxes" WHERE ("service_email_mailboxes"."id" = 198609129) [0m
  [4;36;1mDomain Load (0.2ms)[0m   [0;1mSELECT * FROM "domains" WHERE ("domains"."id" = 1) [0m
  [4;35;1mDomain Load (0.1ms)[0m   [0mSELECT "domains".id FROM "domains" WHERE ("domains"."id" = 1) AND ("domains".user_id = 2) LIMIT 1[0m
Redirected to http://test.host/service_email_mailboxes
Completed in 5ms (DB: 2) | 302 Found [http://test.host/service_email_mailboxes/destroy/198609129]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM "service_email_mailboxes" [0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
  [4;36;1mLoggedUser Create (0.2ms)[0m   [0;1mINSERT INTO "logged_users" ("created_at", "session", "updated_at", "user_id", "ip", "session_ts") VALUES('2010-03-28 13:47:52', 'test session', '2010-03-28 13:47:52', 2, '0.0.0.0', '2010-03-28 13:47:52')[0m
  [4;35;1mServiceEmailMailbox Load (0.2ms)[0m   [0mSELECT * FROM "service_email_mailboxes" WHERE ("service_email_mailboxes"."id" = 198609129) [0m


Processing ServiceEmailMailboxesController#edit (for 0.0.0.0 at 2010-03-28 15:47:52) [GET]
  Parameters: {"action"=>"edit", "id"=>"198609129", "controller"=>"service_email_mailboxes"}
  [4;36;1mLoggedUser Load (0.2ms)[0m   [0;1mSELECT * FROM "logged_users" WHERE ("logged_users"."ip" = '0.0.0.0' AND "logged_users"."session" = 'test session') LIMIT 1[0m
  [4;35;1mLoggedUser Update (0.1ms)[0m   [0mUPDATE "logged_users" SET "updated_at" = '2010-03-28 13:47:52', "session_ts" = '2010-03-28 13:47:52' WHERE "id" = 2053932786[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
  [4;35;1mServiceEmailUser Load (0.2ms)[0m   [0mSELECT * FROM "service_email_users" WHERE ("service_email_users"."user_id" = 2) LIMIT 1[0m
  [4;36;1mServiceEmailMailbox Load (0.2ms)[0m   [0;1mSELECT * FROM "service_email_mailboxes" WHERE ("service_email_mailboxes"."id" = 198609129) [0m
  [4;35;1mDomain Load (0.1ms)[0m   [0mSELECT * FROM "domains" WHERE ("domains"."id" = 1) [0m
  [4;36;1mDomain Load (0.1ms)[0m   [0;1mSELECT "domains".id FROM "domains" WHERE ("domains"."id" = 1) AND ("domains".user_id = 2) LIMIT 1[0m
Redirected to http://test.host/service_email_mailboxes
Completed in 5ms (DB: 2) | 302 Found [http://test.host/service_email_mailboxes/edit/198609129]
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
  [4;36;1mLoggedUser Create (0.2ms)[0m   [0;1mINSERT INTO "logged_users" ("created_at", "session", "updated_at", "user_id", "ip", "session_ts") VALUES('2010-03-28 13:47:52', 'test session', '2010-03-28 13:47:52', 2, '0.0.0.0', '2010-03-28 13:47:52')[0m
  [4;35;1mServiceEmailMailbox Load (0.2ms)[0m   [0mSELECT * FROM "service_email_mailboxes" WHERE ("service_email_mailboxes"."id" = 198609129) [0m


Processing ServiceEmailMailboxesController#update (for 0.0.0.0 at 2010-03-28 15:47:52) [PUT]
  Parameters: {"action"=>"update", "id"=>"198609129", "controller"=>"service_email_mailboxes", "service_email_mailbox"=>{}}
  [4;36;1mLoggedUser Load (0.2ms)[0m   [0;1mSELECT * FROM "logged_users" WHERE ("logged_users"."ip" = '0.0.0.0' AND "logged_users"."session" = 'test session') LIMIT 1[0m
  [4;35;1mLoggedUser Update (0.1ms)[0m   [0mUPDATE "logged_users" SET "updated_at" = '2010-03-28 13:47:52', "session_ts" = '2010-03-28 13:47:52' WHERE "id" = 2053932786[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
  [4;35;1mServiceEmailUser Load (0.2ms)[0m   [0mSELECT * FROM "service_email_users" WHERE ("service_email_users"."user_id" = 2) LIMIT 1[0m
  [4;36;1mServiceEmailMailbox Load (0.2ms)[0m   [0;1mSELECT * FROM "service_email_mailboxes" WHERE ("service_email_mailboxes"."id" = 198609129) [0m
  [4;35;1mDomain Load (0.2ms)[0m   [0mSELECT * FROM "domains" WHERE ("domains"."id" = 1) [0m
  [4;36;1mDomain Load (0.1ms)[0m   [0;1mSELECT "domains".id FROM "domains" WHERE ("domains"."id" = 1) AND ("domains".user_id = 2) LIMIT 1[0m
Redirected to http://test.host/service_email_mailboxes
Completed in 5ms (DB: 2) | 302 Found [http://test.host/service_email_mailboxes/update/198609129?]
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mLoggedUser Create (0.2ms)[0m   [0;1mINSERT INTO "logged_users" ("created_at", "session", "updated_at", "user_id", "ip", "session_ts") VALUES('2010-03-28 13:47:52', 'test session', '2010-03-28 13:47:52', 1, '0.0.0.0', '2010-03-28 13:47:52')[0m
  [4;35;1mServiceEmailMailbox Load (0.2ms)[0m   [0mSELECT * FROM "service_email_mailboxes" WHERE ("service_email_mailboxes"."id" = 198609129) [0m


Processing ServiceEmailMailboxesController#update (for 0.0.0.0 at 2010-03-28 15:47:52) [PUT]
  Parameters: {"action"=>"update", "id"=>"198609129", "controller"=>"service_email_mailboxes", "service_email_mailbox"=>{}}
  [4;36;1mLoggedUser Load (0.2ms)[0m   [0;1mSELECT * FROM "logged_users" WHERE ("logged_users"."ip" = '0.0.0.0' AND "logged_users"."session" = 'test session') LIMIT 1[0m
  [4;35;1mLoggedUser Update (0.1ms)[0m   [0mUPDATE "logged_users" SET "updated_at" = '2010-03-28 13:47:52', "session_ts" = '2010-03-28 13:47:52' WHERE "id" = 2053932786[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mServiceEmailUser Load (0.1ms)[0m   [0mSELECT * FROM "service_email_users" WHERE ("service_email_users"."user_id" = 1) LIMIT 1[0m
  [4;36;1mServiceEmailUser Load (0.1ms)[0m   [0;1mSELECT "service_email_users".id FROM "service_email_users" WHERE ("service_email_users"."user_id" = 1) LIMIT 1[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mServiceEmailUser Create (0.1ms)[0m   [0;1mINSERT INTO "service_email_users" ("created_at", "updated_at", "max_aliases", "user_id", "max_mailboxes") VALUES('2010-03-28 13:47:52', '2010-03-28 13:47:52', -1, 1, -1)[0m
  [4;35;1mServiceEmailMailbox Load (0.2ms)[0m   [0mSELECT * FROM "service_email_mailboxes" WHERE ("service_email_mailboxes"."id" = 198609129) [0m
  [4;36;1mDomain Load (0.1ms)[0m   [0;1mSELECT * FROM "domains" WHERE ("domains"."id" = 1) [0m
  [4;35;1mDomain Load (0.1ms)[0m   [0mSELECT "domains".id FROM "domains" WHERE ("domains"."id" = 1) AND ("domains".user_id = 1) LIMIT 1[0m
  [4;36;1mServiceEmailMailbox Load (0.1ms)[0m   [0;1mSELECT "service_email_mailboxes".id FROM "service_email_mailboxes" WHERE ("service_email_mailboxes"."address" = 'test' AND "service_email_mailboxes".domain_id = 1 AND "service_email_mailboxes".id <> 198609129) LIMIT 1[0m
Redirected to http://test.host/service_email_mailboxes
Completed in 9ms (DB: 2) | 302 Found [http://test.host/service_email_mailboxes/update/198609129?]
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mLoggedUser Create (0.2ms)[0m   [0;1mINSERT INTO "logged_users" ("created_at", "session", "updated_at", "user_id", "ip", "session_ts") VALUES('2010-03-28 13:47:52', 'test session', '2010-03-28 13:47:52', 1, '0.0.0.0', '2010-03-28 13:47:52')[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM "services" [0m


Processing ServicesController#create (for 0.0.0.0 at 2010-03-28 15:47:52) [POST]
  Parameters: {"service"=>{"name"=>"New service", "controller"=>"service_new_service"}, "action"=>"create", "controller"=>"services"}
  [4;36;1mLoggedUser Load (0.2ms)[0m   [0;1mSELECT * FROM "logged_users" WHERE ("logged_users"."ip" = '0.0.0.0' AND "logged_users"."session" = 'test session') LIMIT 1[0m
  [4;35;1mLoggedUser Update (0.1ms)[0m   [0mUPDATE "logged_users" SET "updated_at" = '2010-03-28 13:47:52', "session_ts" = '2010-03-28 13:47:52' WHERE "id" = 2053932786[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mLoggedUser Create (0.2ms)[0m   [0;1mINSERT INTO "logged_users" ("created_at", "session", "updated_at", "user_id", "ip", "session_ts") VALUES('2010-03-28 13:47:52', 'test session', '2010-03-28 13:47:52', 1, '0.0.0.0', '2010-03-28 13:47:52')[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM "services" [0m
  [4;36;1mService Load (0.2ms)[0m   [0;1mSELECT * FROM "services" WHERE ("services"."id" = 2053932785) [0m


Processing ServicesController#destroy (for 0.0.0.0 at 2010-03-28 15:47:52) [DELETE]
  Parameters: {"action"=>"destroy", "id"=>"2053932785", "controller"=>"services"}
  [4;35;1mLoggedUser Load (0.2ms)[0m   [0mSELECT * FROM "logged_users" WHERE ("logged_users"."ip" = '0.0.0.0' AND "logged_users"."session" = 'test session') LIMIT 1[0m
  [4;36;1mLoggedUser Update (0.1ms)[0m   [0;1mUPDATE "logged_users" SET "updated_at" = '2010-03-28 13:47:52', "session_ts" = '2010-03-28 13:47:52' WHERE "id" = 2053932786[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mService Load (0.2ms)[0m   [0;1mSELECT * FROM "services" WHERE ("services"."id" = 2053932785) [0m
  [4;35;1mDomain Load (0.1ms)[0m   [0mSELECT * FROM "domains" INNER JOIN "domains_services" ON "domains".id = "domains_services".domain_id WHERE ("domains_services".service_id = 2053932785 ) [0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM "users" INNER JOIN "services_users" ON "users".id = "services_users".user_id WHERE ("services_users".service_id = 2053932785 ) [0m
  [4;35;1mService Destroy (0.1ms)[0m   [0mDELETE FROM "services" WHERE "id" = 2053932785[0m
Redirected to http://test.host/services
Completed in 5ms (DB: 3) | 302 Found [http://test.host/services/2053932785]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM "services" [0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mLoggedUser Create (0.2ms)[0m   [0;1mINSERT INTO "logged_users" ("created_at", "session", "updated_at", "user_id", "ip", "session_ts") VALUES('2010-03-28 13:47:52', 'test session', '2010-03-28 13:47:52', 1, '0.0.0.0', '2010-03-28 13:47:52')[0m
  [4;35;1mService Load (0.2ms)[0m   [0mSELECT * FROM "services" WHERE ("services"."id" = 2053932785) [0m


Processing ServicesController#edit (for 0.0.0.0 at 2010-03-28 15:47:52) [GET]
  Parameters: {"action"=>"edit", "id"=>"2053932785", "controller"=>"services"}
  [4;36;1mLoggedUser Load (0.3ms)[0m   [0;1mSELECT * FROM "logged_users" WHERE ("logged_users"."ip" = '0.0.0.0' AND "logged_users"."session" = 'test session') LIMIT 1[0m
  [4;35;1mLoggedUser Update (0.1ms)[0m   [0mUPDATE "logged_users" SET "updated_at" = '2010-03-28 13:47:52', "session_ts" = '2010-03-28 13:47:52' WHERE "id" = 2053932786[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mService Load (0.2ms)[0m   [0mSELECT * FROM "services" WHERE ("services"."id" = 2053932785) [0m
Rendering template within layouts/ohm
Rendering services/edit
  [4;36;1mService Load (0.1ms)[0m   [0;1mSELECT * FROM "services" INNER JOIN "services_users" ON "services".id = "services_users".service_id WHERE ("services_users".user_id = 1 ) [0m
Completed in 11ms (View: 7, DB: 2) | 200 OK [http://test.host/services/2053932785/edit]
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mLoggedUser Create (0.2ms)[0m   [0;1mINSERT INTO "logged_users" ("created_at", "session", "updated_at", "user_id", "ip", "session_ts") VALUES('2010-03-28 13:47:52', 'test session', '2010-03-28 13:47:52', 1, '0.0.0.0', '2010-03-28 13:47:52')[0m


Processing ServicesController#index (for 0.0.0.0 at 2010-03-28 15:47:52) [GET]
  Parameters: {"action"=>"index", "controller"=>"services"}
  [4;35;1mLoggedUser Load (0.2ms)[0m   [0mSELECT * FROM "logged_users" WHERE ("logged_users"."ip" = '0.0.0.0' AND "logged_users"."session" = 'test session') LIMIT 1[0m
  [4;36;1mLoggedUser Update (0.1ms)[0m   [0;1mUPDATE "logged_users" SET "updated_at" = '2010-03-28 13:47:52', "session_ts" = '2010-03-28 13:47:52' WHERE "id" = 2053932786[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mService Load (0.3ms)[0m   [0;1mSELECT * FROM "services" [0m
Rendering template within layouts/ohm
Rendering services/index
  [4;35;1mService Load (0.1ms)[0m   [0mSELECT * FROM "services" INNER JOIN "services_users" ON "services".id = "services_users".service_id WHERE ("services_users".user_id = 1 ) [0m
Completed in 12ms (View: 9, DB: 1) | 200 OK [http://test.host/services]


Processing ServicesController#index (for 0.0.0.0 at 2010-03-28 15:47:52) [GET]
  Parameters: {"action"=>"index", "controller"=>"services"}
Redirected to http://test.host/login
Filter chain halted as [:authenticate_root] rendered_or_redirected.
Completed in 0ms (DB: 0) | 302 Found [http://test.host/services]
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mLoggedUser Create (0.2ms)[0m   [0mINSERT INTO "logged_users" ("created_at", "session", "updated_at", "user_id", "ip", "session_ts") VALUES('2010-03-28 13:47:52', 'test session', '2010-03-28 13:47:52', 1, '0.0.0.0', '2010-03-28 13:47:52')[0m


Processing ServicesController#new (for 0.0.0.0 at 2010-03-28 15:47:52) [GET]
  Parameters: {"action"=>"new", "controller"=>"services"}
  [4;36;1mLoggedUser Load (0.2ms)[0m   [0;1mSELECT * FROM "logged_users" WHERE ("logged_users"."ip" = '0.0.0.0' AND "logged_users"."session" = 'test session') LIMIT 1[0m
  [4;35;1mLoggedUser Update (0.1ms)[0m   [0mUPDATE "logged_users" SET "updated_at" = '2010-03-28 13:47:52', "session_ts" = '2010-03-28 13:47:52' WHERE "id" = 2053932786[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
Rendering template within layouts/ohm
Rendering services/new
  [4;35;1mService Load (0.2ms)[0m   [0mSELECT * FROM "services" INNER JOIN "services_users" ON "services".id = "services_users".service_id WHERE ("services_users".user_id = 1 ) [0m
Completed in 63ms (View: 60, DB: 1) | 200 OK [http://test.host/services/new]
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
  [4;35;1mLoggedUser Create (0.2ms)[0m   [0mINSERT INTO "logged_users" ("created_at", "session", "updated_at", "user_id", "ip", "session_ts") VALUES('2010-03-28 13:47:52', 'test session', '2010-03-28 13:47:52', 2, '0.0.0.0', '2010-03-28 13:47:52')[0m


Processing ServicesController#index (for 0.0.0.0 at 2010-03-28 15:47:52) [GET]
  Parameters: {"action"=>"index", "controller"=>"services"}
  [4;36;1mLoggedUser Load (0.3ms)[0m   [0;1mSELECT * FROM "logged_users" WHERE ("logged_users"."ip" = '0.0.0.0' AND "logged_users"."session" = 'test session') LIMIT 1[0m
  [4;35;1mLoggedUser Update (0.1ms)[0m   [0mUPDATE "logged_users" SET "updated_at" = '2010-03-28 13:47:52', "session_ts" = '2010-03-28 13:47:52' WHERE "id" = 2053932786[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
Redirected to http://test.host/
Filter chain halted as [:authenticate_root] rendered_or_redirected.
Completed in 3ms (DB: 1) | 302 Found [http://test.host/services]
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
  [4;36;1mLoggedUser Create (0.2ms)[0m   [0;1mINSERT INTO "logged_users" ("created_at", "session", "updated_at", "user_id", "ip", "session_ts") VALUES('2010-03-28 13:47:52', 'test session', '2010-03-28 13:47:52', 2, '0.0.0.0', '2010-03-28 13:47:52')[0m


Processing ServicesController#new (for 0.0.0.0 at 2010-03-28 15:47:52) [GET]
  Parameters: {"action"=>"new", "controller"=>"services"}
  [4;35;1mLoggedUser Load (0.2ms)[0m   [0mSELECT * FROM "logged_users" WHERE ("logged_users"."ip" = '0.0.0.0' AND "logged_users"."session" = 'test session') LIMIT 1[0m
  [4;36;1mLoggedUser Update (0.1ms)[0m   [0;1mUPDATE "logged_users" SET "updated_at" = '2010-03-28 13:47:52', "session_ts" = '2010-03-28 13:47:52' WHERE "id" = 2053932786[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
Redirected to http://test.host/
Filter chain halted as [:authenticate_root] rendered_or_redirected.
Completed in 3ms (DB: 1) | 302 Found [http://test.host/services/new]
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
  [4;35;1mLoggedUser Create (0.2ms)[0m   [0mINSERT INTO "logged_users" ("created_at", "session", "updated_at", "user_id", "ip", "session_ts") VALUES('2010-03-28 13:47:52', 'test session', '2010-03-28 13:47:52', 2, '0.0.0.0', '2010-03-28 13:47:52')[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM "services" [0m


Processing ServicesController#create (for 0.0.0.0 at 2010-03-28 15:47:52) [POST]
  Parameters: {"service"=>{"name"=>"New service", "controller"=>"service_new_service"}, "action"=>"create", "controller"=>"services"}
  [4;35;1mLoggedUser Load (0.2ms)[0m   [0mSELECT * FROM "logged_users" WHERE ("logged_users"."ip" = '0.0.0.0' AND "logged_users"."session" = 'test session') LIMIT 1[0m
  [4;36;1mLoggedUser Update (0.1ms)[0m   [0;1mUPDATE "logged_users" SET "updated_at" = '2010-03-28 13:47:52', "session_ts" = '2010-03-28 13:47:52' WHERE "id" = 2053932786[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
Redirected to http://test.host/
Filter chain halted as [:authenticate_root] rendered_or_redirected.
Completed in 3ms (DB: 1) | 302 Found [http://test.host/services?service%5Bcontroller%5D=service_new_service&service%5Bname%5D=New+service]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM "services" [0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
  [4;36;1mLoggedUser Create (0.1ms)[0m   [0;1mINSERT INTO "logged_users" ("created_at", "session", "updated_at", "user_id", "ip", "session_ts") VALUES('2010-03-28 13:47:52', 'test session', '2010-03-28 13:47:52', 2, '0.0.0.0', '2010-03-28 13:47:52')[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM "services" [0m
  [4;36;1mService Load (0.2ms)[0m   [0;1mSELECT * FROM "services" WHERE ("services"."id" = 2053932785) [0m


Processing ServicesController#destroy (for 0.0.0.0 at 2010-03-28 15:47:52) [DELETE]
  Parameters: {"action"=>"destroy", "id"=>"2053932785", "controller"=>"services"}
  [4;35;1mLoggedUser Load (0.2ms)[0m   [0mSELECT * FROM "logged_users" WHERE ("logged_users"."ip" = '0.0.0.0' AND "logged_users"."session" = 'test session') LIMIT 1[0m
  [4;36;1mLoggedUser Update (0.1ms)[0m   [0;1mUPDATE "logged_users" SET "updated_at" = '2010-03-28 13:47:52', "session_ts" = '2010-03-28 13:47:52' WHERE "id" = 2053932786[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
Redirected to http://test.host/
Filter chain halted as [:authenticate_root] rendered_or_redirected.
Completed in 3ms (DB: 1) | 302 Found [http://test.host/services/2053932785]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM "services" [0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
  [4;36;1mLoggedUser Create (0.2ms)[0m   [0;1mINSERT INTO "logged_users" ("created_at", "session", "updated_at", "user_id", "ip", "session_ts") VALUES('2010-03-28 13:47:52', 'test session', '2010-03-28 13:47:52', 2, '0.0.0.0', '2010-03-28 13:47:52')[0m
  [4;35;1mService Load (0.2ms)[0m   [0mSELECT * FROM "services" WHERE ("services"."id" = 2053932785) [0m


Processing ServicesController#edit (for 0.0.0.0 at 2010-03-28 15:47:52) [GET]
  Parameters: {"action"=>"edit", "id"=>"2053932785", "controller"=>"services"}
  [4;36;1mLoggedUser Load (0.2ms)[0m   [0;1mSELECT * FROM "logged_users" WHERE ("logged_users"."ip" = '0.0.0.0' AND "logged_users"."session" = 'test session') LIMIT 1[0m
  [4;35;1mLoggedUser Update (0.1ms)[0m   [0mUPDATE "logged_users" SET "updated_at" = '2010-03-28 13:47:52', "session_ts" = '2010-03-28 13:47:52' WHERE "id" = 2053932786[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
Redirected to http://test.host/
Filter chain halted as [:authenticate_root] rendered_or_redirected.
Completed in 3ms (DB: 1) | 302 Found [http://test.host/services/2053932785/edit]
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
  [4;36;1mLoggedUser Create (0.1ms)[0m   [0;1mINSERT INTO "logged_users" ("created_at", "session", "updated_at", "user_id", "ip", "session_ts") VALUES('2010-03-28 13:47:52', 'test session', '2010-03-28 13:47:52', 2, '0.0.0.0', '2010-03-28 13:47:52')[0m
  [4;35;1mService Load (0.2ms)[0m   [0mSELECT * FROM "services" WHERE ("services"."id" = 2053932785) [0m


Processing ServicesController#show (for 0.0.0.0 at 2010-03-28 15:47:52) [GET]
  Parameters: {"action"=>"show", "id"=>"2053932785", "controller"=>"services"}
  [4;36;1mLoggedUser Load (0.2ms)[0m   [0;1mSELECT * FROM "logged_users" WHERE ("logged_users"."ip" = '0.0.0.0' AND "logged_users"."session" = 'test session') LIMIT 1[0m
  [4;35;1mLoggedUser Update (0.1ms)[0m   [0mUPDATE "logged_users" SET "updated_at" = '2010-03-28 13:47:52', "session_ts" = '2010-03-28 13:47:52' WHERE "id" = 2053932786[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
Redirected to http://test.host/
Filter chain halted as [:authenticate_root] rendered_or_redirected.
Completed in 3ms (DB: 1) | 302 Found [http://test.host/services/2053932785]
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
  [4;36;1mLoggedUser Create (0.1ms)[0m   [0;1mINSERT INTO "logged_users" ("created_at", "session", "updated_at", "user_id", "ip", "session_ts") VALUES('2010-03-28 13:47:52', 'test session', '2010-03-28 13:47:52', 2, '0.0.0.0', '2010-03-28 13:47:52')[0m
  [4;35;1mService Load (0.2ms)[0m   [0mSELECT * FROM "services" WHERE ("services"."id" = 2053932785) [0m


Processing ServicesController#update (for 0.0.0.0 at 2010-03-28 15:47:52) [PUT]
  Parameters: {"service"=>{}, "action"=>"update", "id"=>"2053932785", "controller"=>"services"}
  [4;36;1mLoggedUser Load (0.2ms)[0m   [0;1mSELECT * FROM "logged_users" WHERE ("logged_users"."ip" = '0.0.0.0' AND "logged_users"."session" = 'test session') LIMIT 1[0m
  [4;35;1mLoggedUser Update (0.1ms)[0m   [0mUPDATE "logged_users" SET "updated_at" = '2010-03-28 13:47:52', "session_ts" = '2010-03-28 13:47:52' WHERE "id" = 2053932786[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
Redirected to http://test.host/
Filter chain halted as [:authenticate_root] rendered_or_redirected.
Completed in 3ms (DB: 1) | 302 Found [http://test.host/services/2053932785?]
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mLoggedUser Create (0.1ms)[0m   [0;1mINSERT INTO "logged_users" ("created_at", "session", "updated_at", "user_id", "ip", "session_ts") VALUES('2010-03-28 13:47:52', 'test session', '2010-03-28 13:47:52', 1, '0.0.0.0', '2010-03-28 13:47:52')[0m
  [4;35;1mService Load (0.2ms)[0m   [0mSELECT * FROM "services" WHERE ("services"."id" = 2053932785) [0m


Processing ServicesController#show (for 0.0.0.0 at 2010-03-28 15:47:52) [GET]
  Parameters: {"action"=>"show", "id"=>"2053932785", "controller"=>"services"}
  [4;36;1mLoggedUser Load (0.2ms)[0m   [0;1mSELECT * FROM "logged_users" WHERE ("logged_users"."ip" = '0.0.0.0' AND "logged_users"."session" = 'test session') LIMIT 1[0m
  [4;35;1mLoggedUser Update (0.1ms)[0m   [0mUPDATE "logged_users" SET "updated_at" = '2010-03-28 13:47:52', "session_ts" = '2010-03-28 13:47:52' WHERE "id" = 2053932786[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mService Load (0.2ms)[0m   [0mSELECT * FROM "services" WHERE ("services"."id" = 2053932785) [0m
Rendering template within layouts/ohm
Rendering services/show
  [4;36;1mService Load (0.1ms)[0m   [0;1mSELECT * FROM "services" INNER JOIN "services_users" ON "services".id = "services_users".service_id WHERE ("services_users".user_id = 1 ) [0m
Completed in 7ms (View: 4, DB: 1) | 200 OK [http://test.host/services/2053932785]
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mLoggedUser Create (0.2ms)[0m   [0;1mINSERT INTO "logged_users" ("created_at", "session", "updated_at", "user_id", "ip", "session_ts") VALUES('2010-03-28 13:47:52', 'test session', '2010-03-28 13:47:52', 1, '0.0.0.0', '2010-03-28 13:47:52')[0m
  [4;35;1mService Load (0.2ms)[0m   [0mSELECT * FROM "services" WHERE ("services"."id" = 2053932785) [0m


Processing ServicesController#update (for 0.0.0.0 at 2010-03-28 15:47:52) [PUT]
  Parameters: {"service"=>{}, "action"=>"update", "id"=>"2053932785", "controller"=>"services"}
  [4;36;1mLoggedUser Load (0.2ms)[0m   [0;1mSELECT * FROM "logged_users" WHERE ("logged_users"."ip" = '0.0.0.0' AND "logged_users"."session" = 'test session') LIMIT 1[0m
  [4;35;1mLoggedUser Update (0.1ms)[0m   [0mUPDATE "logged_users" SET "updated_at" = '2010-03-28 13:47:52', "session_ts" = '2010-03-28 13:47:52' WHERE "id" = 2053932786[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mService Load (0.2ms)[0m   [0mSELECT * FROM "services" WHERE ("services"."id" = 2053932785) [0m
  [4;36;1mService Load (0.1ms)[0m   [0;1mSELECT "services".id FROM "services" WHERE ("services"."name" = 'Service 1' AND "services".id <> 2053932785) LIMIT 1[0m
  [4;35;1mService Load (0.1ms)[0m   [0mSELECT "services".id FROM "services" WHERE ("services"."controller" = 'service_test_1' AND "services".id <> 2053932785) LIMIT 1[0m
Redirected to http://test.host/services/2053932785
Completed in 5ms (DB: 2) | 302 Found [http://test.host/services/2053932785?]
  [4;36;1mUser Load (0.5ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mLoggedUser Create (0.2ms)[0m   [0mINSERT INTO "logged_users" ("created_at", "session", "updated_at", "user_id", "ip", "session_ts") VALUES('2010-03-28 13:47:52', 'test session', '2010-03-28 13:47:52', 1, '0.0.0.0', '2010-03-28 13:47:52')[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM "subdomains" [0m
  [4;35;1mDomain Load (0.1ms)[0m   [0mSELECT * FROM "domains" WHERE ("domains"."id" = 1) [0m


Processing SubdomainsController#create (for 0.0.0.0 at 2010-03-28 15:47:52) [POST]
  Parameters: {"action"=>"create", "subdomain"=>{"url"=>"newsub", "domain"=>#<Domain id: 1, domain: "test.com", user_id: 1, created_at: "2010-03-28 13:47:51", updated_at: "2010-03-28 13:47:51">}, "controller"=>"subdomains"}
  [4;36;1mLoggedUser Load (0.2ms)[0m   [0;1mSELECT * FROM "logged_users" WHERE ("logged_users"."ip" = '0.0.0.0' AND "logged_users"."session" = 'test session') LIMIT 1[0m
  [4;35;1mLoggedUser Update (0.1ms)[0m   [0mUPDATE "logged_users" SET "updated_at" = '2010-03-28 13:47:52', "session_ts" = '2010-03-28 13:47:52' WHERE "id" = 2053932786[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mSubdomain Load (0.1ms)[0m   [0;1mSELECT "subdomains".id FROM "subdomains" WHERE ("subdomains"."url" = 'newsub' AND "subdomains".domain_id = 1) LIMIT 1[0m
  [4;35;1mSubdomain Load (0.1ms)[0m   [0mSELECT "subdomains".id FROM "subdomains" WHERE ("subdomains"."path" IS NULL AND "subdomains".domain_id = 1) LIMIT 1[0m
  [4;36;1mSubdomain Create (0.1ms)[0m   [0;1mINSERT INTO "subdomains" ("created_at", "updated_at", "url", "domain_id", "path", "mainsub") VALUES('2010-03-28 13:47:52', '2010-03-28 13:47:52', 'newsub', 1, NULL, 'f')[0m
Redirected to http://test.host/domains/1
Completed in 8ms (DB: 2) | 302 Found [http://test.host/subdomains?subdomain%5Bdomain%5D=1&subdomain%5Burl%5D=newsub]
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM "subdomains" [0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mLoggedUser Create (0.2ms)[0m   [0mINSERT INTO "logged_users" ("created_at", "session", "updated_at", "user_id", "ip", "session_ts") VALUES('2010-03-28 13:47:52', 'test session', '2010-03-28 13:47:52', 1, '0.0.0.0', '2010-03-28 13:47:52')[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM "subdomains" [0m
  [4;35;1mSubdomain Load (0.2ms)[0m   [0mSELECT * FROM "subdomains" WHERE ("subdomains"."id" = 2053932785) [0m


Processing SubdomainsController#destroy (for 0.0.0.0 at 2010-03-28 15:47:52) [DELETE]
  Parameters: {"action"=>"destroy", "id"=>"2053932785", "controller"=>"subdomains"}
  [4;36;1mLoggedUser Load (0.2ms)[0m   [0;1mSELECT * FROM "logged_users" WHERE ("logged_users"."ip" = '0.0.0.0' AND "logged_users"."session" = 'test session') LIMIT 1[0m
  [4;35;1mLoggedUser Update (0.1ms)[0m   [0mUPDATE "logged_users" SET "updated_at" = '2010-03-28 13:47:52', "session_ts" = '2010-03-28 13:47:52' WHERE "id" = 2053932786[0m
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mSubdomain Load (0.2ms)[0m   [0mSELECT * FROM "subdomains" WHERE ("subdomains"."id" = 2053932785) [0m
  [4;36;1mDomain Load (0.2ms)[0m   [0;1mSELECT * FROM "domains" WHERE ("domains"."id" = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM "subdomains" WHERE ("subdomains".domain_id = 1) [0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mSubdomain Load (0.2ms)[0m   [0mSELECT * FROM "subdomains" WHERE ("subdomains".domain_id = 1) [0m
  [4;36;1mSubdomain Update (0.1ms)[0m   [0;1mUPDATE "subdomains" SET "updated_at" = '2010-03-28 13:47:52', "mainsub" = 't' WHERE "id" = 298486374[0m
  [4;35;1mSubdomain Destroy (0.1ms)[0m   [0mDELETE FROM "subdomains" WHERE "id" = 2053932785[0m
Redirected to http://test.host/domains/1
Completed in 7ms (DB: 3) | 302 Found [http://test.host/subdomains/2053932785]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM "subdomains" [0m
  [4;35;1mDomain Load (0.1ms)[0m   [0mSELECT * FROM "domains" WHERE ("domains"."id" = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM "subdomains" [0m
  [4;35;1mSubdomain Load (0.2ms)[0m   [0mSELECT * FROM "subdomains" WHERE ("subdomains"."id" = 298486374) [0m


Processing SubdomainsController#destroy (for 0.0.0.0 at 2010-03-28 15:47:52) [DELETE]
  Parameters: {"action"=>"destroy", "id"=>"298486374", "controller"=>"subdomains"}
  [4;36;1mLoggedUser Load (0.2ms)[0m   [0;1mSELECT * FROM "logged_users" WHERE ("logged_users"."ip" = '0.0.0.0' AND "logged_users"."session" = 'test session') LIMIT 1[0m
  [4;35;1mLoggedUser Update (0.1ms)[0m   [0mUPDATE "logged_users" SET "updated_at" = '2010-03-28 13:47:52', "session_ts" = '2010-03-28 13:47:52' WHERE "id" = 2053932786[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mSubdomain Load (0.2ms)[0m   [0mSELECT * FROM "subdomains" WHERE ("subdomains"."id" = 298486374) [0m
  [4;36;1mDomain Load (0.2ms)[0m   [0;1mSELECT * FROM "domains" WHERE ("domains"."id" = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM "subdomains" WHERE ("subdomains".domain_id = 1) [0m
Redirected to http://test.host/domains/1
Completed in 4ms (DB: 1) | 302 Found [http://test.host/subdomains/2053932785]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM "subdomains" [0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mLoggedUser Create (0.2ms)[0m   [0;1mINSERT INTO "logged_users" ("created_at", "session", "updated_at", "user_id", "ip", "session_ts") VALUES('2010-03-28 13:47:52', 'test session', '2010-03-28 13:47:52', 1, '0.0.0.0', '2010-03-28 13:47:52')[0m
  [4;35;1mSubdomain Load (0.2ms)[0m   [0mSELECT * FROM "subdomains" WHERE ("subdomains"."id" = 2053932785) [0m


Processing SubdomainsController#edit (for 0.0.0.0 at 2010-03-28 15:47:52) [GET]
  Parameters: {"action"=>"edit", "id"=>"2053932785", "controller"=>"subdomains"}
  [4;36;1mLoggedUser Load (0.2ms)[0m   [0;1mSELECT * FROM "logged_users" WHERE ("logged_users"."ip" = '0.0.0.0' AND "logged_users"."session" = 'test session') LIMIT 1[0m
  [4;35;1mLoggedUser Update (0.1ms)[0m   [0mUPDATE "logged_users" SET "updated_at" = '2010-03-28 13:47:52', "session_ts" = '2010-03-28 13:47:52' WHERE "id" = 2053932786[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mSubdomain Load (0.3ms)[0m   [0mSELECT * FROM "subdomains" WHERE ("subdomains"."id" = 2053932785) [0m
  [4;36;1mDomain Load (0.1ms)[0m   [0;1mSELECT * FROM "domains" WHERE ("domains"."id" = 1) [0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
Rendering template within layouts/ohm
Rendering subdomains/edit
  [4;36;1mService Load (0.1ms)[0m   [0;1mSELECT * FROM "services" INNER JOIN "services_users" ON "services".id = "services_users".service_id WHERE ("services_users".user_id = 1 ) [0m
Completed in 11ms (View: 7, DB: 2) | 200 OK [http://test.host/subdomains/2053932785/edit]


Processing SubdomainsController#index (for 0.0.0.0 at 2010-03-28 15:47:52) [GET]
  Parameters: {"action"=>"index", "controller"=>"subdomains"}
Redirected to http://test.host/login
Filter chain halted as [:authenticate] rendered_or_redirected.
Completed in 0ms (DB: 0) | 302 Found [http://test.host/subdomains]
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mLoggedUser Create (0.2ms)[0m   [0;1mINSERT INTO "logged_users" ("created_at", "session", "updated_at", "user_id", "ip", "session_ts") VALUES('2010-03-28 13:47:52', 'test session', '2010-03-28 13:47:52', 1, '0.0.0.0', '2010-03-28 13:47:52')[0m
  [4;35;1mDomain Load (0.2ms)[0m   [0mSELECT * FROM "domains" WHERE ("domains"."id" = 1) [0m


Processing SubdomainsController#new (for 0.0.0.0 at 2010-03-28 15:47:52) [GET]
  Parameters: {"action"=>"new", "domain"=>"1", "controller"=>"subdomains"}
  [4;36;1mLoggedUser Load (0.2ms)[0m   [0;1mSELECT * FROM "logged_users" WHERE ("logged_users"."ip" = '0.0.0.0' AND "logged_users"."session" = 'test session') LIMIT 1[0m
  [4;35;1mLoggedUser Update (0.1ms)[0m   [0mUPDATE "logged_users" SET "updated_at" = '2010-03-28 13:47:52', "session_ts" = '2010-03-28 13:47:52' WHERE "id" = 2053932786[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mDomain Load (0.1ms)[0m   [0mSELECT * FROM "domains" WHERE ("domains"."id" = 1) [0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
Rendering template within layouts/ohm
Rendering subdomains/new
  [4;35;1mService Load (0.1ms)[0m   [0mSELECT * FROM "services" INNER JOIN "services_users" ON "services".id = "services_users".service_id WHERE ("services_users".user_id = 1 ) [0m
Completed in 10ms (View: 7, DB: 2) | 200 OK [http://test.host/subdomains/new?domain=1]
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
  [4;35;1mLoggedUser Create (0.2ms)[0m   [0mINSERT INTO "logged_users" ("created_at", "session", "updated_at", "user_id", "ip", "session_ts") VALUES('2010-03-28 13:47:52', 'test session', '2010-03-28 13:47:52', 2, '0.0.0.0', '2010-03-28 13:47:52')[0m
  [4;36;1mDomain Load (0.2ms)[0m   [0;1mSELECT * FROM "domains" WHERE ("domains"."id" = 1) [0m


Processing SubdomainsController#new (for 0.0.0.0 at 2010-03-28 15:47:52) [GET]
  Parameters: {"action"=>"new", "domain"=>"1", "controller"=>"subdomains"}
  [4;35;1mLoggedUser Load (0.2ms)[0m   [0mSELECT * FROM "logged_users" WHERE ("logged_users"."ip" = '0.0.0.0' AND "logged_users"."session" = 'test session') LIMIT 1[0m
  [4;36;1mLoggedUser Update (0.1ms)[0m   [0;1mUPDATE "logged_users" SET "updated_at" = '2010-03-28 13:47:52', "session_ts" = '2010-03-28 13:47:52' WHERE "id" = 2053932786[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
  [4;36;1mDomain Load (0.2ms)[0m   [0;1mSELECT * FROM "domains" WHERE ("domains"."id" = 1) [0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
Redirected to http://test.host/domains
Completed in 4ms (DB: 2) | 302 Found [http://test.host/subdomains/new?domain=1]
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
  [4;35;1mLoggedUser Create (0.2ms)[0m   [0mINSERT INTO "logged_users" ("created_at", "session", "updated_at", "user_id", "ip", "session_ts") VALUES('2010-03-28 13:47:52', 'test session', '2010-03-28 13:47:52', 2, '0.0.0.0', '2010-03-28 13:47:52')[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM "subdomains" [0m
  [4;35;1mDomain Load (0.1ms)[0m   [0mSELECT * FROM "domains" WHERE ("domains"."id" = 1) [0m


Processing SubdomainsController#create (for 0.0.0.0 at 2010-03-28 15:47:52) [POST]
  Parameters: {"action"=>"create", "subdomain"=>{"url"=>"newsub", "domain"=>#<Domain id: 1, domain: "test.com", user_id: 1, created_at: "2010-03-28 13:47:51", updated_at: "2010-03-28 13:47:51">}, "controller"=>"subdomains"}
  [4;36;1mLoggedUser Load (0.3ms)[0m   [0;1mSELECT * FROM "logged_users" WHERE ("logged_users"."ip" = '0.0.0.0' AND "logged_users"."session" = 'test session') LIMIT 1[0m
  [4;35;1mLoggedUser Update (0.1ms)[0m   [0mUPDATE "logged_users" SET "updated_at" = '2010-03-28 13:47:52', "session_ts" = '2010-03-28 13:47:52' WHERE "id" = 2053932786[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
Redirected to http://test.host/domains
Completed in 4ms (DB: 2) | 302 Found [http://test.host/subdomains?subdomain%5Bdomain%5D=1&subdomain%5Burl%5D=newsub]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM "subdomains" [0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
  [4;36;1mLoggedUser Create (0.1ms)[0m   [0;1mINSERT INTO "logged_users" ("created_at", "session", "updated_at", "user_id", "ip", "session_ts") VALUES('2010-03-28 13:47:52', 'test session', '2010-03-28 13:47:52', 2, '0.0.0.0', '2010-03-28 13:47:52')[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM "subdomains" [0m
  [4;36;1mSubdomain Load (0.2ms)[0m   [0;1mSELECT * FROM "subdomains" WHERE ("subdomains"."id" = 2053932785) [0m


Processing SubdomainsController#destroy (for 0.0.0.0 at 2010-03-28 15:47:52) [DELETE]
  Parameters: {"action"=>"destroy", "id"=>"2053932785", "controller"=>"subdomains"}
  [4;35;1mLoggedUser Load (0.2ms)[0m   [0mSELECT * FROM "logged_users" WHERE ("logged_users"."ip" = '0.0.0.0' AND "logged_users"."session" = 'test session') LIMIT 1[0m
  [4;36;1mLoggedUser Update (0.1ms)[0m   [0;1mUPDATE "logged_users" SET "updated_at" = '2010-03-28 13:47:52', "session_ts" = '2010-03-28 13:47:52' WHERE "id" = 2053932786[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
  [4;36;1mSubdomain Load (0.2ms)[0m   [0;1mSELECT * FROM "subdomains" WHERE ("subdomains"."id" = 2053932785) [0m
  [4;35;1mDomain Load (0.2ms)[0m   [0mSELECT * FROM "domains" WHERE ("domains"."id" = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM "subdomains" WHERE ("subdomains".domain_id = 1) [0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
Redirected to http://test.host/domains
Completed in 5ms (DB: 2) | 302 Found [http://test.host/subdomains/2053932785]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM "subdomains" [0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
  [4;36;1mLoggedUser Create (0.1ms)[0m   [0;1mINSERT INTO "logged_users" ("created_at", "session", "updated_at", "user_id", "ip", "session_ts") VALUES('2010-03-28 13:47:52', 'test session', '2010-03-28 13:47:52', 2, '0.0.0.0', '2010-03-28 13:47:52')[0m
  [4;35;1mSubdomain Load (0.2ms)[0m   [0mSELECT * FROM "subdomains" WHERE ("subdomains"."id" = 2053932785) [0m


Processing SubdomainsController#edit (for 0.0.0.0 at 2010-03-28 15:47:52) [GET]
  Parameters: {"action"=>"edit", "id"=>"2053932785", "controller"=>"subdomains"}
  [4;36;1mLoggedUser Load (0.2ms)[0m   [0;1mSELECT * FROM "logged_users" WHERE ("logged_users"."ip" = '0.0.0.0' AND "logged_users"."session" = 'test session') LIMIT 1[0m
  [4;35;1mLoggedUser Update (0.1ms)[0m   [0mUPDATE "logged_users" SET "updated_at" = '2010-03-28 13:47:52', "session_ts" = '2010-03-28 13:47:52' WHERE "id" = 2053932786[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
  [4;35;1mSubdomain Load (0.2ms)[0m   [0mSELECT * FROM "subdomains" WHERE ("subdomains"."id" = 2053932785) [0m
  [4;36;1mDomain Load (0.2ms)[0m   [0;1mSELECT * FROM "domains" WHERE ("domains"."id" = 1) [0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
Redirected to http://test.host/domains
Completed in 4ms (DB: 2) | 302 Found [http://test.host/subdomains/2053932785/edit]
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
  [4;35;1mLoggedUser Create (0.2ms)[0m   [0mINSERT INTO "logged_users" ("created_at", "session", "updated_at", "user_id", "ip", "session_ts") VALUES('2010-03-28 13:47:52', 'test session', '2010-03-28 13:47:52', 2, '0.0.0.0', '2010-03-28 13:47:52')[0m
  [4;36;1mSubdomain Load (0.2ms)[0m   [0;1mSELECT * FROM "subdomains" WHERE ("subdomains"."id" = 2053932785) [0m


Processing SubdomainsController#update (for 0.0.0.0 at 2010-03-28 15:47:52) [PUT]
  Parameters: {"action"=>"update", "id"=>"2053932785", "subdomain"=>{"url"=>"newurl"}, "controller"=>"subdomains"}
  [4;35;1mLoggedUser Load (0.3ms)[0m   [0mSELECT * FROM "logged_users" WHERE ("logged_users"."ip" = '0.0.0.0' AND "logged_users"."session" = 'test session') LIMIT 1[0m
  [4;36;1mLoggedUser Update (0.1ms)[0m   [0;1mUPDATE "logged_users" SET "updated_at" = '2010-03-28 13:47:52', "session_ts" = '2010-03-28 13:47:52' WHERE "id" = 2053932786[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
  [4;36;1mSubdomain Load (0.2ms)[0m   [0;1mSELECT * FROM "subdomains" WHERE ("subdomains"."id" = 2053932785) [0m
  [4;35;1mDomain Load (0.2ms)[0m   [0mSELECT * FROM "domains" WHERE ("domains"."id" = 1) [0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
Redirected to http://test.host/domains
Completed in 4ms (DB: 2) | 302 Found [http://test.host/subdomains/2053932785?subdomain%5Burl%5D=newurl]
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mLoggedUser Create (0.1ms)[0m   [0;1mINSERT INTO "logged_users" ("created_at", "session", "updated_at", "user_id", "ip", "session_ts") VALUES('2010-03-28 13:47:52', 'test session', '2010-03-28 13:47:52', 1, '0.0.0.0', '2010-03-28 13:47:52')[0m
  [4;35;1mDomain Load (0.1ms)[0m   [0mSELECT * FROM "domains" WHERE ("domains"."id" = 1) [0m


Processing SubdomainsController#update (for 0.0.0.0 at 2010-03-28 15:47:52) [PUT]
  Parameters: {"action"=>"update", "id"=>"2053932785", "subdomain"=>{"url"=>"newurl", "domain"=>#<Domain id: 1, domain: "test.com", user_id: 1, created_at: "2010-03-28 13:47:51", updated_at: "2010-03-28 13:47:51">}, "controller"=>"subdomains"}
  [4;36;1mLoggedUser Load (0.2ms)[0m   [0;1mSELECT * FROM "logged_users" WHERE ("logged_users"."ip" = '0.0.0.0' AND "logged_users"."session" = 'test session') LIMIT 1[0m
  [4;35;1mLoggedUser Update (0.1ms)[0m   [0mUPDATE "logged_users" SET "updated_at" = '2010-03-28 13:47:52', "session_ts" = '2010-03-28 13:47:52' WHERE "id" = 2053932786[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
  [4;35;1mSubdomain Load (0.2ms)[0m   [0mSELECT * FROM "subdomains" WHERE ("subdomains"."id" = 2053932785) [0m
  [4;36;1mDomain Load (0.1ms)[0m   [0;1mSELECT * FROM "domains" WHERE ("domains"."id" = 1) [0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
Redirected to http://test.host/domains
Completed in 4ms (DB: 2) | 302 Found [http://test.host/subdomains/2053932785?subdomain%5Burl%5D=newurl]
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mLoggedUser Create (0.2ms)[0m   [0mINSERT INTO "logged_users" ("created_at", "session", "updated_at", "user_id", "ip", "session_ts") VALUES('2010-03-28 13:47:52', 'test session', '2010-03-28 13:47:52', 1, '0.0.0.0', '2010-03-28 13:47:52')[0m
  [4;36;1mSubdomain Load (0.2ms)[0m   [0;1mSELECT * FROM "subdomains" WHERE ("subdomains"."id" = 2053932785) [0m


Processing SubdomainsController#update (for 0.0.0.0 at 2010-03-28 15:47:52) [PUT]
  Parameters: {"action"=>"update", "id"=>"2053932785", "subdomain"=>{"url"=>"newurl"}, "controller"=>"subdomains"}
  [4;35;1mLoggedUser Load (0.2ms)[0m   [0mSELECT * FROM "logged_users" WHERE ("logged_users"."ip" = '0.0.0.0' AND "logged_users"."session" = 'test session') LIMIT 1[0m
  [4;36;1mLoggedUser Update (0.1ms)[0m   [0;1mUPDATE "logged_users" SET "updated_at" = '2010-03-28 13:47:52', "session_ts" = '2010-03-28 13:47:52' WHERE "id" = 2053932786[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mSubdomain Load (0.2ms)[0m   [0;1mSELECT * FROM "subdomains" WHERE ("subdomains"."id" = 2053932785) [0m
  [4;35;1mDomain Load (0.2ms)[0m   [0mSELECT * FROM "domains" WHERE ("domains"."id" = 1) [0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mSubdomain Load (0.1ms)[0m   [0mSELECT "subdomains".id FROM "subdomains" WHERE ("subdomains"."url" = 'newurl' AND "subdomains".domain_id = 1 AND "subdomains".id <> 2053932785) LIMIT 1[0m
  [4;36;1mSubdomain Load (0.1ms)[0m   [0;1mSELECT "subdomains".id FROM "subdomains" WHERE ("subdomains"."path" = 'www' AND "subdomains".domain_id = 1 AND "subdomains".id <> 2053932785) LIMIT 1[0m
  [4;35;1mSubdomain Load (0.2ms)[0m   [0mSELECT * FROM "subdomains" WHERE ("subdomains"."domain_id" = 1 AND "subdomains"."mainsub" = 't') LIMIT 1[0m
  [4;36;1mSubdomain Update (0.1ms)[0m   [0;1mUPDATE "subdomains" SET "updated_at" = '2010-03-28 13:47:52', "url" = 'newurl' WHERE "id" = 2053932785[0m
Redirected to http://test.host/domains/1
Completed in 76ms (DB: 2) | 302 Found [http://test.host/subdomains/2053932785?subdomain%5Burl%5D=newurl]
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mLoggedUser Create (0.2ms)[0m   [0;1mINSERT INTO "logged_users" ("created_at", "session", "updated_at", "user_id", "ip", "session_ts") VALUES('2010-03-28 13:47:52', 'test session', '2010-03-28 13:47:52', 1, '0.0.0.0', '2010-03-28 13:47:52')[0m
  [4;35;1mService Load (0.2ms)[0m   [0mSELECT * FROM "services" WHERE ("services"."id" = 2053932785) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mINSERT INTO "services_users" ("service_id", "user_id") VALUES (2053932785, 1)[0m
  [4;35;1mService Load (0.1ms)[0m   [0mSELECT "services".id FROM "services" WHERE ("services"."name" = 'Service 1' AND "services".id <> 2053932785) LIMIT 1[0m
  [4;36;1mService Load (0.1ms)[0m   [0;1mSELECT "services".id FROM "services" WHERE ("services"."controller" = 'service_test_1' AND "services".id <> 2053932785) LIMIT 1[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM "services" INNER JOIN "services_users" ON "services".id = "services_users".service_id WHERE ("services_users".user_id = 2 ) [0m


Processing UsersController#addservice (for 0.0.0.0 at 2010-03-28 15:47:52) [POST]
  Parameters: {"action"=>"addservice", "service_id"=>[2053932785], "user_id"=>"2", "controller"=>"users"}
  [4;35;1mLoggedUser Load (0.2ms)[0m   [0mSELECT * FROM "logged_users" WHERE ("logged_users"."ip" = '0.0.0.0' AND "logged_users"."session" = 'test session') LIMIT 1[0m
  [4;36;1mLoggedUser Update (0.1ms)[0m   [0;1mUPDATE "logged_users" SET "updated_at" = '2010-03-28 13:47:52', "session_ts" = '2010-03-28 13:47:52' WHERE "id" = 2053932786[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
  [4;35;1mService Load (0.2ms)[0m   [0mSELECT * FROM "services" WHERE ("services"."id" = 2053932785) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mINSERT INTO "services_users" ("service_id", "user_id") VALUES (2053932785, 2)[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT "users".id FROM "users" WHERE ("users"."username" = 'test1' AND "users".id <> 2) LIMIT 1[0m
  [4;35;1mService Load (0.2ms)[0m   [0mSELECT * FROM "services" INNER JOIN "services_users" ON "services".id = "services_users".service_id WHERE ("services_users".user_id = 2 ) [0m
  [4;36;1mService Load (0.2ms)[0m   [0;1mSELECT * FROM "services" INNER JOIN "services_users" ON "services".id = "services_users".service_id WHERE ("services_users".user_id = 1 ) [0m
Redirected to http://test.host/service_test_1/addtouser?user_id=2
Completed in 17ms (DB: 3) | 302 Found [http://test.host/users/addservice?service_id%5B%5D=2053932785&user_id=2]
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM "services" INNER JOIN "services_users" ON "services".id = "services_users".service_id WHERE ("services_users".user_id = 2 ) [0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mLoggedUser Create (0.2ms)[0m   [0mINSERT INTO "logged_users" ("created_at", "session", "updated_at", "user_id", "ip", "session_ts") VALUES('2010-03-28 13:47:52', 'test session', '2010-03-28 13:47:52', 1, '0.0.0.0', '2010-03-28 13:47:52')[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM "users" [0m


Processing UsersController#create (for 0.0.0.0 at 2010-03-28 15:47:52) [POST]
  Parameters: {"action"=>"create", "controller"=>"users", "user"=>{"username"=>"newuser", "password"=>"[FILTERED]", "email"=>"test@test.com"}}
  [4;35;1mLoggedUser Load (0.2ms)[0m   [0mSELECT * FROM "logged_users" WHERE ("logged_users"."ip" = '0.0.0.0' AND "logged_users"."session" = 'test session') LIMIT 1[0m
  [4;36;1mLoggedUser Update (0.1ms)[0m   [0;1mUPDATE "logged_users" SET "updated_at" = '2010-03-28 13:47:52', "session_ts" = '2010-03-28 13:47:52' WHERE "id" = 2053932786[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT "users".id FROM "users" WHERE ("users"."username" = 'newuser') LIMIT 1[0m
  [4;35;1mService Load (0.1ms)[0m   [0mSELECT * FROM "services" INNER JOIN "services_users" ON "services".id = "services_users".service_id WHERE ("services_users".user_id = 1 ) [0m
  [4;36;1mUser Create (0.1ms)[0m   [0;1mINSERT INTO "users" ("max_bandwidth", "created_at", "max_space", "updated_at", "username", "used_space", "max_subusers", "full_name", "parent_id", "password", "email", "max_subdomains", "ohmd_password") VALUES(NULL, '2010-03-28 13:47:52', -1, '2010-03-28 13:47:52', 'newuser', 0, -1, NULL, 1, 'newpassword', 'test@test.com', -1, NULL)[0m
Redirected to http://test.host/users/4
Completed in 8ms (DB: 2) | 302 Found [http://test.host/users?user%5Bemail%5D=test%40test.com&user%5Bpassword%5D=newpassword&user%5Busername%5D=newuser]
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM "users" [0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
  [4;35;1mLoggedUser Create (0.1ms)[0m   [0mINSERT INTO "logged_users" ("created_at", "session", "updated_at", "user_id", "ip", "session_ts") VALUES('2010-03-28 13:47:52', 'test session', '2010-03-28 13:47:52', 2, '0.0.0.0', '2010-03-28 13:47:52')[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM "users" [0m


Processing UsersController#create (for 0.0.0.0 at 2010-03-28 15:47:52) [POST]
  Parameters: {"action"=>"create", "controller"=>"users", "user"=>{"max_space"=>100, "username"=>"secondnewuser", "max_subusers"=>1, "password"=>"[FILTERED]", "email"=>"test@test.com", "max_subdomains"=>1}}
  [4;35;1mLoggedUser Load (0.2ms)[0m   [0mSELECT * FROM "logged_users" WHERE ("logged_users"."ip" = '0.0.0.0' AND "logged_users"."session" = 'test session') LIMIT 1[0m
  [4;36;1mLoggedUser Update (0.1ms)[0m   [0;1mUPDATE "logged_users" SET "updated_at" = '2010-03-28 13:47:52', "session_ts" = '2010-03-28 13:47:52' WHERE "id" = 2053932786[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT "users".id FROM "users" WHERE ("users"."username" = 'secondnewuser') LIMIT 1[0m
  [4;35;1mService Load (0.1ms)[0m   [0mSELECT * FROM "services" INNER JOIN "services_users" ON "services".id = "services_users".service_id WHERE ("services_users".user_id = 1 ) [0m
  [4;36;1mUser Create (0.1ms)[0m   [0;1mINSERT INTO "users" ("max_bandwidth", "created_at", "max_space", "updated_at", "username", "used_space", "max_subusers", "full_name", "parent_id", "password", "email", "max_subdomains", "ohmd_password") VALUES(NULL, '2010-03-28 13:47:52', 100, '2010-03-28 13:47:52', 'secondnewuser', 0, 1, NULL, 1, 'newpassword', 'test@test.com', 1, NULL)[0m
Redirected to http://test.host/users/5
Completed in 7ms (DB: 1) | 302 Found [http://test.host/users?user%5Bemail%5D=test%40test.com&user%5Bpassword%5D=newpassword&user%5Busername%5D=newuser]
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM "users" [0m
  [4;36;1mUser Load (0.5ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mLoggedUser Create (0.1ms)[0m   [0mINSERT INTO "logged_users" ("created_at", "session", "updated_at", "user_id", "ip", "session_ts") VALUES('2010-03-28 13:47:52', 'test session', '2010-03-28 13:47:52', 1, '0.0.0.0', '2010-03-28 13:47:52')[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m


Processing UsersController#destroy (for 0.0.0.0 at 2010-03-28 15:47:52) [DELETE]
  Parameters: {"action"=>"destroy", "id"=>"2", "controller"=>"users"}
  [4;35;1mLoggedUser Load (0.2ms)[0m   [0mSELECT * FROM "logged_users" WHERE ("logged_users"."ip" = '0.0.0.0' AND "logged_users"."session" = 'test session') LIMIT 1[0m
  [4;36;1mLoggedUser Update (0.1ms)[0m   [0;1mUPDATE "logged_users" SET "updated_at" = '2010-03-28 13:47:52', "session_ts" = '2010-03-28 13:47:52' WHERE "id" = 2053932786[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mService Load (0.1ms)[0m   [0;1mSELECT * FROM "services" INNER JOIN "services_users" ON "services".id = "services_users".service_id WHERE ("services_users".user_id = 2 ) [0m
  [4;35;1mUser Destroy (0.1ms)[0m   [0mDELETE FROM "users" WHERE "id" = 2[0m
WARNING: Can't mass-assign these protected attributes: id
  [4;36;1mUser Create (0.1ms)[0m   [0;1mINSERT INTO "users" ("max_bandwidth", "created_at", "max_space", "updated_at", "username", "used_space", "max_subusers", "full_name", "parent_id", "password", "email", "max_subdomains", "ohmd_password") VALUES(NULL, '2010-03-28 13:47:52', NULL, '2010-03-28 13:47:52', 'test1', NULL, NULL, NULL, -1, NULL, NULL, NULL, NULL)[0m
Redirected to http://test.host/users
Completed in 6ms (DB: 2) | 302 Found [http://test.host/users/2]
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."username" = 'test1') LIMIT 1[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mLoggedUser Create (0.1ms)[0m   [0mINSERT INTO "logged_users" ("created_at", "session", "updated_at", "user_id", "ip", "session_ts") VALUES('2010-03-28 13:47:52', 'test session', '2010-03-28 13:47:52', 1, '0.0.0.0', '2010-03-28 13:47:52')[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m


Processing UsersController#edit (for 0.0.0.0 at 2010-03-28 15:47:52) [GET]
  Parameters: {"action"=>"edit", "id"=>"2", "controller"=>"users"}
  [4;35;1mLoggedUser Load (0.2ms)[0m   [0mSELECT * FROM "logged_users" WHERE ("logged_users"."ip" = '0.0.0.0' AND "logged_users"."session" = 'test session') LIMIT 1[0m
  [4;36;1mLoggedUser Update (0.1ms)[0m   [0;1mUPDATE "logged_users" SET "updated_at" = '2010-03-28 13:47:52', "session_ts" = '2010-03-28 13:47:52' WHERE "id" = 2053932786[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
Rendering template within layouts/ohm
Rendering users/edit
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users".parent_id = 2) [0m
  [4;35;1mDomain Load (0.1ms)[0m   [0mSELECT * FROM "domains" WHERE ("domains".user_id = 2) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM "users" WHERE ("users".parent_id = 2) [0m
  [4;35;1mService Load (0.1ms)[0m   [0mSELECT * FROM "services" INNER JOIN "services_users" ON "services".id = "services_users".service_id WHERE ("services_users".user_id = 1 ) [0m
Completed in 13ms (View: 9, DB: 2) | 200 OK [http://test.host/users/2/edit]
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
  [4;35;1mLoggedUser Create (0.2ms)[0m   [0mINSERT INTO "logged_users" ("created_at", "session", "updated_at", "user_id", "ip", "session_ts") VALUES('2010-03-28 13:47:52', 'test session', '2010-03-28 13:47:52', 2, '0.0.0.0', '2010-03-28 13:47:52')[0m


Processing UsersController#index (for 0.0.0.0 at 2010-03-28 15:47:52) [GET]
  Parameters: {"action"=>"index", "controller"=>"users"}
  [4;36;1mLoggedUser Load (0.2ms)[0m   [0;1mSELECT * FROM "logged_users" WHERE ("logged_users"."ip" = '0.0.0.0' AND "logged_users"."session" = 'test session') LIMIT 1[0m
  [4;35;1mLoggedUser Update (0.1ms)[0m   [0mUPDATE "logged_users" SET "updated_at" = '2010-03-28 13:47:52', "session_ts" = '2010-03-28 13:47:52' WHERE "id" = 2053932786[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
Rendering template within layouts/ohm
Rendering users/index
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM "users" WHERE ("users".parent_id = 2) [0m
  [4;36;1mService Load (0.2ms)[0m   [0;1mSELECT * FROM "services" INNER JOIN "services_users" ON "services".id = "services_users".service_id WHERE ("services_users".user_id = 2 ) [0m
Completed in 8ms (View: 4, DB: 1) | 200 OK [http://test.host/users]


Processing UsersController#index (for 0.0.0.0 at 2010-03-28 15:47:52) [GET]
  Parameters: {"action"=>"index", "controller"=>"users"}
Redirected to http://test.host/login
Filter chain halted as [:authenticate] rendered_or_redirected.
Completed in 0ms (DB: 0) | 302 Found [http://test.host/users]
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
  [4;36;1mLoggedUser Create (0.2ms)[0m   [0;1mINSERT INTO "logged_users" ("created_at", "session", "updated_at", "user_id", "ip", "session_ts") VALUES('2010-03-28 13:47:52', 'test session', '2010-03-28 13:47:52', 2, '0.0.0.0', '2010-03-28 13:47:52')[0m


Processing UsersController#new (for 0.0.0.0 at 2010-03-28 15:47:52) [GET]
  Parameters: {"action"=>"new", "controller"=>"users"}
  [4;35;1mLoggedUser Load (0.2ms)[0m   [0mSELECT * FROM "logged_users" WHERE ("logged_users"."ip" = '0.0.0.0' AND "logged_users"."session" = 'test session') LIMIT 1[0m
  [4;36;1mLoggedUser Update (0.1ms)[0m   [0;1mUPDATE "logged_users" SET "updated_at" = '2010-03-28 13:47:52', "session_ts" = '2010-03-28 13:47:52' WHERE "id" = 2053932786[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
Rendering template within layouts/ohm
Rendering users/new
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users".parent_id = 2) [0m
  [4;35;1mDomain Load (0.1ms)[0m   [0mSELECT * FROM "domains" WHERE ("domains".user_id = 2) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM "users" WHERE ("users".parent_id = 2) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM "users" WHERE ("users".parent_id = 2) [0m
  [4;36;1mService Load (0.1ms)[0m   [0;1mSELECT * FROM "services" INNER JOIN "services_users" ON "services".id = "services_users".service_id WHERE ("services_users".user_id = 2 ) [0m
Completed in 13ms (View: 10, DB: 1) | 200 OK [http://test.host/users/new]
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
  [4;36;1mLoggedUser Create (0.2ms)[0m   [0;1mINSERT INTO "logged_users" ("created_at", "session", "updated_at", "user_id", "ip", "session_ts") VALUES('2010-03-28 13:47:52', 'test session', '2010-03-28 13:47:52', 2, '0.0.0.0', '2010-03-28 13:47:52')[0m


Processing UsersController#profile (for 0.0.0.0 at 2010-03-28 15:47:52) [GET]
  Parameters: {"action"=>"profile", "controller"=>"users"}
  [4;35;1mLoggedUser Load (0.2ms)[0m   [0mSELECT * FROM "logged_users" WHERE ("logged_users"."ip" = '0.0.0.0' AND "logged_users"."session" = 'test session') LIMIT 1[0m
  [4;36;1mLoggedUser Update (0.1ms)[0m   [0;1mUPDATE "logged_users" SET "updated_at" = '2010-03-28 13:47:52', "session_ts" = '2010-03-28 13:47:52' WHERE "id" = 2053932786[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
Rendering template within layouts/ohm
Rendering users/profile
  [4;36;1mService Load (0.1ms)[0m   [0;1mSELECT * FROM "services" INNER JOIN "services_users" ON "services".id = "services_users".service_id WHERE ("services_users".user_id = 2 ) [0m
Completed in 10ms (View: 8, DB: 1) | 200 OK [http://test.host/users/profile]
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mLoggedUser Create (0.2ms)[0m   [0;1mINSERT INTO "logged_users" ("created_at", "session", "updated_at", "user_id", "ip", "session_ts") VALUES('2010-03-28 13:47:52', 'test session', '2010-03-28 13:47:52', 1, '0.0.0.0', '2010-03-28 13:47:52')[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m


Processing UsersController#login_as_me (for 0.0.0.0 at 2010-03-28 15:47:52) [POST]
  Parameters: {"action"=>"login_as_me", "id"=>"2", "controller"=>"users"}
  [4;36;1mLoggedUser Load (0.2ms)[0m   [0;1mSELECT * FROM "logged_users" WHERE ("logged_users"."ip" = '0.0.0.0' AND "logged_users"."session" = 'test session') LIMIT 1[0m
  [4;35;1mLoggedUser Update (0.1ms)[0m   [0mUPDATE "logged_users" SET "updated_at" = '2010-03-28 13:47:52', "session_ts" = '2010-03-28 13:47:52' WHERE "id" = 2053932786[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mLoggedUser Load (0.2ms)[0m   [0mSELECT * FROM "logged_users" WHERE ("logged_users"."ip" = '0.0.0.0' AND "logged_users"."session" = 'test session') LIMIT 1[0m
  [4;36;1mLoggedUser Update (0.1ms)[0m   [0;1mUPDATE "logged_users" SET "updated_at" = '2010-03-28 13:47:52', "session_ts" = '2010-03-28 13:47:52' WHERE "id" = 2053932786[0m
  [4;35;1mLoggedUser Update (0.1ms)[0m   [0mUPDATE "logged_users" SET "updated_at" = '2010-03-28 13:47:52', "user_id" = 2 WHERE "id" = 2053932786[0m
Redirected to http://test.host/
Completed in 6ms (DB: 2) | 302 Found [http://test.host/users/login_as_me/2]
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
  [4;35;1mLoggedUser Create (0.1ms)[0m   [0mINSERT INTO "logged_users" ("created_at", "session", "updated_at", "user_id", "ip", "session_ts") VALUES('2010-03-28 13:47:52', 'test session', '2010-03-28 13:47:52', 2, '0.0.0.0', '2010-03-28 13:47:52')[0m
  [4;36;1mService Load (0.2ms)[0m   [0;1mSELECT * FROM "services" WHERE ("services"."id" = 2053932785) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mINSERT INTO "services_users" ("service_id", "user_id") VALUES (2053932785, 2)[0m
  [4;36;1mService Load (0.1ms)[0m   [0;1mSELECT "services".id FROM "services" WHERE ("services"."name" = 'Service 1' AND "services".id <> 2053932785) LIMIT 1[0m
  [4;35;1mService Load (0.1ms)[0m   [0mSELECT "services".id FROM "services" WHERE ("services"."controller" = 'service_test_1' AND "services".id <> 2053932785) LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM "services" INNER JOIN "services_users" ON "services".id = "services_users".service_id WHERE ("services_users".user_id = 2 ) [0m


Processing UsersController#addservice (for 0.0.0.0 at 2010-03-28 15:47:52) [POST]
  Parameters: {"action"=>"addservice", "service_id"=>[2053932785], "user_id"=>"2", "controller"=>"users"}
  [4;35;1mLoggedUser Load (0.2ms)[0m   [0mSELECT * FROM "logged_users" WHERE ("logged_users"."ip" = '0.0.0.0' AND "logged_users"."session" = 'test session') LIMIT 1[0m
  [4;36;1mLoggedUser Update (0.1ms)[0m   [0;1mUPDATE "logged_users" SET "updated_at" = '2010-03-28 13:47:52', "session_ts" = '2010-03-28 13:47:52' WHERE "id" = 2053932786[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
  [4;35;1mService Load (0.2ms)[0m   [0mSELECT * FROM "services" WHERE ("services"."id" = 2053932785) [0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
Redirected to http://test.host/users
Completed in 4ms (DB: 2) | 302 Found [http://test.host/users/addservice?service_id%5B%5D=2053932785&user_id=2]
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM "services" INNER JOIN "services_users" ON "services".id = "services_users".service_id WHERE ("services_users".user_id = 2 ) [0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
  [4;35;1mLoggedUser Create (0.2ms)[0m   [0mINSERT INTO "logged_users" ("created_at", "session", "updated_at", "user_id", "ip", "session_ts") VALUES('2010-03-28 13:47:52', 'test session', '2010-03-28 13:47:52', 2, '0.0.0.0', '2010-03-28 13:47:52')[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM "users" [0m


Processing UsersController#destroy (for 0.0.0.0 at 2010-03-28 15:47:52) [DELETE]
  Parameters: {"action"=>"destroy", "id"=>"2", "controller"=>"users"}
  [4;35;1mLoggedUser Load (0.2ms)[0m   [0mSELECT * FROM "logged_users" WHERE ("logged_users"."ip" = '0.0.0.0' AND "logged_users"."session" = 'test session') LIMIT 1[0m
  [4;36;1mLoggedUser Update (0.1ms)[0m   [0;1mUPDATE "logged_users" SET "updated_at" = '2010-03-28 13:47:52', "session_ts" = '2010-03-28 13:47:52' WHERE "id" = 2053932786[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
Redirected to http://test.host/users
Completed in 4ms (DB: 2) | 302 Found [http://test.host/users/2]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM "users" [0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
  [4;36;1mLoggedUser Create (0.1ms)[0m   [0;1mINSERT INTO "logged_users" ("created_at", "session", "updated_at", "user_id", "ip", "session_ts") VALUES('2010-03-28 13:47:52', 'test session', '2010-03-28 13:47:52', 2, '0.0.0.0', '2010-03-28 13:47:52')[0m


Processing UsersController#edit (for 0.0.0.0 at 2010-03-28 15:47:52) [GET]
  Parameters: {"action"=>"edit", "id"=>"2", "controller"=>"users"}
  [4;35;1mLoggedUser Load (0.2ms)[0m   [0mSELECT * FROM "logged_users" WHERE ("logged_users"."ip" = '0.0.0.0' AND "logged_users"."session" = 'test session') LIMIT 1[0m
  [4;36;1mLoggedUser Update (0.1ms)[0m   [0;1mUPDATE "logged_users" SET "updated_at" = '2010-03-28 13:47:52', "session_ts" = '2010-03-28 13:47:52' WHERE "id" = 2053932786[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
Redirected to http://test.host/users
Completed in 4ms (DB: 2) | 302 Found [http://test.host/users/2/edit]
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
  [4;35;1mLoggedUser Create (0.1ms)[0m   [0mINSERT INTO "logged_users" ("created_at", "session", "updated_at", "user_id", "ip", "session_ts") VALUES('2010-03-28 13:47:52', 'test session', '2010-03-28 13:47:52', 2, '0.0.0.0', '2010-03-28 13:47:52')[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 3) [0m


Processing UsersController#login_as_me (for 0.0.0.0 at 2010-03-28 15:47:52) [POST]
  Parameters: {"action"=>"login_as_me", "id"=>"3", "controller"=>"users"}
  [4;35;1mLoggedUser Load (0.2ms)[0m   [0mSELECT * FROM "logged_users" WHERE ("logged_users"."ip" = '0.0.0.0' AND "logged_users"."session" = 'test session') LIMIT 1[0m
  [4;36;1mLoggedUser Update (0.1ms)[0m   [0;1mUPDATE "logged_users" SET "updated_at" = '2010-03-28 13:47:52', "session_ts" = '2010-03-28 13:47:52' WHERE "id" = 2053932786[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 3) [0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
Redirected to http://test.host/users
Completed in 4ms (DB: 2) | 302 Found [http://test.host/users/login_as_me/3]
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
  [4;35;1mLoggedUser Create (0.1ms)[0m   [0mINSERT INTO "logged_users" ("created_at", "session", "updated_at", "user_id", "ip", "session_ts") VALUES('2010-03-28 13:47:52', 'test session', '2010-03-28 13:47:52', 2, '0.0.0.0', '2010-03-28 13:47:52')[0m
  [4;36;1mService Load (0.2ms)[0m   [0;1mSELECT * FROM "services" WHERE ("services"."id" = 2053932785) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mINSERT INTO "services_users" ("service_id", "user_id") VALUES (2053932785, 2)[0m
  [4;36;1mService Load (0.1ms)[0m   [0;1mSELECT "services".id FROM "services" WHERE ("services"."name" = 'Service 1' AND "services".id <> 2053932785) LIMIT 1[0m
  [4;35;1mService Load (0.1ms)[0m   [0mSELECT "services".id FROM "services" WHERE ("services"."controller" = 'service_test_1' AND "services".id <> 2053932785) LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM "services" INNER JOIN "services_users" ON "services".id = "services_users".service_id WHERE ("services_users".user_id = 2 ) [0m


Processing UsersController#removeservice (for 0.0.0.0 at 2010-03-28 15:47:52) [POST]
  Parameters: {"action"=>"removeservice", "service_id"=>"2053932785", "user_id"=>"2", "controller"=>"users"}
  [4;35;1mLoggedUser Load (0.2ms)[0m   [0mSELECT * FROM "logged_users" WHERE ("logged_users"."ip" = '0.0.0.0' AND "logged_users"."session" = 'test session') LIMIT 1[0m
  [4;36;1mLoggedUser Update (0.1ms)[0m   [0;1mUPDATE "logged_users" SET "updated_at" = '2010-03-28 13:47:52', "session_ts" = '2010-03-28 13:47:52' WHERE "id" = 2053932786[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
  [4;35;1mService Load (0.2ms)[0m   [0mSELECT * FROM "services" WHERE ("services"."id" = 2053932785) [0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
Redirected to http://test.host/users
Completed in 5ms (DB: 2) | 302 Found [http://test.host/users/removeservice?service_id=2053932785&user_id=2]
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM "services" INNER JOIN "services_users" ON "services".id = "services_users".service_id WHERE ("services_users".user_id = 2 ) [0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
  [4;35;1mLoggedUser Create (0.3ms)[0m   [0mINSERT INTO "logged_users" ("created_at", "session", "updated_at", "user_id", "ip", "session_ts") VALUES('2010-03-28 13:47:52', 'test session', '2010-03-28 13:47:52', 2, '0.0.0.0', '2010-03-28 13:47:52')[0m


Processing UsersController#show (for 0.0.0.0 at 2010-03-28 15:47:52) [GET]
  Parameters: {"action"=>"show", "id"=>"2", "controller"=>"users"}
  [4;36;1mLoggedUser Load (0.3ms)[0m   [0;1mSELECT * FROM "logged_users" WHERE ("logged_users"."ip" = '0.0.0.0' AND "logged_users"."session" = 'test session') LIMIT 1[0m
  [4;35;1mLoggedUser Update (0.1ms)[0m   [0mUPDATE "logged_users" SET "updated_at" = '2010-03-28 13:47:52', "session_ts" = '2010-03-28 13:47:52' WHERE "id" = 2053932786[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
Redirected to http://test.host/users
  [4;35;1mService Load (0.1ms)[0m   [0mSELECT * FROM "services" INNER JOIN "services_users" ON "services".id = "services_users".service_id WHERE ("services_users".user_id = 2 ) [0m
  [4;36;1mService Load (0.1ms)[0m   [0;1mSELECT * FROM "services" INNER JOIN "services_users" ON "services".id = "services_users".service_id WHERE ("services_users".user_id = 2 ) [0m
Completed in 17ms (DB: 2) | 302 Found [http://test.host/users/2]
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
  [4;36;1mLoggedUser Create (0.2ms)[0m   [0;1mINSERT INTO "logged_users" ("created_at", "session", "updated_at", "user_id", "ip", "session_ts") VALUES('2010-03-28 13:47:52', 'test session', '2010-03-28 13:47:52', 2, '0.0.0.0', '2010-03-28 13:47:52')[0m


Processing UsersController#update (for 0.0.0.0 at 2010-03-28 15:47:52) [PUT]
  Parameters: {"action"=>"update", "id"=>"2", "controller"=>"users", "user"=>{"full_name"=>"New name"}}
  [4;35;1mLoggedUser Load (0.2ms)[0m   [0mSELECT * FROM "logged_users" WHERE ("logged_users"."ip" = '0.0.0.0' AND "logged_users"."session" = 'test session') LIMIT 1[0m
  [4;36;1mLoggedUser Update (0.1ms)[0m   [0;1mUPDATE "logged_users" SET "updated_at" = '2010-03-28 13:47:53', "session_ts" = '2010-03-28 13:47:53' WHERE "id" = 2053932786[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
Redirected to http://test.host/users
Completed in 4ms (DB: 2) | 302 Found [http://test.host/users/2?user%5Bfull_name%5D=New+name]
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mLoggedUser Create (0.2ms)[0m   [0mINSERT INTO "logged_users" ("created_at", "session", "updated_at", "user_id", "ip", "session_ts") VALUES('2010-03-28 13:47:53', 'test session', '2010-03-28 13:47:53', 1, '0.0.0.0', '2010-03-28 13:47:53')[0m
  [4;36;1mService Load (0.2ms)[0m   [0;1mSELECT * FROM "services" WHERE ("services"."id" = 2053932785) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mINSERT INTO "services_users" ("service_id", "user_id") VALUES (2053932785, 1)[0m
  [4;36;1mService Load (0.1ms)[0m   [0;1mSELECT "services".id FROM "services" WHERE ("services"."name" = 'Service 1' AND "services".id <> 2053932785) LIMIT 1[0m
  [4;35;1mService Load (0.1ms)[0m   [0mSELECT "services".id FROM "services" WHERE ("services"."controller" = 'service_test_1' AND "services".id <> 2053932785) LIMIT 1[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mINSERT INTO "services_users" ("service_id", "user_id") VALUES (2053932785, 2)[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM "services" INNER JOIN "services_users" ON "services".id = "services_users".service_id WHERE ("services_users".user_id = 2 ) [0m


Processing UsersController#removeservice (for 0.0.0.0 at 2010-03-28 15:47:53) [POST]
  Parameters: {"action"=>"removeservice", "service_id"=>"2053932785", "user_id"=>"2", "controller"=>"users"}
  [4;35;1mLoggedUser Load (0.2ms)[0m   [0mSELECT * FROM "logged_users" WHERE ("logged_users"."ip" = '0.0.0.0' AND "logged_users"."session" = 'test session') LIMIT 1[0m
  [4;36;1mLoggedUser Update (0.1ms)[0m   [0;1mUPDATE "logged_users" SET "updated_at" = '2010-03-28 13:47:53', "session_ts" = '2010-03-28 13:47:53' WHERE "id" = 2053932786[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
  [4;35;1mService Load (0.2ms)[0m   [0mSELECT * FROM "services" WHERE ("services"."id" = 2053932785) [0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mService Load (0.1ms)[0m   [0mSELECT "services".id FROM "services" INNER JOIN "services_users" ON "services".id = "services_users".service_id WHERE ("services"."id" = 2053932785) AND ("services_users".user_id = 1 ) LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mDELETE FROM "services_users" WHERE user_id = 2 AND service_id IN (2053932785)[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT "users".id FROM "users" WHERE ("users"."username" = 'test1' AND "users".id <> 2) LIMIT 1[0m
  [4;36;1mService Load (0.1ms)[0m   [0;1mSELECT * FROM "services" INNER JOIN "services_users" ON "services".id = "services_users".service_id WHERE ("services_users".user_id = 2 ) [0m
  [4;35;1mService Load (0.2ms)[0m   [0mSELECT * FROM "services" INNER JOIN "services_users" ON "services".id = "services_users".service_id WHERE ("services_users".user_id = 1 ) [0m
Redirected to http://test.host/service_test_1/removefromuser?user_id=2
Completed in 11ms (DB: 3) | 302 Found [http://test.host/users/removeservice?service_id=2053932785&user_id=2]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM "services" INNER JOIN "services_users" ON "services".id = "services_users".service_id WHERE ("services_users".user_id = 2 ) [0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mLoggedUser Create (0.2ms)[0m   [0;1mINSERT INTO "logged_users" ("created_at", "session", "updated_at", "user_id", "ip", "session_ts") VALUES('2010-03-28 13:47:53', 'test session', '2010-03-28 13:47:53', 1, '0.0.0.0', '2010-03-28 13:47:53')[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m


Processing UsersController#show (for 0.0.0.0 at 2010-03-28 15:47:53) [GET]
  Parameters: {"action"=>"show", "id"=>"2", "controller"=>"users"}
  [4;36;1mLoggedUser Load (0.3ms)[0m   [0;1mSELECT * FROM "logged_users" WHERE ("logged_users"."ip" = '0.0.0.0' AND "logged_users"."session" = 'test session') LIMIT 1[0m
  [4;35;1mLoggedUser Update (0.1ms)[0m   [0mUPDATE "logged_users" SET "updated_at" = '2010-03-28 13:47:53', "session_ts" = '2010-03-28 13:47:53' WHERE "id" = 2053932786[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mService Load (0.3ms)[0m   [0mSELECT * FROM "services" [0m
  [4;36;1mService Load (0.1ms)[0m   [0;1mSELECT * FROM "services" INNER JOIN "services_users" ON "services".id = "services_users".service_id WHERE ("services_users".user_id = 2 ) [0m
Rendering template within layouts/ohm
Rendering users/show
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM "users" WHERE ("users".parent_id = 2) [0m
  [4;36;1mDomain Load (0.1ms)[0m   [0;1mSELECT * FROM "domains" WHERE ("domains".user_id = 2) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM "domains" WHERE ("domains".user_id = 2) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM "services" INNER JOIN "services_users" ON "services".id = "services_users".service_id WHERE ("services_users".user_id = 2 ) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM "users" WHERE ("users".parent_id = 2) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM "users" WHERE ("users".parent_id = 2) [0m
  [4;35;1mService Load (0.1ms)[0m   [0mSELECT * FROM "services" INNER JOIN "services_users" ON "services".id = "services_users".service_id WHERE ("services_users".user_id = 1 ) [0m
Completed in 16ms (View: 10, DB: 3) | 200 OK [http://test.host/users/2]
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
  [4;35;1mLoggedUser Create (0.2ms)[0m   [0mINSERT INTO "logged_users" ("created_at", "session", "updated_at", "user_id", "ip", "session_ts") VALUES('2010-03-28 13:47:53', 'test session', '2010-03-28 13:47:53', 2, '0.0.0.0', '2010-03-28 13:47:53')[0m


Processing UsersController#profileupdate (for 0.0.0.0 at 2010-03-28 15:47:53) [POST]
  Parameters: {"action"=>"profileupdate", "controller"=>"users", "user"=>{"full_name"=>"New Name"}}
  [4;36;1mLoggedUser Load (0.2ms)[0m   [0;1mSELECT * FROM "logged_users" WHERE ("logged_users"."ip" = '0.0.0.0' AND "logged_users"."session" = 'test session') LIMIT 1[0m
  [4;35;1mLoggedUser Update (0.1ms)[0m   [0mUPDATE "logged_users" SET "updated_at" = '2010-03-28 13:47:53', "session_ts" = '2010-03-28 13:47:53' WHERE "id" = 2053932786[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT "users".id FROM "users" WHERE ("users"."username" = 'test1' AND "users".id <> 2) LIMIT 1[0m
  [4;35;1mService Load (0.1ms)[0m   [0mSELECT * FROM "services" INNER JOIN "services_users" ON "services".id = "services_users".service_id WHERE ("services_users".user_id = 2 ) [0m
  [4;36;1mService Load (0.1ms)[0m   [0;1mSELECT * FROM "services" INNER JOIN "services_users" ON "services".id = "services_users".service_id WHERE ("services_users".user_id = 1 ) [0m
  [4;35;1mUser Update (0.1ms)[0m   [0mUPDATE "users" SET "updated_at" = '2010-03-28 13:47:53', "full_name" = 'New Name' WHERE "id" = 2[0m
Redirected to http://test.host/
Completed in 8ms (DB: 2) | 302 Found [http://test.host/users/profileupdate?user%5Bfull_name%5D=New+Name]
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mLoggedUser Create (0.2ms)[0m   [0mINSERT INTO "logged_users" ("created_at", "session", "updated_at", "user_id", "ip", "session_ts") VALUES('2010-03-28 13:47:53', 'test session', '2010-03-28 13:47:53', 1, '0.0.0.0', '2010-03-28 13:47:53')[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m


Processing UsersController#update (for 0.0.0.0 at 2010-03-28 15:47:53) [PUT]
  Parameters: {"action"=>"update", "id"=>"2", "controller"=>"users", "user"=>{"full_name"=>"New name"}}
  [4;35;1mLoggedUser Load (0.2ms)[0m   [0mSELECT * FROM "logged_users" WHERE ("logged_users"."ip" = '0.0.0.0' AND "logged_users"."session" = 'test session') LIMIT 1[0m
  [4;36;1mLoggedUser Update (0.1ms)[0m   [0;1mUPDATE "logged_users" SET "updated_at" = '2010-03-28 13:47:53', "session_ts" = '2010-03-28 13:47:53' WHERE "id" = 2053932786[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT "users".id FROM "users" WHERE ("users"."username" = 'test1' AND "users".id <> 2) LIMIT 1[0m
  [4;35;1mService Load (0.1ms)[0m   [0mSELECT * FROM "services" INNER JOIN "services_users" ON "services".id = "services_users".service_id WHERE ("services_users".user_id = 2 ) [0m
  [4;36;1mService Load (0.1ms)[0m   [0;1mSELECT * FROM "services" INNER JOIN "services_users" ON "services".id = "services_users".service_id WHERE ("services_users".user_id = 1 ) [0m
  [4;35;1mUser Update (0.1ms)[0m   [0mUPDATE "users" SET "updated_at" = '2010-03-28 13:47:53', "full_name" = 'New name' WHERE "id" = 2[0m
Redirected to http://test.host/users/2
Completed in 8ms (DB: 2) | 302 Found [http://test.host/users/2?user%5Bfull_name%5D=New+name]
  [4;36;1mDomain Load (0.6ms)[0m   [0;1mSELECT * FROM "domains" WHERE ("domains"."id" = 1) [0m
  [4;35;1mUser Load (0.8ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
  [4;36;1mDomain Load (0.2ms)[0m   [0;1mSELECT "domains".id FROM "domains" WHERE ("domains"."domain" = 'test.com') LIMIT 1[0m
  [4;35;1mDomain Load (0.1ms)[0m   [0mSELECT "domains".id FROM "domains" WHERE ("domains"."domain" IS NULL) LIMIT 1[0m
  [4;36;1mDomain Load (0.2ms)[0m   [0;1mSELECT * FROM "domains" WHERE ("domains"."id" = 1) [0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mDomain Load (0.1ms)[0m   [0;1mSELECT "domains".id FROM "domains" WHERE ("domains"."domain" = 'test.com' AND "domains".id <> 1) LIMIT 1[0m
  [4;35;1mLoggedUser Load (0.2ms)[0m   [0mSELECT * FROM "logged_users" WHERE ("logged_users"."id" = 2053932785) [0m
  [4;36;1mLoggedUser Load (0.2ms)[0m   [0;1mSELECT * FROM "logged_users" WHERE ("logged_users"."id" = 2053932785) [0m
  [4;35;1mLoggedUser Load (0.2ms)[0m   [0mSELECT * FROM "logged_users" WHERE ("logged_users"."id" = 2053932785) [0m
  [4;36;1mServiceEmailMailbox Load (1.2ms)[0m   [0;1mSELECT * FROM "service_email_mailboxes" WHERE ("service_email_mailboxes"."id" = 198609129) [0m
  [4;35;1mServiceEmailMailbox Load (0.1ms)[0m   [0mSELECT "service_email_mailboxes".id FROM "service_email_mailboxes" WHERE ("service_email_mailboxes"."address" = 'valid.email_address-ok' AND "service_email_mailboxes".domain_id = 1 AND "service_email_mailboxes".id <> 198609129) LIMIT 1[0m
  [4;36;1mServiceEmailMailbox Load (0.1ms)[0m   [0;1mSELECT "service_email_mailboxes".id FROM "service_email_mailboxes" WHERE ("service_email_mailboxes"."address" = 'invalid@address' AND "service_email_mailboxes".domain_id = 1 AND "service_email_mailboxes".id <> 198609129) LIMIT 1[0m
  [4;35;1mServiceEmailMailbox Load (0.1ms)[0m   [0mSELECT "service_email_mailboxes".id FROM "service_email_mailboxes" WHERE ("service_email_mailboxes"."address" = 'invalid address' AND "service_email_mailboxes".domain_id = 1 AND "service_email_mailboxes".id <> 198609129) LIMIT 1[0m
  [4;36;1mServiceEmailMailbox Load (0.1ms)[0m   [0;1mSELECT "service_email_mailboxes".id FROM "service_email_mailboxes" WHERE ("service_email_mailboxes"."address" = 'invalid+address' AND "service_email_mailboxes".domain_id = 1 AND "service_email_mailboxes".id <> 198609129) LIMIT 1[0m
  [4;35;1mServiceEmailMailbox Load (0.2ms)[0m   [0mSELECT * FROM "service_email_mailboxes" WHERE ("service_email_mailboxes"."id" = 198609129) [0m
  [4;36;1mServiceEmailMailbox Load (0.1ms)[0m   [0;1mSELECT "service_email_mailboxes".id FROM "service_email_mailboxes" WHERE ("service_email_mailboxes"."address" = 'test' AND "service_email_mailboxes".domain_id = 1) LIMIT 1[0m
  [4;35;1mServiceEmailMailbox Load (0.1ms)[0m   [0mSELECT "service_email_mailboxes".id FROM "service_email_mailboxes" WHERE ("service_email_mailboxes"."address" = 'test' AND "service_email_mailboxes".domain_id = 2) LIMIT 1[0m
  [4;36;1mServiceEmailMailbox Load (0.1ms)[0m   [0;1mSELECT "service_email_mailboxes".id FROM "service_email_mailboxes" WHERE ("service_email_mailboxes"."address" IS NULL AND "service_email_mailboxes".domain_id IS NULL) LIMIT 1[0m
  [4;35;1mServiceEmailMailbox Load (0.2ms)[0m   [0mSELECT * FROM "service_email_mailboxes" WHERE ("service_email_mailboxes"."id" = 198609129) [0m
  [4;36;1mServiceEmailMailbox Load (0.1ms)[0m   [0;1mSELECT "service_email_mailboxes".id FROM "service_email_mailboxes" WHERE ("service_email_mailboxes"."address" = 'test' AND "service_email_mailboxes".domain_id = 1 AND "service_email_mailboxes".id <> 198609129) LIMIT 1[0m
  [4;35;1mServiceEmailMailbox Load (0.1ms)[0m   [0mSELECT "service_email_mailboxes".id FROM "service_email_mailboxes" WHERE ("service_email_mailboxes"."address" = 'test' AND "service_email_mailboxes".domain_id = 1 AND "service_email_mailboxes".id <> 198609129) LIMIT 1[0m
  [4;36;1mServiceEmailMailbox Load (0.2ms)[0m   [0;1mSELECT * FROM "service_email_mailboxes" WHERE ("service_email_mailboxes"."id" = 198609129) [0m
  [4;35;1mServiceEmailMailbox Load (0.1ms)[0m   [0mSELECT "service_email_mailboxes".id FROM "service_email_mailboxes" WHERE ("service_email_mailboxes"."address" = 'test' AND "service_email_mailboxes".domain_id = 1 AND "service_email_mailboxes".id <> 198609129) LIMIT 1[0m
  [4;36;1mServiceEmailMailbox Load (0.2ms)[0m   [0;1mSELECT * FROM "service_email_mailboxes" WHERE ("service_email_mailboxes"."id" = 1634495381) [0m
  [4;35;1mServiceEmailMailbox Load (0.1ms)[0m   [0mSELECT "service_email_mailboxes".id FROM "service_email_mailboxes" WHERE ("service_email_mailboxes"."address" = 'aliastest' AND "service_email_mailboxes".domain_id = 1 AND "service_email_mailboxes".id <> 1634495381) LIMIT 1[0m
  [4;36;1mService Load (0.1ms)[0m   [0;1mSELECT "services".id FROM "services" WHERE ("services"."name" = 'New Service') LIMIT 1[0m
  [4;35;1mService Load (0.1ms)[0m   [0mSELECT "services".id FROM "services" WHERE ("services"."controller" = 'service_new_service') LIMIT 1[0m
  [4;36;1mService Load (0.1ms)[0m   [0;1mSELECT "services".id FROM "services" WHERE ("services"."name" = 'New Service') LIMIT 1[0m
  [4;35;1mService Load (0.1ms)[0m   [0mSELECT "services".id FROM "services" WHERE ("services"."controller" = 'service_new_service') LIMIT 1[0m
  [4;36;1mService Create (0.2ms)[0m   [0;1mINSERT INTO "services" ("name", "created_at", "updated_at", "by_domain", "description", "controller", "tech_name") VALUES('New Service', '2010-03-28 13:48:38', '2010-03-28 13:48:38', 'f', NULL, 'service_new_service', 'New Service')[0m
  [4;35;1mService Load (0.1ms)[0m   [0mSELECT "services".id FROM "services" WHERE ("services"."name" IS NULL) LIMIT 1[0m
  [4;36;1mService Load (0.1ms)[0m   [0;1mSELECT "services".id FROM "services" WHERE ("services"."controller" IS NULL) LIMIT 1[0m
  [4;35;1mService Load (0.2ms)[0m   [0mSELECT * FROM "services" WHERE ("services"."id" = 2053932785) [0m
  [4;36;1mService Load (0.1ms)[0m   [0;1mSELECT "services".id FROM "services" WHERE ("services"."name" = 'Service 1') LIMIT 1[0m
  [4;35;1mService Load (0.1ms)[0m   [0mSELECT "services".id FROM "services" WHERE ("services"."controller" = 'service_test_1') LIMIT 1[0m
  [4;36;1mService Load (0.2ms)[0m   [0;1mSELECT * FROM "services" WHERE ("services"."id" = 2053932785) [0m
  [4;35;1mService Load (0.1ms)[0m   [0mSELECT "services".id FROM "services" WHERE ("services"."name" = 'Service 1' AND "services".id <> 2053932785) LIMIT 1[0m
  [4;36;1mService Load (0.1ms)[0m   [0;1mSELECT "services".id FROM "services" WHERE ("services"."controller" = 'service_test_1' AND "services".id <> 2053932785) LIMIT 1[0m
  [4;35;1mService Load (0.2ms)[0m   [0mSELECT * FROM "services" WHERE ("services"."id" = 298486374) [0m
  [4;36;1mService Load (0.1ms)[0m   [0;1mSELECT "services".id FROM "services" WHERE ("services"."name" = 'Service 2' AND "services".id <> 298486374) LIMIT 1[0m
  [4;35;1mService Load (0.1ms)[0m   [0mSELECT "services".id FROM "services" WHERE ("services"."controller" = 'service_test_2' AND "services".id <> 298486374) LIMIT 1[0m
  [4;36;1mSubdomain Load (0.2ms)[0m   [0;1mSELECT * FROM "subdomains" WHERE ("subdomains"."id" = 2053932785) [0m
  [4;35;1mDomain Load (0.2ms)[0m   [0mSELECT * FROM "domains" WHERE ("domains"."id" = 1) [0m
  [4;36;1mSubdomain Load (0.1ms)[0m   [0;1mSELECT "subdomains".id FROM "subdomains" WHERE ("subdomains"."url" = 'www' AND "subdomains".domain_id = 1) LIMIT 1[0m
  [4;35;1mSubdomain Load (0.1ms)[0m   [0mSELECT "subdomains".id FROM "subdomains" WHERE ("subdomains"."path" = 'www' AND "subdomains".domain_id = 1) LIMIT 1[0m
  [4;36;1mSubdomain Load (0.1ms)[0m   [0;1mSELECT "subdomains".id FROM "subdomains" WHERE ("subdomains"."url" = 'www' AND "subdomains".domain_id = 2) LIMIT 1[0m
  [4;35;1mSubdomain Load (0.1ms)[0m   [0mSELECT "subdomains".id FROM "subdomains" WHERE ("subdomains"."path" = 'www' AND "subdomains".domain_id = 2) LIMIT 1[0m
  [4;36;1mSubdomain Load (0.1ms)[0m   [0;1mSELECT "subdomains".id FROM "subdomains" WHERE ("subdomains"."url" = 'newsub' AND "subdomains".domain_id = 1) LIMIT 1[0m
  [4;35;1mSubdomain Load (0.1ms)[0m   [0mSELECT "subdomains".id FROM "subdomains" WHERE ("subdomains"."path" = 'newsub' AND "subdomains".domain_id = 1) LIMIT 1[0m
  [4;36;1mSubdomain Load (0.1ms)[0m   [0;1mSELECT "subdomains".id FROM "subdomains" WHERE ("subdomains"."url" IS NULL AND "subdomains".domain_id IS NULL) LIMIT 1[0m
  [4;35;1mSubdomain Load (0.1ms)[0m   [0mSELECT "subdomains".id FROM "subdomains" WHERE ("subdomains"."path" IS NULL AND "subdomains".domain_id IS NULL) LIMIT 1[0m
  [4;36;1mSubdomain Load (0.2ms)[0m   [0;1mSELECT * FROM "subdomains" WHERE ("subdomains"."id" = 298486374) [0m
  [4;35;1mDomain Load (0.1ms)[0m   [0mSELECT * FROM "domains" WHERE ("domains"."id" = 1) [0m
  [4;36;1mSubdomain Load (0.1ms)[0m   [0;1mSELECT "subdomains".id FROM "subdomains" WHERE ("subdomains"."url" = 'test' AND "subdomains".domain_id = 1 AND "subdomains".id <> 298486374) LIMIT 1[0m
  [4;35;1mSubdomain Load (0.1ms)[0m   [0mSELECT "subdomains".id FROM "subdomains" WHERE ("subdomains"."path" = 'test-site' AND "subdomains".domain_id = 1 AND "subdomains".id <> 298486374) LIMIT 1[0m
  [4;36;1mSubdomain Load (0.2ms)[0m   [0;1mSELECT * FROM "subdomains" WHERE ("subdomains"."id" = 298486374) [0m
  [4;35;1mSubdomain Load (0.1ms)[0m   [0mSELECT "subdomains".id FROM "subdomains" WHERE ("subdomains"."url" = 'test' AND "subdomains".domain_id = 1 AND "subdomains".id <> 298486374) LIMIT 1[0m
  [4;36;1mSubdomain Load (0.1ms)[0m   [0;1mSELECT "subdomains".id FROM "subdomains" WHERE ("subdomains"."path" = 'test-site' AND "subdomains".domain_id = 1 AND "subdomains".id <> 298486374) LIMIT 1[0m
  [4;35;1mSubdomain Load (0.2ms)[0m   [0mSELECT * FROM "subdomains" WHERE ("subdomains"."id" = 298486374) [0m
  [4;36;1mDomain Load (0.2ms)[0m   [0;1mSELECT * FROM "domains" WHERE ("domains"."id" = 1) [0m
  [4;35;1mSubdomain Load (0.1ms)[0m   [0mSELECT "subdomains".id FROM "subdomains" WHERE ("subdomains"."url" = 'mainsub' AND "subdomains".domain_id = 1) LIMIT 1[0m
  [4;36;1mSubdomain Load (0.1ms)[0m   [0;1mSELECT "subdomains".id FROM "subdomains" WHERE ("subdomains"."path" = 'mainsub' AND "subdomains".domain_id = 1) LIMIT 1[0m
  [4;35;1mSubdomain Load (0.2ms)[0m   [0mSELECT * FROM "subdomains" WHERE ("subdomains"."mainsub" = 't' AND "subdomains"."domain_id" = 1) LIMIT 1[0m
  [4;36;1mSubdomain Update (0.2ms)[0m   [0;1mUPDATE "subdomains" SET "updated_at" = '2010-03-28 13:48:38', "mainsub" = 'f' WHERE "id" = 2053932785[0m
  [4;35;1mSubdomain Create (1.8ms)[0m   [0mINSERT INTO "subdomains" ("created_at", "updated_at", "url", "domain_id", "path", "mainsub") VALUES('2010-03-28 13:48:38', '2010-03-28 13:48:38', 'mainsub', 1, 'mainsub', 't')[0m
  [4;36;1mSubdomain Load (0.1ms)[0m   [0;1mSELECT "subdomains".id FROM "subdomains" WHERE ("subdomains"."url" = 'mainsub' AND "subdomains".domain_id = 1 AND "subdomains".id <> 2053932786) LIMIT 1[0m
  [4;35;1mSubdomain Load (0.1ms)[0m   [0mSELECT "subdomains".id FROM "subdomains" WHERE ("subdomains"."path" = 'mainsub' AND "subdomains".domain_id = 1 AND "subdomains".id <> 2053932786) LIMIT 1[0m
  [4;36;1mSubdomain Load (0.2ms)[0m   [0;1mSELECT * FROM "subdomains" WHERE ("subdomains"."mainsub" = 't' AND "subdomains"."domain_id" = 1) LIMIT 1[0m
  [4;35;1mSubdomain Load (0.3ms)[0m   [0mSELECT * FROM "subdomains" WHERE ("subdomains".domain_id = 1) [0m
  [4;36;1mSubdomain Load (0.2ms)[0m   [0;1mSELECT * FROM "subdomains" WHERE ("subdomains"."id" = 2053932785) [0m
  [4;35;1mDomain Load (0.2ms)[0m   [0mSELECT * FROM "domains" WHERE ("domains"."id" = 1) [0m
  [4;36;1mSubdomain Load (0.1ms)[0m   [0;1mSELECT "subdomains".id FROM "subdomains" WHERE ("subdomains"."url" = 'www' AND "subdomains".domain_id = 1 AND "subdomains".id <> 2053932785) LIMIT 1[0m
  [4;35;1mSubdomain Load (0.1ms)[0m   [0mSELECT "subdomains".id FROM "subdomains" WHERE ("subdomains"."path" = '' AND "subdomains".domain_id = 1 AND "subdomains".id <> 2053932785) LIMIT 1[0m
  [4;36;1mSubdomain Load (0.2ms)[0m   [0;1mSELECT * FROM "subdomains" WHERE ("subdomains"."mainsub" = 't' AND "subdomains"."domain_id" = 1) LIMIT 1[0m
  [4;35;1mSubdomain Load (0.1ms)[0m   [0mSELECT "subdomains".id FROM "subdomains" WHERE ("subdomains"."url" = 'www' AND "subdomains".domain_id = 1 AND "subdomains".id <> 2053932785) LIMIT 1[0m
  [4;36;1mSubdomain Load (0.1ms)[0m   [0;1mSELECT "subdomains".id FROM "subdomains" WHERE ("subdomains"."path" = 'www' AND "subdomains".domain_id = 1 AND "subdomains".id <> 2053932785) LIMIT 1[0m
  [4;35;1mSubdomain Load (0.2ms)[0m   [0mSELECT * FROM "subdomains" WHERE ("subdomains"."mainsub" = 't' AND "subdomains"."domain_id" = 1) LIMIT 1[0m
  [4;36;1mSubdomain Load (0.2ms)[0m   [0;1mSELECT * FROM "subdomains" WHERE ("subdomains"."id" = 2053932785) [0m
  [4;35;1mDomain Load (0.1ms)[0m   [0mSELECT * FROM "domains" WHERE ("domains"."id" = 1) [0m
  [4;36;1mSubdomain Load (0.1ms)[0m   [0;1mSELECT "subdomains".id FROM "subdomains" WHERE ("subdomains"."url" = 'www' AND "subdomains".domain_id = 1 AND "subdomains".id <> 2053932785) LIMIT 1[0m
  [4;35;1mSubdomain Load (0.1ms)[0m   [0mSELECT "subdomains".id FROM "subdomains" WHERE ("subdomains"."path" = 'www' AND "subdomains".domain_id = 1 AND "subdomains".id <> 2053932785) LIMIT 1[0m
  [4;36;1mSubdomain Load (0.2ms)[0m   [0;1mSELECT * FROM "subdomains" WHERE ("subdomains"."mainsub" = 't' AND "subdomains"."domain_id" = 1) LIMIT 1[0m
  [4;35;1mSubdomain Load (0.2ms)[0m   [0mSELECT * FROM "subdomains" WHERE ("subdomains"."id" = 298486374) [0m
  [4;36;1mDomain Load (0.2ms)[0m   [0;1mSELECT * FROM "domains" WHERE ("domains"."id" = 1) [0m
  [4;35;1mSubdomain Load (0.1ms)[0m   [0mSELECT "subdomains".id FROM "subdomains" WHERE ("subdomains"."url" = 'test' AND "subdomains".domain_id = 1 AND "subdomains".id <> 298486374) LIMIT 1[0m
  [4;36;1mSubdomain Load (0.1ms)[0m   [0;1mSELECT "subdomains".id FROM "subdomains" WHERE ("subdomains"."path" = 'test-site' AND "subdomains".domain_id = 1 AND "subdomains".id <> 298486374) LIMIT 1[0m
  [4;35;1mSubdomain Load (0.2ms)[0m   [0mSELECT * FROM "subdomains" WHERE ("subdomains"."id" = 298486374) [0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT "users".id FROM "users" WHERE ("users"."username" = 'test1' AND "users".id <> 2) LIMIT 1[0m
  [4;35;1mService Load (0.1ms)[0m   [0mSELECT * FROM "services" INNER JOIN "services_users" ON "services".id = "services_users".service_id WHERE ("services_users".user_id = 2 ) [0m
  [4;36;1mService Load (0.1ms)[0m   [0;1mSELECT * FROM "services" INNER JOIN "services_users" ON "services".id = "services_users".service_id WHERE ("services_users".user_id = 1 ) [0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT "users".id FROM "users" WHERE ("users"."username" = 'test_email') LIMIT 1[0m
  [4;36;1mService Load (0.1ms)[0m   [0;1mSELECT * FROM "services" INNER JOIN "services_users" ON "services".id = "services_users".service_id WHERE ("services_users".user_id = 1 ) [0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT "users".id FROM "users" WHERE ("users"."username" = 'test_email') LIMIT 1[0m
  [4;36;1mUser Create (0.2ms)[0m   [0;1mINSERT INTO "users" ("max_bandwidth", "created_at", "max_space", "updated_at", "username", "used_space", "max_subusers", "full_name", "parent_id", "password", "email", "max_subdomains", "ohmd_password") VALUES(NULL, '2010-03-28 13:48:38', -1, '2010-03-28 13:48:38', 'test_email', 0, -1, NULL, 1, 'x', 'valid.with.dots_and-stuff@123.test.co.uk', -1, NULL)[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT "users".id FROM "users" WHERE ("users"."username" = 'test_email' AND "users".id <> 4) LIMIT 1[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT "users".id FROM "users" WHERE ("users"."username" = 'test_email' AND "users".id <> 4) LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT "users".id FROM "users" WHERE ("users"."username" = 'test_email' AND "users".id <> 4) LIMIT 1[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT "users".id FROM "users" WHERE ("users"."username" = 'test1' AND "users".id <> 2) LIMIT 1[0m
  [4;35;1mService Load (0.1ms)[0m   [0mSELECT * FROM "services" INNER JOIN "services_users" ON "services".id = "services_users".service_id WHERE ("services_users".user_id = 2 ) [0m
  [4;36;1mService Load (0.1ms)[0m   [0;1mSELECT * FROM "services" INNER JOIN "services_users" ON "services".id = "services_users".service_id WHERE ("services_users".user_id = 1 ) [0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM "users" WHERE ("users".parent_id = 2) [0m
  [4;36;1mDomain Load (0.1ms)[0m   [0;1mSELECT * FROM "domains" WHERE ("domains".user_id = 2) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM "users" WHERE ("users".parent_id = 2) [0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT "users".id FROM "users" WHERE ("users"."username" = 'quota tester') LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM "users" WHERE ("users".parent_id = 2) [0m
  [4;36;1mService Load (0.1ms)[0m   [0;1mSELECT * FROM "services" INNER JOIN "services_users" ON "services".id = "services_users".service_id WHERE ("services_users".user_id = 2 ) [0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT "users".id FROM "users" WHERE ("users"."username" IS NULL) LIMIT 1[0m
  [4;35;1mService Load (0.1ms)[0m   [0mSELECT * FROM "services" INNER JOIN "services_users" ON "services".id = "services_users".service_id WHERE ("services_users".user_id = 1 ) [0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT "users".id FROM "users" WHERE ("users"."username" = 'admin') LIMIT 1[0m
  [4;36;1mService Load (0.1ms)[0m   [0;1mSELECT * FROM "services" INNER JOIN "services_users" ON "services".id = "services_users".service_id WHERE ("services_users".user_id = 1 ) [0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT "users".id FROM "users" WHERE ("users"."username" = 'nobody') LIMIT 1[0m
  [4;36;1mUser Load (1.2ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT "users".id FROM "users" WHERE ("users"."username" = 'test1' AND "users".id <> 2) LIMIT 1[0m
  [4;35;1mService Load (0.1ms)[0m   [0mSELECT * FROM "services" INNER JOIN "services_users" ON "services".id = "services_users".service_id WHERE ("services_users".user_id = 2 ) [0m
  [4;36;1mService Load (0.1ms)[0m   [0;1mSELECT * FROM "services" INNER JOIN "services_users" ON "services".id = "services_users".service_id WHERE ("services_users".user_id = 1 ) [0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT "users".id FROM "users" WHERE ("users"."username" = 'test1') LIMIT 1[0m
  [4;35;1mService Load (0.1ms)[0m   [0mSELECT * FROM "services" INNER JOIN "services_users" ON "services".id = "services_users".service_id WHERE ("services_users".user_id = 1 ) [0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT "users".id FROM "users" WHERE ("users"."username" = 'ohmadmin' AND "users".id <> 1) LIMIT 1[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT "users".id FROM "users" WHERE ("users"."username" = 'test1' AND "users".id <> 2) LIMIT 1[0m
  [4;35;1mService Load (0.1ms)[0m   [0mSELECT * FROM "services" INNER JOIN "services_users" ON "services".id = "services_users".service_id WHERE ("services_users".user_id = 2 ) [0m
  [4;36;1mService Load (0.1ms)[0m   [0;1mSELECT * FROM "services" INNER JOIN "services_users" ON "services".id = "services_users".service_id WHERE ("services_users".user_id = 1 ) [0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 3) [0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT "users".id FROM "users" WHERE ("users"."username" = 'test2' AND "users".id <> 3) LIMIT 1[0m
  [4;36;1mService Load (0.1ms)[0m   [0;1mSELECT * FROM "services" INNER JOIN "services_users" ON "services".id = "services_users".service_id WHERE ("services_users".user_id = 3 ) [0m
  [4;35;1mService Load (0.1ms)[0m   [0mSELECT * FROM "services" INNER JOIN "services_users" ON "services".id = "services_users".service_id WHERE ("services_users".user_id = 1 ) [0m
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
  [4;35;1mLoggedUser Create (0.3ms)[0m   [0mINSERT INTO "logged_users" ("created_at", "session", "updated_at", "user_id", "ip", "session_ts") VALUES('2010-03-28 13:48:39', 'test session', '2010-03-28 13:48:39', 2, '0.0.0.0', '2010-03-28 13:48:39')[0m


Processing DashboardController#index (for 0.0.0.0 at 2010-03-28 15:48:39) [GET]
  Parameters: {"action"=>"index", "controller"=>"dashboard"}
  [4;36;1mLoggedUser Load (0.2ms)[0m   [0;1mSELECT * FROM "logged_users" WHERE ("logged_users"."ip" = '0.0.0.0' AND "logged_users"."session" = 'test session') LIMIT 1[0m
  [4;35;1mLoggedUser Update (0.1ms)[0m   [0mUPDATE "logged_users" SET "updated_at" = '2010-03-28 13:48:39', "session_ts" = '2010-03-28 13:48:39' WHERE "id" = 2053932786[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
Rendering template within layouts/ohm
Rendering dashboard/index
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM "users" WHERE ("users".parent_id = 2) [0m
  [4;36;1mDomain Load (0.1ms)[0m   [0;1mSELECT * FROM "domains" WHERE ("domains".user_id = 2) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM "domains" WHERE ("domains".user_id = 2) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM "services" INNER JOIN "services_users" ON "services".id = "services_users".service_id WHERE ("services_users".user_id = 2 ) [0m
  [4;35;1mService Load (0.1ms)[0m   [0mSELECT * FROM "services" INNER JOIN "services_users" ON "services".id = "services_users".service_id WHERE ("services_users".user_id = 2 ) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM "users" WHERE ("users".parent_id = 2) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM "users" WHERE ("users".parent_id = 2) [0m
Completed in 17ms (View: 12, DB: 5) | 200 OK [http://test.host/]


Processing DashboardController#index (for 0.0.0.0 at 2010-03-28 15:48:39) [GET]
  Parameters: {"action"=>"index", "controller"=>"dashboard"}
Redirected to http://test.host/login
Filter chain halted as [:authenticate] rendered_or_redirected.
Completed in 1ms (DB: 0) | 302 Found [http://test.host/]
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mLoggedUser Create (0.2ms)[0m   [0mINSERT INTO "logged_users" ("created_at", "session", "updated_at", "user_id", "ip", "session_ts") VALUES('2010-03-28 13:48:39', 'test session', '2010-03-28 13:48:39', 1, '0.0.0.0', '2010-03-28 13:48:39')[0m
  [4;36;1mService Load (0.2ms)[0m   [0;1mSELECT * FROM "services" WHERE ("services"."id" = 2053932785) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mINSERT INTO "services_users" ("service_id", "user_id") VALUES (2053932785, 1)[0m
  [4;36;1mService Load (0.1ms)[0m   [0;1mSELECT "services".id FROM "services" WHERE ("services"."name" = 'Service 1' AND "services".id <> 2053932785) LIMIT 1[0m
  [4;35;1mService Load (0.1ms)[0m   [0mSELECT "services".id FROM "services" WHERE ("services"."controller" = 'service_test_1' AND "services".id <> 2053932785) LIMIT 1[0m
  [4;36;1mDomain Load (0.2ms)[0m   [0;1mSELECT * FROM "domains" WHERE ("domains"."id" = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM "services" INNER JOIN "domains_services" ON "services".id = "domains_services".service_id WHERE ("domains_services".domain_id = 1 ) [0m


Processing DomainsController#addservice (for 0.0.0.0 at 2010-03-28 15:48:39) [POST]
  Parameters: {"action"=>"addservice", "domain_id"=>"1", "service_id"=>[2053932785], "controller"=>"domains"}
  [4;36;1mLoggedUser Load (0.2ms)[0m   [0;1mSELECT * FROM "logged_users" WHERE ("logged_users"."ip" = '0.0.0.0' AND "logged_users"."session" = 'test session') LIMIT 1[0m
  [4;35;1mLoggedUser Update (0.1ms)[0m   [0mUPDATE "logged_users" SET "updated_at" = '2010-03-28 13:48:39', "session_ts" = '2010-03-28 13:48:39' WHERE "id" = 2053932786[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mDomain Load (0.2ms)[0m   [0mSELECT * FROM "domains" WHERE ("domains"."id" = 1) [0m
  [4;36;1mService Load (0.2ms)[0m   [0;1mSELECT * FROM "services" WHERE ("services"."id" = 2053932785) [0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT "users".id FROM "users" INNER JOIN "services_users" ON "users".id = "services_users".user_id WHERE ("users"."id" = 1) AND ("services_users".service_id = 2053932785 ) LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mINSERT INTO "domains_services" ("domain_id", "service_id") VALUES (1, 2053932785)[0m
  [4;36;1mDomain Load (0.1ms)[0m   [0;1mSELECT "domains".id FROM "domains" WHERE ("domains"."domain" = 'test.com' AND "domains".id <> 1) LIMIT 1[0m
Redirected to http://test.host/service_test_1/addtodomain?domain_id=1&service_id=2053932785
Completed in 10ms (DB: 3) | 302 Found [http://test.host/domains/addservice?domain_id=1&service_id%5B%5D=2053932785]
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM "services" INNER JOIN "domains_services" ON "services".id = "domains_services".service_id WHERE ("domains_services".domain_id = 1 ) [0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
  [4;35;1mLoggedUser Create (0.2ms)[0m   [0mINSERT INTO "logged_users" ("created_at", "session", "updated_at", "user_id", "ip", "session_ts") VALUES('2010-03-28 13:48:39', 'test session', '2010-03-28 13:48:39', 2, '0.0.0.0', '2010-03-28 13:48:39')[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM "domains" [0m


Processing DomainsController#create (for 0.0.0.0 at 2010-03-28 15:48:39) [POST]
  Parameters: {"action"=>"create", "domain"=>{"domain"=>"newdom.com"}, "controller"=>"domains"}
  [4;35;1mLoggedUser Load (0.2ms)[0m   [0mSELECT * FROM "logged_users" WHERE ("logged_users"."ip" = '0.0.0.0' AND "logged_users"."session" = 'test session') LIMIT 1[0m
  [4;36;1mLoggedUser Update (0.1ms)[0m   [0;1mUPDATE "logged_users" SET "updated_at" = '2010-03-28 13:48:39', "session_ts" = '2010-03-28 13:48:39' WHERE "id" = 2053932786[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
  [4;36;1mDomain Load (0.1ms)[0m   [0;1mSELECT "domains".id FROM "domains" WHERE ("domains"."domain" = 'newdom.com') LIMIT 1[0m
  [4;35;1mDomain Create (0.1ms)[0m   [0mINSERT INTO "domains" ("created_at", "updated_at", "domain", "user_id") VALUES('2010-03-28 13:48:39', '2010-03-28 13:48:39', 'newdom.com', 2)[0m
  [4;36;1mSubdomain Load (0.1ms)[0m   [0;1mSELECT "subdomains".id FROM "subdomains" WHERE ("subdomains"."url" = 'www' AND "subdomains".domain_id = 2) LIMIT 1[0m
  [4;35;1mSubdomain Load (0.1ms)[0m   [0mSELECT "subdomains".id FROM "subdomains" WHERE ("subdomains"."path" = 'www' AND "subdomains".domain_id = 2) LIMIT 1[0m
  [4;36;1mSubdomain Load (0.1ms)[0m   [0;1mSELECT * FROM "subdomains" WHERE ("subdomains"."domain_id" = 2 AND "subdomains"."mainsub" = 't') LIMIT 1[0m
  [4;35;1mSubdomain Create (0.1ms)[0m   [0mINSERT INTO "subdomains" ("created_at", "updated_at", "url", "domain_id", "path", "mainsub") VALUES('2010-03-28 13:48:39', '2010-03-28 13:48:39', 'www', 2, 'www', 't')[0m
Redirected to http://test.host/domains/2
Completed in 12ms (DB: 2) | 302 Found [http://test.host/domains?domain%5Bdomain%5D=newdom.com]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM "domains" [0m
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mLoggedUser Create (0.1ms)[0m   [0;1mINSERT INTO "logged_users" ("created_at", "session", "updated_at", "user_id", "ip", "session_ts") VALUES('2010-03-28 13:48:39', 'test session', '2010-03-28 13:48:39', 1, '0.0.0.0', '2010-03-28 13:48:39')[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM "domains" [0m
  [4;36;1mDomain Load (0.1ms)[0m   [0;1mSELECT * FROM "domains" WHERE ("domains"."id" = 1) [0m


Processing DomainsController#destroy (for 0.0.0.0 at 2010-03-28 15:48:39) [DELETE]
  Parameters: {"action"=>"destroy", "id"=>"1", "controller"=>"domains"}
  [4;35;1mLoggedUser Load (0.2ms)[0m   [0mSELECT * FROM "logged_users" WHERE ("logged_users"."ip" = '0.0.0.0' AND "logged_users"."session" = 'test session') LIMIT 1[0m
  [4;36;1mLoggedUser Update (0.1ms)[0m   [0;1mUPDATE "logged_users" SET "updated_at" = '2010-03-28 13:48:39', "session_ts" = '2010-03-28 13:48:39' WHERE "id" = 2053932786[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mDomain Load (0.1ms)[0m   [0;1mSELECT * FROM "domains" WHERE ("domains"."id" = 1) [0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mSubdomain Load (0.3ms)[0m   [0;1mSELECT * FROM "subdomains" WHERE ("subdomains".domain_id = 1) [0m
  [4;35;1mSubdomain Destroy (0.1ms)[0m   [0mDELETE FROM "subdomains" WHERE "id" = 298486374[0m
  [4;36;1mSubdomain Destroy (0.1ms)[0m   [0;1mDELETE FROM "subdomains" WHERE "id" = 2053932785[0m
  [4;35;1mService Load (0.1ms)[0m   [0mSELECT * FROM "services" INNER JOIN "domains_services" ON "services".id = "domains_services".service_id WHERE ("domains_services".domain_id = 1 ) [0m
  [4;36;1mDomain Destroy (0.1ms)[0m   [0;1mDELETE FROM "domains" WHERE "id" = 1[0m
Redirected to http://test.host/domains
Completed in 6ms (DB: 2) | 302 Found [http://test.host/domains/1]
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM "domains" [0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
  [4;35;1mLoggedUser Create (0.2ms)[0m   [0mINSERT INTO "logged_users" ("created_at", "session", "updated_at", "user_id", "ip", "session_ts") VALUES('2010-03-28 13:48:39', 'test session', '2010-03-28 13:48:39', 2, '0.0.0.0', '2010-03-28 13:48:39')[0m


Processing DomainsController#index (for 0.0.0.0 at 2010-03-28 15:48:39) [GET]
  Parameters: {"action"=>"index", "controller"=>"domains"}
  [4;36;1mLoggedUser Load (0.2ms)[0m   [0;1mSELECT * FROM "logged_users" WHERE ("logged_users"."ip" = '0.0.0.0' AND "logged_users"."session" = 'test session') LIMIT 1[0m
  [4;35;1mLoggedUser Update (0.1ms)[0m   [0mUPDATE "logged_users" SET "updated_at" = '2010-03-28 13:48:39', "session_ts" = '2010-03-28 13:48:39' WHERE "id" = 2053932786[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
Rendering template within layouts/ohm
Rendering domains/index
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM "domains" WHERE ("domains".user_id = 2) [0m
  [4;36;1mDomain Load (0.1ms)[0m   [0;1mSELECT * FROM "domains" WHERE ("domains".user_id = 2) [0m
  [4;35;1mService Load (0.1ms)[0m   [0mSELECT * FROM "services" INNER JOIN "services_users" ON "services".id = "services_users".service_id WHERE ("services_users".user_id = 2 ) [0m
Completed in 10ms (View: 7, DB: 1) | 200 OK [http://test.host/domains]


Processing DomainsController#index (for 0.0.0.0 at 2010-03-28 15:48:39) [GET]
  Parameters: {"action"=>"index", "controller"=>"domains"}
Redirected to http://test.host/login
Filter chain halted as [:authenticate] rendered_or_redirected.
Completed in 0ms (DB: 0) | 302 Found [http://test.host/domains]
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
  [4;35;1mLoggedUser Create (0.2ms)[0m   [0mINSERT INTO "logged_users" ("created_at", "session", "updated_at", "user_id", "ip", "session_ts") VALUES('2010-03-28 13:48:39', 'test session', '2010-03-28 13:48:39', 2, '0.0.0.0', '2010-03-28 13:48:39')[0m


Processing DomainsController#new (for 0.0.0.0 at 2010-03-28 15:48:39) [GET]
  Parameters: {"action"=>"new", "controller"=>"domains"}
  [4;36;1mLoggedUser Load (0.2ms)[0m   [0;1mSELECT * FROM "logged_users" WHERE ("logged_users"."ip" = '0.0.0.0' AND "logged_users"."session" = 'test session') LIMIT 1[0m
  [4;35;1mLoggedUser Update (0.1ms)[0m   [0mUPDATE "logged_users" SET "updated_at" = '2010-03-28 13:48:39', "session_ts" = '2010-03-28 13:48:39' WHERE "id" = 2053932786[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
Rendering template within layouts/ohm
Rendering domains/new
  [4;35;1mService Load (0.1ms)[0m   [0mSELECT * FROM "services" INNER JOIN "services_users" ON "services".id = "services_users".service_id WHERE ("services_users".user_id = 2 ) [0m
Completed in 7ms (View: 5, DB: 1) | 200 OK [http://test.host/domains/new]
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
  [4;35;1mLoggedUser Create (0.2ms)[0m   [0mINSERT INTO "logged_users" ("created_at", "session", "updated_at", "user_id", "ip", "session_ts") VALUES('2010-03-28 13:48:39', 'test session', '2010-03-28 13:48:39', 2, '0.0.0.0', '2010-03-28 13:48:39')[0m
  [4;36;1mService Load (0.2ms)[0m   [0;1mSELECT * FROM "services" WHERE ("services"."id" = 2053932785) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mINSERT INTO "services_users" ("service_id", "user_id") VALUES (2053932785, 2)[0m
  [4;36;1mService Load (0.1ms)[0m   [0;1mSELECT "services".id FROM "services" WHERE ("services"."name" = 'Service 1' AND "services".id <> 2053932785) LIMIT 1[0m
  [4;35;1mService Load (0.1ms)[0m   [0mSELECT "services".id FROM "services" WHERE ("services"."controller" = 'service_test_1' AND "services".id <> 2053932785) LIMIT 1[0m
  [4;36;1mDomain Load (0.1ms)[0m   [0;1mSELECT * FROM "domains" WHERE ("domains"."id" = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM "services" INNER JOIN "domains_services" ON "services".id = "domains_services".service_id WHERE ("domains_services".domain_id = 1 ) [0m


Processing DomainsController#addservice (for 0.0.0.0 at 2010-03-28 15:48:39) [POST]
  Parameters: {"action"=>"addservice", "domain_id"=>"1", "service_id"=>[2053932785], "controller"=>"domains"}
  [4;36;1mLoggedUser Load (0.2ms)[0m   [0;1mSELECT * FROM "logged_users" WHERE ("logged_users"."ip" = '0.0.0.0' AND "logged_users"."session" = 'test session') LIMIT 1[0m
  [4;35;1mLoggedUser Update (0.1ms)[0m   [0mUPDATE "logged_users" SET "updated_at" = '2010-03-28 13:48:39', "session_ts" = '2010-03-28 13:48:39' WHERE "id" = 2053932786[0m
  [4;36;1mUser Load (3.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
  [4;35;1mDomain Load (0.2ms)[0m   [0mSELECT * FROM "domains" WHERE ("domains"."id" = 1) [0m
  [4;36;1mService Load (0.2ms)[0m   [0;1mSELECT * FROM "services" WHERE ("services"."id" = 2053932785) [0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
Redirected to http://test.host/domains
Completed in 7ms (DB: 5) | 302 Found [http://test.host/domains/addservice?domain_id=1&service_id%5B%5D=2053932785]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM "services" INNER JOIN "domains_services" ON "services".id = "domains_services".service_id WHERE ("domains_services".domain_id = 1 ) [0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
  [4;36;1mLoggedUser Create (0.2ms)[0m   [0;1mINSERT INTO "logged_users" ("created_at", "session", "updated_at", "user_id", "ip", "session_ts") VALUES('2010-03-28 13:48:39', 'test session', '2010-03-28 13:48:39', 2, '0.0.0.0', '2010-03-28 13:48:39')[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM "domains" [0m
  [4;36;1mDomain Load (0.2ms)[0m   [0;1mSELECT * FROM "domains" WHERE ("domains"."id" = 1) [0m


Processing DomainsController#destroy (for 0.0.0.0 at 2010-03-28 15:48:39) [DELETE]
  Parameters: {"action"=>"destroy", "id"=>"1", "controller"=>"domains"}
  [4;35;1mLoggedUser Load (0.2ms)[0m   [0mSELECT * FROM "logged_users" WHERE ("logged_users"."ip" = '0.0.0.0' AND "logged_users"."session" = 'test session') LIMIT 1[0m
  [4;36;1mLoggedUser Update (0.1ms)[0m   [0;1mUPDATE "logged_users" SET "updated_at" = '2010-03-28 13:48:39', "session_ts" = '2010-03-28 13:48:39' WHERE "id" = 2053932786[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
  [4;36;1mDomain Load (0.2ms)[0m   [0;1mSELECT * FROM "domains" WHERE ("domains"."id" = 1) [0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
Redirected to http://test.host/domains
Completed in 4ms (DB: 2) | 302 Found [http://test.host/domains/1]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM "domains" [0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
  [4;36;1mLoggedUser Create (0.1ms)[0m   [0;1mINSERT INTO "logged_users" ("created_at", "session", "updated_at", "user_id", "ip", "session_ts") VALUES('2010-03-28 13:48:39', 'test session', '2010-03-28 13:48:39', 2, '0.0.0.0', '2010-03-28 13:48:39')[0m
  [4;35;1mDomain Load (0.1ms)[0m   [0mSELECT * FROM "domains" WHERE ("domains"."id" = 1) [0m


Processing DomainsController#show (for 0.0.0.0 at 2010-03-28 15:48:39) [GET]
  Parameters: {"action"=>"show", "id"=>"1", "controller"=>"domains"}
  [4;36;1mLoggedUser Load (0.2ms)[0m   [0;1mSELECT * FROM "logged_users" WHERE ("logged_users"."ip" = '0.0.0.0' AND "logged_users"."session" = 'test session') LIMIT 1[0m
  [4;35;1mLoggedUser Update (0.1ms)[0m   [0mUPDATE "logged_users" SET "updated_at" = '2010-03-28 13:48:39', "session_ts" = '2010-03-28 13:48:39' WHERE "id" = 2053932786[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
  [4;35;1mDomain Load (0.1ms)[0m   [0mSELECT * FROM "domains" WHERE ("domains"."id" = 1) [0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
Redirected to http://test.host/domains
Completed in 4ms (DB: 2) | 302 Found [http://test.host/domains/1]
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mLoggedUser Create (0.2ms)[0m   [0;1mINSERT INTO "logged_users" ("created_at", "session", "updated_at", "user_id", "ip", "session_ts") VALUES('2010-03-28 13:48:39', 'test session', '2010-03-28 13:48:39', 1, '0.0.0.0', '2010-03-28 13:48:39')[0m
  [4;35;1mDomain Load (0.1ms)[0m   [0mSELECT * FROM "domains" WHERE ("domains"."id" = 1) [0m


Processing DomainsController#show (for 0.0.0.0 at 2010-03-28 15:48:39) [GET]
  Parameters: {"action"=>"show", "id"=>"1", "controller"=>"domains"}
  [4;36;1mLoggedUser Load (0.2ms)[0m   [0;1mSELECT * FROM "logged_users" WHERE ("logged_users"."ip" = '0.0.0.0' AND "logged_users"."session" = 'test session') LIMIT 1[0m
  [4;35;1mLoggedUser Update (0.1ms)[0m   [0mUPDATE "logged_users" SET "updated_at" = '2010-03-28 13:48:39', "session_ts" = '2010-03-28 13:48:39' WHERE "id" = 2053932786[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mDomain Load (0.1ms)[0m   [0mSELECT * FROM "domains" WHERE ("domains"."id" = 1) [0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
Rendering template within layouts/ohm
Rendering domains/show
  [4;35;1mSubdomain Load (0.4ms)[0m   [0mSELECT * FROM "subdomains" WHERE ("subdomains".domain_id = 1) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM "services" INNER JOIN "domains_services" ON "services".id = "domains_services".service_id WHERE ("domains_services".domain_id = 1 ) [0m
  [4;35;1mService Load (0.1ms)[0m   [0mSELECT * FROM "services" INNER JOIN "domains_services" ON "services".id = "domains_services".service_id WHERE ("domains_services".domain_id = 1 ) [0m
  [4;36;1mService Load (0.1ms)[0m   [0;1mSELECT * FROM "services" INNER JOIN "services_users" ON "services".id = "services_users".service_id WHERE ("services_users".user_id = 1 ) [0m
Rendered domains/_domain (15.2ms)
Completed in 25ms (View: 18, DB: 2) | 200 OK [http://test.host/domains/1]
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m


Processing LoginController#login (for 0.0.0.0 at 2010-03-28 15:48:39) [POST]
  Parameters: {"action"=>"login", "controller"=>"login", "user"=>#<User id: 2, username: "test1", password: "bad password", full_name: "Test User 1", email: "test1@test.com", parent_id: 1, created_at: "2010-03-28 13:48:39", updated_at: "2010-03-28 13:48:39", max_subdomains: 5, max_space: 500, max_bandwidth: nil, max_subusers: 5, used_space: 100, ohmd_password: nil>}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."username" = 'test1') LIMIT 1[0m
Redirected to http://test.host/login
Completed in 3ms (DB: 1) | 302 Found [http://test.host/login/login?user=2]
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m


Processing LoginController#login (for 0.0.0.0 at 2010-03-28 15:48:39) [POST]
  Parameters: {"action"=>"login", "controller"=>"login", "user"=>#<User id: 2, username: "test1", password: "test1", full_name: "Test User 1", email: "test1@test.com", parent_id: 1, created_at: "2010-03-28 13:48:39", updated_at: "2010-03-28 13:48:39", max_subdomains: 5, max_space: 500, max_bandwidth: nil, max_subusers: 5, used_space: 100, ohmd_password: nil>}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."username" = 'test1') LIMIT 1[0m
  [4;35;1mLoggedUser Create (0.2ms)[0m   [0mINSERT INTO "logged_users" ("created_at", "session", "updated_at", "user_id", "ip", "session_ts") VALUES('2010-03-28 13:48:39', '2a6b36b2d9b9d412ce40eaaec190a01c', '2010-03-28 13:48:39', 2, '0.0.0.0', '2010-03-28 13:48:39')[0m
Redirected to http://test.host/
Completed in 3ms (DB: 1) | 302 Found [http://test.host/login/login?user=2]


Processing LoginController#index (for 0.0.0.0 at 2010-03-28 15:48:39) [GET]
  Parameters: {"action"=>"index", "controller"=>"login"}
  [4;36;1mUser Load (0.5ms)[0m   [0;1mSELECT * FROM "users" [0m
Rendering template within layouts/ohm
Rendering login/index
Completed in 5ms (View: 4, DB: 1) | 200 OK [http://test.host/login]
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mLoggedUser Create (0.2ms)[0m   [0;1mINSERT INTO "logged_users" ("created_at", "session", "updated_at", "user_id", "ip", "session_ts") VALUES('2010-03-28 13:48:39', 'test session', '2010-03-28 13:48:39', 1, '0.0.0.0', '2010-03-28 13:48:39')[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM "service_email_mailboxes" [0m


Processing ServiceEmailMailboxesController#create (for 0.0.0.0 at 2010-03-28 15:48:39) [POST]
  Parameters: {"action"=>"create", "controller"=>"service_email_mailboxes", "service_email_mailbox"=>{"address"=>"newtest", "password_confirmation"=>"[FILTERED]", "domain_id"=>1, "password"=>"[FILTERED]"}}
  [4;36;1mLoggedUser Load (0.2ms)[0m   [0;1mSELECT * FROM "logged_users" WHERE ("logged_users"."ip" = '0.0.0.0' AND "logged_users"."session" = 'test session') LIMIT 1[0m
  [4;35;1mLoggedUser Update (0.1ms)[0m   [0mUPDATE "logged_users" SET "updated_at" = '2010-03-28 13:48:39', "session_ts" = '2010-03-28 13:48:39' WHERE "id" = 2053932786[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mServiceEmailUser Load (0.1ms)[0m   [0mSELECT * FROM "service_email_users" WHERE ("service_email_users"."user_id" = 1) LIMIT 1[0m
  [4;36;1mServiceEmailUser Load (0.1ms)[0m   [0;1mSELECT "service_email_users".id FROM "service_email_users" WHERE ("service_email_users"."user_id" = 1) LIMIT 1[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mServiceEmailUser Create (0.1ms)[0m   [0;1mINSERT INTO "service_email_users" ("created_at", "updated_at", "max_aliases", "user_id", "max_mailboxes") VALUES('2010-03-28 13:48:39', '2010-03-28 13:48:39', -1, 1, -1)[0m
  [4;35;1mDomain Load (0.3ms)[0m   [0mSELECT * FROM "domains" WHERE ("domains"."id" = 1) [0m
  [4;36;1mDomain Load (0.1ms)[0m   [0;1mSELECT "domains".id FROM "domains" WHERE ("domains"."id" = 1) AND ("domains".user_id = 1) LIMIT 1[0m
  [4;35;1mServiceEmailMailbox Load (0.1ms)[0m   [0mSELECT "service_email_mailboxes".id FROM "service_email_mailboxes" WHERE ("service_email_mailboxes"."address" = 'newtest' AND "service_email_mailboxes".domain_id = 1) LIMIT 1[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mServiceEmailMailbox Create (0.1ms)[0m   [0mINSERT INTO "service_email_mailboxes" ("address", "size", "created_at", "updated_at", "domain_id", "forward", "forward_only", "full_name", "password") VALUES('newtest', -1, '2010-03-28 13:48:39', '2010-03-28 13:48:39', 1, NULL, NULL, NULL, '$6$Um68t8tQ$Ngajrw3vnY.Er1EwQywjpt3GOxzroc6gkMbn0.ZRjngmo32.fIUymetH4cr7Jj28DUQVCzcc/3Ydd4ZeQYW83.')[0m
Redirected to http://test.host/service_email_mailboxes
Completed in 74ms (DB: 2) | 302 Found [http://test.host/service_email_mailboxes/create?service_email_mailbox%5Baddress%5D=newtest&service_email_mailbox%5Bdomain_id%5D=1&service_email_mailbox%5Bpassword%5D=newpass&service_email_mailbox%5Bpassword_confirmation%5D=newpass]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM "service_email_mailboxes" [0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mLoggedUser Create (0.2ms)[0m   [0;1mINSERT INTO "logged_users" ("created_at", "session", "updated_at", "user_id", "ip", "session_ts") VALUES('2010-03-28 13:48:39', 'test session', '2010-03-28 13:48:39', 1, '0.0.0.0', '2010-03-28 13:48:39')[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM "service_email_mailboxes" [0m
  [4;36;1mServiceEmailMailbox Load (0.2ms)[0m   [0;1mSELECT * FROM "service_email_mailboxes" WHERE ("service_email_mailboxes"."id" = 198609129) [0m


Processing ServiceEmailMailboxesController#destroy (for 0.0.0.0 at 2010-03-28 15:48:39) [DELETE]
  Parameters: {"action"=>"destroy", "id"=>"198609129", "controller"=>"service_email_mailboxes"}
  [4;35;1mLoggedUser Load (0.2ms)[0m   [0mSELECT * FROM "logged_users" WHERE ("logged_users"."ip" = '0.0.0.0' AND "logged_users"."session" = 'test session') LIMIT 1[0m
  [4;36;1mLoggedUser Update (0.1ms)[0m   [0;1mUPDATE "logged_users" SET "updated_at" = '2010-03-28 13:48:39', "session_ts" = '2010-03-28 13:48:39' WHERE "id" = 2053932786[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mServiceEmailUser Load (0.1ms)[0m   [0;1mSELECT * FROM "service_email_users" WHERE ("service_email_users"."user_id" = 1) LIMIT 1[0m
  [4;35;1mServiceEmailUser Load (0.1ms)[0m   [0mSELECT "service_email_users".id FROM "service_email_users" WHERE ("service_email_users"."user_id" = 1) LIMIT 1[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mServiceEmailUser Create (0.1ms)[0m   [0mINSERT INTO "service_email_users" ("created_at", "updated_at", "max_aliases", "user_id", "max_mailboxes") VALUES('2010-03-28 13:48:39', '2010-03-28 13:48:39', -1, 1, -1)[0m
  [4;36;1mServiceEmailMailbox Load (0.2ms)[0m   [0;1mSELECT * FROM "service_email_mailboxes" WHERE ("service_email_mailboxes"."id" = 198609129) [0m
  [4;35;1mDomain Load (0.2ms)[0m   [0mSELECT * FROM "domains" WHERE ("domains"."id" = 1) [0m
  [4;36;1mDomain Load (0.1ms)[0m   [0;1mSELECT "domains".id FROM "domains" WHERE ("domains"."id" = 1) AND ("domains".user_id = 1) LIMIT 1[0m
  [4;35;1mServiceEmailMailbox Destroy (0.1ms)[0m   [0mDELETE FROM "service_email_mailboxes" WHERE "id" = 198609129[0m
Redirected to http://test.host/service_email_mailboxes
Completed in 8ms (DB: 3) | 302 Found [http://test.host/service_email_mailboxes/destroy/198609129]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM "service_email_mailboxes" [0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mLoggedUser Create (0.1ms)[0m   [0;1mINSERT INTO "logged_users" ("created_at", "session", "updated_at", "user_id", "ip", "session_ts") VALUES('2010-03-28 13:48:39', 'test session', '2010-03-28 13:48:39', 1, '0.0.0.0', '2010-03-28 13:48:39')[0m
  [4;35;1mServiceEmailMailbox Load (0.2ms)[0m   [0mSELECT * FROM "service_email_mailboxes" WHERE ("service_email_mailboxes"."id" = 198609129) [0m


Processing ServiceEmailMailboxesController#edit (for 0.0.0.0 at 2010-03-28 15:48:39) [GET]
  Parameters: {"action"=>"edit", "id"=>"198609129", "controller"=>"service_email_mailboxes"}
  [4;36;1mLoggedUser Load (0.2ms)[0m   [0;1mSELECT * FROM "logged_users" WHERE ("logged_users"."ip" = '0.0.0.0' AND "logged_users"."session" = 'test session') LIMIT 1[0m
  [4;35;1mLoggedUser Update (0.1ms)[0m   [0mUPDATE "logged_users" SET "updated_at" = '2010-03-28 13:48:39', "session_ts" = '2010-03-28 13:48:39' WHERE "id" = 2053932786[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mServiceEmailUser Load (0.1ms)[0m   [0mSELECT * FROM "service_email_users" WHERE ("service_email_users"."user_id" = 1) LIMIT 1[0m
  [4;36;1mServiceEmailUser Load (0.1ms)[0m   [0;1mSELECT "service_email_users".id FROM "service_email_users" WHERE ("service_email_users"."user_id" = 1) LIMIT 1[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mServiceEmailUser Create (0.4ms)[0m   [0;1mINSERT INTO "service_email_users" ("created_at", "updated_at", "max_aliases", "user_id", "max_mailboxes") VALUES('2010-03-28 13:48:39', '2010-03-28 13:48:39', -1, 1, -1)[0m
  [4;35;1mServiceEmailMailbox Load (0.2ms)[0m   [0mSELECT * FROM "service_email_mailboxes" WHERE ("service_email_mailboxes"."id" = 198609129) [0m
  [4;36;1mDomain Load (0.1ms)[0m   [0;1mSELECT * FROM "domains" WHERE ("domains"."id" = 1) [0m
  [4;35;1mDomain Load (0.1ms)[0m   [0mSELECT "domains".id FROM "domains" WHERE ("domains"."id" = 1) AND ("domains".user_id = 1) LIMIT 1[0m
Rendering template within layouts/ohm
Rendering service_email_mailboxes/edit
  [4;36;1mService Load (0.1ms)[0m   [0;1mSELECT * FROM "services" INNER JOIN "services_users" ON "services".id = "services_users".service_id WHERE ("services_users".user_id = 1 ) [0m
Completed in 19ms (View: 11, DB: 3) | 200 OK [http://test.host/service_email_mailboxes/edit/198609129]
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
  [4;36;1mLoggedUser Create (0.2ms)[0m   [0;1mINSERT INTO "logged_users" ("created_at", "session", "updated_at", "user_id", "ip", "session_ts") VALUES('2010-03-28 13:48:39', 'test session', '2010-03-28 13:48:39', 2, '0.0.0.0', '2010-03-28 13:48:39')[0m


Processing ServiceEmailMailboxesController#index (for 0.0.0.0 at 2010-03-28 15:48:39) [GET]
  Parameters: {"action"=>"index", "controller"=>"service_email_mailboxes"}
  [4;35;1mLoggedUser Load (0.2ms)[0m   [0mSELECT * FROM "logged_users" WHERE ("logged_users"."ip" = '0.0.0.0' AND "logged_users"."session" = 'test session') LIMIT 1[0m
  [4;36;1mLoggedUser Update (0.1ms)[0m   [0;1mUPDATE "logged_users" SET "updated_at" = '2010-03-28 13:48:39', "session_ts" = '2010-03-28 13:48:39' WHERE "id" = 2053932786[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
  [4;36;1mServiceEmailUser Load (2.9ms)[0m   [0;1mSELECT * FROM "service_email_users" WHERE ("service_email_users"."user_id" = 2) LIMIT 1[0m
  [4;35;1mServiceEmailMailbox Load (0.3ms)[0m   [0mSELECT * FROM "service_email_mailboxes" [0m
Rendering template within layouts/ohm
Rendering service_email_mailboxes/index
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
  [4;35;1mDomain Load (0.1ms)[0m   [0mSELECT * FROM "domains" WHERE ("domains".user_id = 2) [0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users".parent_id = 2) [0m
  [4;35;1mDomain Load (0.1ms)[0m   [0mSELECT * FROM "domains" WHERE ("domains".user_id = 2) [0m
  [4;36;1mService Load (0.1ms)[0m   [0;1mSELECT * FROM "services" INNER JOIN "services_users" ON "services".id = "services_users".service_id WHERE ("services_users".user_id = 2 ) [0m
Completed in 14ms (View: 6, DB: 5) | 200 OK [http://test.host/service_email_mailboxes]


Processing ServiceEmailMailboxesController#index (for 0.0.0.0 at 2010-03-28 15:48:39) [GET]
  Parameters: {"action"=>"index", "controller"=>"service_email_mailboxes"}
Redirected to http://test.host/login
Filter chain halted as [:authenticate] rendered_or_redirected.
Completed in 0ms (DB: 0) | 302 Found [http://test.host/service_email_mailboxes]
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
  [4;36;1mLoggedUser Create (0.2ms)[0m   [0;1mINSERT INTO "logged_users" ("created_at", "session", "updated_at", "user_id", "ip", "session_ts") VALUES('2010-03-28 13:48:39', 'test session', '2010-03-28 13:48:39', 2, '0.0.0.0', '2010-03-28 13:48:39')[0m


Processing ServiceEmailMailboxesController#new (for 0.0.0.0 at 2010-03-28 15:48:39) [GET]
  Parameters: {"action"=>"new", "controller"=>"service_email_mailboxes"}
  [4;35;1mLoggedUser Load (0.2ms)[0m   [0mSELECT * FROM "logged_users" WHERE ("logged_users"."ip" = '0.0.0.0' AND "logged_users"."session" = 'test session') LIMIT 1[0m
  [4;36;1mLoggedUser Update (0.1ms)[0m   [0;1mUPDATE "logged_users" SET "updated_at" = '2010-03-28 13:48:39', "session_ts" = '2010-03-28 13:48:39' WHERE "id" = 2053932786[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
  [4;36;1mServiceEmailUser Load (0.2ms)[0m   [0;1mSELECT * FROM "service_email_users" WHERE ("service_email_users"."user_id" = 2) LIMIT 1[0m
Rendering template within layouts/ohm
Rendering service_email_mailboxes/new
  [4;35;1mDomain Load (0.1ms)[0m   [0mSELECT * FROM "domains" WHERE ("domains".user_id = 2) [0m
  [4;36;1mService Load (0.1ms)[0m   [0;1mSELECT * FROM "services" INNER JOIN "services_users" ON "services".id = "services_users".service_id WHERE ("services_users".user_id = 2 ) [0m
Completed in 14ms (View: 11, DB: 1) | 200 OK [http://test.host/service_email_mailboxes/new]
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
  [4;36;1mLoggedUser Create (0.2ms)[0m   [0;1mINSERT INTO "logged_users" ("created_at", "session", "updated_at", "user_id", "ip", "session_ts") VALUES('2010-03-28 13:48:39', 'test session', '2010-03-28 13:48:39', 2, '0.0.0.0', '2010-03-28 13:48:39')[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM "service_email_mailboxes" [0m


Processing ServiceEmailMailboxesController#create (for 0.0.0.0 at 2010-03-28 15:48:39) [POST]
  Parameters: {"action"=>"create", "controller"=>"service_email_mailboxes", "service_email_mailbox"=>{"address"=>"newtest", "password_confirmation"=>"[FILTERED]", "domain_id"=>1, "password"=>"[FILTERED]"}}
  [4;36;1mLoggedUser Load (0.2ms)[0m   [0;1mSELECT * FROM "logged_users" WHERE ("logged_users"."ip" = '0.0.0.0' AND "logged_users"."session" = 'test session') LIMIT 1[0m
  [4;35;1mLoggedUser Update (0.1ms)[0m   [0mUPDATE "logged_users" SET "updated_at" = '2010-03-28 13:48:39', "session_ts" = '2010-03-28 13:48:39' WHERE "id" = 2053932786[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
  [4;35;1mServiceEmailUser Load (0.2ms)[0m   [0mSELECT * FROM "service_email_users" WHERE ("service_email_users"."user_id" = 2) LIMIT 1[0m
  [4;36;1mDomain Load (0.1ms)[0m   [0;1mSELECT * FROM "domains" WHERE ("domains"."id" = 1) [0m
  [4;35;1mDomain Load (0.1ms)[0m   [0mSELECT "domains".id FROM "domains" WHERE ("domains"."id" = 1) AND ("domains".user_id = 2) LIMIT 1[0m
Rendering template within layouts/ohm
Rendering service_email_mailboxes/new
  [4;36;1mDomain Load (0.1ms)[0m   [0;1mSELECT * FROM "domains" WHERE ("domains".user_id = 2) [0m
  [4;35;1mService Load (0.1ms)[0m   [0mSELECT * FROM "services" INNER JOIN "services_users" ON "services".id = "services_users".service_id WHERE ("services_users".user_id = 2 ) [0m
Completed in 20ms (View: 13, DB: 2) | 200 OK [http://test.host/service_email_mailboxes/create?service_email_mailbox%5Baddress%5D=newtest&service_email_mailbox%5Bdomain_id%5D=1&service_email_mailbox%5Bpassword%5D=newpass&service_email_mailbox%5Bpassword_confirmation%5D=newpass]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM "service_email_mailboxes" [0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
  [4;36;1mLoggedUser Create (0.2ms)[0m   [0;1mINSERT INTO "logged_users" ("created_at", "session", "updated_at", "user_id", "ip", "session_ts") VALUES('2010-03-28 13:48:39', 'test session', '2010-03-28 13:48:39', 2, '0.0.0.0', '2010-03-28 13:48:39')[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM "service_email_mailboxes" [0m
  [4;36;1mServiceEmailMailbox Load (0.2ms)[0m   [0;1mSELECT * FROM "service_email_mailboxes" WHERE ("service_email_mailboxes"."id" = 198609129) [0m


Processing ServiceEmailMailboxesController#destroy (for 0.0.0.0 at 2010-03-28 15:48:39) [DELETE]
  Parameters: {"action"=>"destroy", "id"=>"198609129", "controller"=>"service_email_mailboxes"}
  [4;35;1mLoggedUser Load (0.2ms)[0m   [0mSELECT * FROM "logged_users" WHERE ("logged_users"."ip" = '0.0.0.0' AND "logged_users"."session" = 'test session') LIMIT 1[0m
  [4;36;1mLoggedUser Update (0.1ms)[0m   [0;1mUPDATE "logged_users" SET "updated_at" = '2010-03-28 13:48:39', "session_ts" = '2010-03-28 13:48:39' WHERE "id" = 2053932786[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
  [4;36;1mServiceEmailUser Load (0.2ms)[0m   [0;1mSELECT * FROM "service_email_users" WHERE ("service_email_users"."user_id" = 2) LIMIT 1[0m
  [4;35;1mServiceEmailMailbox Load (0.2ms)[0m   [0mSELECT * FROM "service_email_mailboxes" WHERE ("service_email_mailboxes"."id" = 198609129) [0m
  [4;36;1mDomain Load (0.2ms)[0m   [0;1mSELECT * FROM "domains" WHERE ("domains"."id" = 1) [0m
  [4;35;1mDomain Load (0.1ms)[0m   [0mSELECT "domains".id FROM "domains" WHERE ("domains"."id" = 1) AND ("domains".user_id = 2) LIMIT 1[0m
Redirected to http://test.host/service_email_mailboxes
Completed in 5ms (DB: 2) | 302 Found [http://test.host/service_email_mailboxes/destroy/198609129]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM "service_email_mailboxes" [0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
  [4;36;1mLoggedUser Create (0.1ms)[0m   [0;1mINSERT INTO "logged_users" ("created_at", "session", "updated_at", "user_id", "ip", "session_ts") VALUES('2010-03-28 13:48:39', 'test session', '2010-03-28 13:48:39', 2, '0.0.0.0', '2010-03-28 13:48:39')[0m
  [4;35;1mServiceEmailMailbox Load (2.9ms)[0m   [0mSELECT * FROM "service_email_mailboxes" WHERE ("service_email_mailboxes"."id" = 198609129) [0m


Processing ServiceEmailMailboxesController#edit (for 0.0.0.0 at 2010-03-28 15:48:39) [GET]
  Parameters: {"action"=>"edit", "id"=>"198609129", "controller"=>"service_email_mailboxes"}
  [4;36;1mLoggedUser Load (0.2ms)[0m   [0;1mSELECT * FROM "logged_users" WHERE ("logged_users"."ip" = '0.0.0.0' AND "logged_users"."session" = 'test session') LIMIT 1[0m
  [4;35;1mLoggedUser Update (0.1ms)[0m   [0mUPDATE "logged_users" SET "updated_at" = '2010-03-28 13:48:39', "session_ts" = '2010-03-28 13:48:39' WHERE "id" = 2053932786[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
  [4;35;1mServiceEmailUser Load (0.2ms)[0m   [0mSELECT * FROM "service_email_users" WHERE ("service_email_users"."user_id" = 2) LIMIT 1[0m
  [4;36;1mServiceEmailMailbox Load (0.2ms)[0m   [0;1mSELECT * FROM "service_email_mailboxes" WHERE ("service_email_mailboxes"."id" = 198609129) [0m
  [4;35;1mDomain Load (0.2ms)[0m   [0mSELECT * FROM "domains" WHERE ("domains"."id" = 1) [0m
  [4;36;1mDomain Load (0.1ms)[0m   [0;1mSELECT "domains".id FROM "domains" WHERE ("domains"."id" = 1) AND ("domains".user_id = 2) LIMIT 1[0m
Redirected to http://test.host/service_email_mailboxes
Completed in 5ms (DB: 5) | 302 Found [http://test.host/service_email_mailboxes/edit/198609129]
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
  [4;36;1mLoggedUser Create (0.2ms)[0m   [0;1mINSERT INTO "logged_users" ("created_at", "session", "updated_at", "user_id", "ip", "session_ts") VALUES('2010-03-28 13:48:39', 'test session', '2010-03-28 13:48:39', 2, '0.0.0.0', '2010-03-28 13:48:39')[0m
  [4;35;1mServiceEmailMailbox Load (0.2ms)[0m   [0mSELECT * FROM "service_email_mailboxes" WHERE ("service_email_mailboxes"."id" = 198609129) [0m


Processing ServiceEmailMailboxesController#update (for 0.0.0.0 at 2010-03-28 15:48:39) [PUT]
  Parameters: {"action"=>"update", "id"=>"198609129", "controller"=>"service_email_mailboxes", "service_email_mailbox"=>{}}
  [4;36;1mLoggedUser Load (0.2ms)[0m   [0;1mSELECT * FROM "logged_users" WHERE ("logged_users"."ip" = '0.0.0.0' AND "logged_users"."session" = 'test session') LIMIT 1[0m
  [4;35;1mLoggedUser Update (0.1ms)[0m   [0mUPDATE "logged_users" SET "updated_at" = '2010-03-28 13:48:39', "session_ts" = '2010-03-28 13:48:39' WHERE "id" = 2053932786[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
  [4;35;1mServiceEmailUser Load (0.2ms)[0m   [0mSELECT * FROM "service_email_users" WHERE ("service_email_users"."user_id" = 2) LIMIT 1[0m
  [4;36;1mServiceEmailMailbox Load (0.2ms)[0m   [0;1mSELECT * FROM "service_email_mailboxes" WHERE ("service_email_mailboxes"."id" = 198609129) [0m
  [4;35;1mDomain Load (0.2ms)[0m   [0mSELECT * FROM "domains" WHERE ("domains"."id" = 1) [0m
  [4;36;1mDomain Load (0.1ms)[0m   [0;1mSELECT "domains".id FROM "domains" WHERE ("domains"."id" = 1) AND ("domains".user_id = 2) LIMIT 1[0m
Redirected to http://test.host/service_email_mailboxes
Completed in 5ms (DB: 2) | 302 Found [http://test.host/service_email_mailboxes/update/198609129?]
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mLoggedUser Create (0.1ms)[0m   [0;1mINSERT INTO "logged_users" ("created_at", "session", "updated_at", "user_id", "ip", "session_ts") VALUES('2010-03-28 13:48:39', 'test session', '2010-03-28 13:48:39', 1, '0.0.0.0', '2010-03-28 13:48:39')[0m
  [4;35;1mServiceEmailMailbox Load (0.2ms)[0m   [0mSELECT * FROM "service_email_mailboxes" WHERE ("service_email_mailboxes"."id" = 198609129) [0m


Processing ServiceEmailMailboxesController#update (for 0.0.0.0 at 2010-03-28 15:48:39) [PUT]
  Parameters: {"action"=>"update", "id"=>"198609129", "controller"=>"service_email_mailboxes", "service_email_mailbox"=>{}}
  [4;36;1mLoggedUser Load (0.2ms)[0m   [0;1mSELECT * FROM "logged_users" WHERE ("logged_users"."ip" = '0.0.0.0' AND "logged_users"."session" = 'test session') LIMIT 1[0m
  [4;35;1mLoggedUser Update (0.1ms)[0m   [0mUPDATE "logged_users" SET "updated_at" = '2010-03-28 13:48:39', "session_ts" = '2010-03-28 13:48:39' WHERE "id" = 2053932786[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mServiceEmailUser Load (0.1ms)[0m   [0mSELECT * FROM "service_email_users" WHERE ("service_email_users"."user_id" = 1) LIMIT 1[0m
  [4;36;1mServiceEmailUser Load (0.1ms)[0m   [0;1mSELECT "service_email_users".id FROM "service_email_users" WHERE ("service_email_users"."user_id" = 1) LIMIT 1[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mServiceEmailUser Create (0.1ms)[0m   [0;1mINSERT INTO "service_email_users" ("created_at", "updated_at", "max_aliases", "user_id", "max_mailboxes") VALUES('2010-03-28 13:48:39', '2010-03-28 13:48:39', -1, 1, -1)[0m
  [4;35;1mServiceEmailMailbox Load (0.2ms)[0m   [0mSELECT * FROM "service_email_mailboxes" WHERE ("service_email_mailboxes"."id" = 198609129) [0m
  [4;36;1mDomain Load (0.1ms)[0m   [0;1mSELECT * FROM "domains" WHERE ("domains"."id" = 1) [0m
  [4;35;1mDomain Load (0.1ms)[0m   [0mSELECT "domains".id FROM "domains" WHERE ("domains"."id" = 1) AND ("domains".user_id = 1) LIMIT 1[0m
  [4;36;1mServiceEmailMailbox Load (0.1ms)[0m   [0;1mSELECT "service_email_mailboxes".id FROM "service_email_mailboxes" WHERE ("service_email_mailboxes"."address" = 'test' AND "service_email_mailboxes".domain_id = 1 AND "service_email_mailboxes".id <> 198609129) LIMIT 1[0m
Redirected to http://test.host/service_email_mailboxes
Completed in 9ms (DB: 2) | 302 Found [http://test.host/service_email_mailboxes/update/198609129?]
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mLoggedUser Create (0.2ms)[0m   [0;1mINSERT INTO "logged_users" ("created_at", "session", "updated_at", "user_id", "ip", "session_ts") VALUES('2010-03-28 13:48:39', 'test session', '2010-03-28 13:48:39', 1, '0.0.0.0', '2010-03-28 13:48:39')[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM "services" [0m
  [4;36;1mService Load (0.2ms)[0m   [0;1mSELECT * FROM "services" WHERE ("services"."id" = 2053932785) [0m


Processing ServicesController#destroy (for 0.0.0.0 at 2010-03-28 15:48:39) [DELETE]
  Parameters: {"action"=>"destroy", "id"=>"2053932785", "controller"=>"services"}
  [4;35;1mLoggedUser Load (0.2ms)[0m   [0mSELECT * FROM "logged_users" WHERE ("logged_users"."ip" = '0.0.0.0' AND "logged_users"."session" = 'test session') LIMIT 1[0m
  [4;36;1mLoggedUser Update (0.1ms)[0m   [0;1mUPDATE "logged_users" SET "updated_at" = '2010-03-28 13:48:39', "session_ts" = '2010-03-28 13:48:39' WHERE "id" = 2053932786[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mService Load (0.5ms)[0m   [0;1mSELECT * FROM "services" WHERE ("services"."id" = 2053932785) [0m
  [4;35;1mDomain Load (0.1ms)[0m   [0mSELECT * FROM "domains" INNER JOIN "domains_services" ON "domains".id = "domains_services".domain_id WHERE ("domains_services".service_id = 2053932785 ) [0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM "users" INNER JOIN "services_users" ON "users".id = "services_users".user_id WHERE ("services_users".service_id = 2053932785 ) [0m
  [4;35;1mService Destroy (0.1ms)[0m   [0mDELETE FROM "services" WHERE "id" = 2053932785[0m
Redirected to http://test.host/services
Completed in 6ms (DB: 2) | 302 Found [http://test.host/services/2053932785]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM "services" [0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mLoggedUser Create (0.2ms)[0m   [0;1mINSERT INTO "logged_users" ("created_at", "session", "updated_at", "user_id", "ip", "session_ts") VALUES('2010-03-28 13:48:39', 'test session', '2010-03-28 13:48:39', 1, '0.0.0.0', '2010-03-28 13:48:39')[0m
  [4;35;1mService Load (0.2ms)[0m   [0mSELECT * FROM "services" WHERE ("services"."id" = 2053932785) [0m


Processing ServicesController#edit (for 0.0.0.0 at 2010-03-28 15:48:39) [GET]
  Parameters: {"action"=>"edit", "id"=>"2053932785", "controller"=>"services"}
  [4;36;1mLoggedUser Load (0.2ms)[0m   [0;1mSELECT * FROM "logged_users" WHERE ("logged_users"."ip" = '0.0.0.0' AND "logged_users"."session" = 'test session') LIMIT 1[0m
  [4;35;1mLoggedUser Update (0.1ms)[0m   [0mUPDATE "logged_users" SET "updated_at" = '2010-03-28 13:48:39', "session_ts" = '2010-03-28 13:48:39' WHERE "id" = 2053932786[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mService Load (0.2ms)[0m   [0mSELECT * FROM "services" WHERE ("services"."id" = 2053932785) [0m
Rendering template within layouts/ohm
Rendering services/edit
  [4;36;1mService Load (0.1ms)[0m   [0;1mSELECT * FROM "services" INNER JOIN "services_users" ON "services".id = "services_users".service_id WHERE ("services_users".user_id = 1 ) [0m
Completed in 10ms (View: 7, DB: 2) | 200 OK [http://test.host/services/2053932785/edit]
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mLoggedUser Create (0.2ms)[0m   [0;1mINSERT INTO "logged_users" ("created_at", "session", "updated_at", "user_id", "ip", "session_ts") VALUES('2010-03-28 13:48:39', 'test session', '2010-03-28 13:48:39', 1, '0.0.0.0', '2010-03-28 13:48:39')[0m


Processing ServicesController#index (for 0.0.0.0 at 2010-03-28 15:48:39) [GET]
  Parameters: {"action"=>"index", "controller"=>"services"}
  [4;35;1mLoggedUser Load (0.2ms)[0m   [0mSELECT * FROM "logged_users" WHERE ("logged_users"."ip" = '0.0.0.0' AND "logged_users"."session" = 'test session') LIMIT 1[0m
  [4;36;1mLoggedUser Update (0.1ms)[0m   [0;1mUPDATE "logged_users" SET "updated_at" = '2010-03-28 13:48:39', "session_ts" = '2010-03-28 13:48:39' WHERE "id" = 2053932786[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mService Load (0.3ms)[0m   [0;1mSELECT * FROM "services" [0m
Rendering template within layouts/ohm
Rendering services/index
  [4;35;1mService Load (0.1ms)[0m   [0mSELECT * FROM "services" INNER JOIN "services_users" ON "services".id = "services_users".service_id WHERE ("services_users".user_id = 1 ) [0m
Completed in 12ms (View: 9, DB: 1) | 200 OK [http://test.host/services]


Processing ServicesController#index (for 0.0.0.0 at 2010-03-28 15:48:39) [GET]
  Parameters: {"action"=>"index", "controller"=>"services"}
Redirected to http://test.host/login
Filter chain halted as [:authenticate_root] rendered_or_redirected.
Completed in 0ms (DB: 0) | 302 Found [http://test.host/services]
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mLoggedUser Create (0.2ms)[0m   [0mINSERT INTO "logged_users" ("created_at", "session", "updated_at", "user_id", "ip", "session_ts") VALUES('2010-03-28 13:48:39', 'test session', '2010-03-28 13:48:39', 1, '0.0.0.0', '2010-03-28 13:48:39')[0m


Processing ServicesController#new (for 0.0.0.0 at 2010-03-28 15:48:39) [GET]
  Parameters: {"action"=>"new", "controller"=>"services"}
  [4;36;1mLoggedUser Load (0.2ms)[0m   [0;1mSELECT * FROM "logged_users" WHERE ("logged_users"."ip" = '0.0.0.0' AND "logged_users"."session" = 'test session') LIMIT 1[0m
  [4;35;1mLoggedUser Update (0.1ms)[0m   [0mUPDATE "logged_users" SET "updated_at" = '2010-03-28 13:48:39', "session_ts" = '2010-03-28 13:48:39' WHERE "id" = 2053932786[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
Rendering template within layouts/ohm
Rendering services/new
  [4;35;1mService Load (0.1ms)[0m   [0mSELECT * FROM "services" INNER JOIN "services_users" ON "services".id = "services_users".service_id WHERE ("services_users".user_id = 1 ) [0m
Completed in 7ms (View: 5, DB: 1) | 200 OK [http://test.host/services/new]
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
  [4;35;1mLoggedUser Create (0.2ms)[0m   [0mINSERT INTO "logged_users" ("created_at", "session", "updated_at", "user_id", "ip", "session_ts") VALUES('2010-03-28 13:48:39', 'test session', '2010-03-28 13:48:39', 2, '0.0.0.0', '2010-03-28 13:48:39')[0m


Processing ServicesController#index (for 0.0.0.0 at 2010-03-28 15:48:39) [GET]
  Parameters: {"action"=>"index", "controller"=>"services"}
  [4;36;1mLoggedUser Load (0.2ms)[0m   [0;1mSELECT * FROM "logged_users" WHERE ("logged_users"."ip" = '0.0.0.0' AND "logged_users"."session" = 'test session') LIMIT 1[0m
  [4;35;1mLoggedUser Update (0.1ms)[0m   [0mUPDATE "logged_users" SET "updated_at" = '2010-03-28 13:48:39', "session_ts" = '2010-03-28 13:48:39' WHERE "id" = 2053932786[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
Redirected to http://test.host/
Filter chain halted as [:authenticate_root] rendered_or_redirected.
Completed in 59ms (DB: 1) | 302 Found [http://test.host/services]
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
  [4;36;1mLoggedUser Create (0.2ms)[0m   [0;1mINSERT INTO "logged_users" ("created_at", "session", "updated_at", "user_id", "ip", "session_ts") VALUES('2010-03-28 13:48:39', 'test session', '2010-03-28 13:48:39', 2, '0.0.0.0', '2010-03-28 13:48:39')[0m


Processing ServicesController#new (for 0.0.0.0 at 2010-03-28 15:48:39) [GET]
  Parameters: {"action"=>"new", "controller"=>"services"}
  [4;35;1mLoggedUser Load (0.2ms)[0m   [0mSELECT * FROM "logged_users" WHERE ("logged_users"."ip" = '0.0.0.0' AND "logged_users"."session" = 'test session') LIMIT 1[0m
  [4;36;1mLoggedUser Update (0.1ms)[0m   [0;1mUPDATE "logged_users" SET "updated_at" = '2010-03-28 13:48:39', "session_ts" = '2010-03-28 13:48:39' WHERE "id" = 2053932786[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
Redirected to http://test.host/
Filter chain halted as [:authenticate_root] rendered_or_redirected.
Completed in 3ms (DB: 1) | 302 Found [http://test.host/services/new]
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
  [4;35;1mLoggedUser Create (0.2ms)[0m   [0mINSERT INTO "logged_users" ("created_at", "session", "updated_at", "user_id", "ip", "session_ts") VALUES('2010-03-28 13:48:39', 'test session', '2010-03-28 13:48:39', 2, '0.0.0.0', '2010-03-28 13:48:39')[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM "services" [0m
  [4;35;1mService Load (0.2ms)[0m   [0mSELECT * FROM "services" WHERE ("services"."id" = 2053932785) [0m


Processing ServicesController#destroy (for 0.0.0.0 at 2010-03-28 15:48:39) [DELETE]
  Parameters: {"action"=>"destroy", "id"=>"2053932785", "controller"=>"services"}
  [4;36;1mLoggedUser Load (0.2ms)[0m   [0;1mSELECT * FROM "logged_users" WHERE ("logged_users"."ip" = '0.0.0.0' AND "logged_users"."session" = 'test session') LIMIT 1[0m
  [4;35;1mLoggedUser Update (0.1ms)[0m   [0mUPDATE "logged_users" SET "updated_at" = '2010-03-28 13:48:39', "session_ts" = '2010-03-28 13:48:39' WHERE "id" = 2053932786[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
Redirected to http://test.host/
Filter chain halted as [:authenticate_root] rendered_or_redirected.
Completed in 3ms (DB: 1) | 302 Found [http://test.host/services/2053932785]
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM "services" [0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
  [4;35;1mLoggedUser Create (0.2ms)[0m   [0mINSERT INTO "logged_users" ("created_at", "session", "updated_at", "user_id", "ip", "session_ts") VALUES('2010-03-28 13:48:39', 'test session', '2010-03-28 13:48:39', 2, '0.0.0.0', '2010-03-28 13:48:39')[0m
  [4;36;1mService Load (0.2ms)[0m   [0;1mSELECT * FROM "services" WHERE ("services"."id" = 2053932785) [0m


Processing ServicesController#edit (for 0.0.0.0 at 2010-03-28 15:48:39) [GET]
  Parameters: {"action"=>"edit", "id"=>"2053932785", "controller"=>"services"}
  [4;35;1mLoggedUser Load (0.2ms)[0m   [0mSELECT * FROM "logged_users" WHERE ("logged_users"."ip" = '0.0.0.0' AND "logged_users"."session" = 'test session') LIMIT 1[0m
  [4;36;1mLoggedUser Update (0.1ms)[0m   [0;1mUPDATE "logged_users" SET "updated_at" = '2010-03-28 13:48:39', "session_ts" = '2010-03-28 13:48:39' WHERE "id" = 2053932786[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
Redirected to http://test.host/
Filter chain halted as [:authenticate_root] rendered_or_redirected.
Completed in 3ms (DB: 1) | 302 Found [http://test.host/services/2053932785/edit]
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
  [4;35;1mLoggedUser Create (0.2ms)[0m   [0mINSERT INTO "logged_users" ("created_at", "session", "updated_at", "user_id", "ip", "session_ts") VALUES('2010-03-28 13:48:39', 'test session', '2010-03-28 13:48:39', 2, '0.0.0.0', '2010-03-28 13:48:39')[0m
  [4;36;1mService Load (0.2ms)[0m   [0;1mSELECT * FROM "services" WHERE ("services"."id" = 2053932785) [0m


Processing ServicesController#show (for 0.0.0.0 at 2010-03-28 15:48:39) [GET]
  Parameters: {"action"=>"show", "id"=>"2053932785", "controller"=>"services"}
  [4;35;1mLoggedUser Load (0.2ms)[0m   [0mSELECT * FROM "logged_users" WHERE ("logged_users"."ip" = '0.0.0.0' AND "logged_users"."session" = 'test session') LIMIT 1[0m
  [4;36;1mLoggedUser Update (0.1ms)[0m   [0;1mUPDATE "logged_users" SET "updated_at" = '2010-03-28 13:48:39', "session_ts" = '2010-03-28 13:48:39' WHERE "id" = 2053932786[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
Redirected to http://test.host/
Filter chain halted as [:authenticate_root] rendered_or_redirected.
Completed in 3ms (DB: 1) | 302 Found [http://test.host/services/2053932785]
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
  [4;35;1mLoggedUser Create (0.1ms)[0m   [0mINSERT INTO "logged_users" ("created_at", "session", "updated_at", "user_id", "ip", "session_ts") VALUES('2010-03-28 13:48:39', 'test session', '2010-03-28 13:48:39', 2, '0.0.0.0', '2010-03-28 13:48:39')[0m
  [4;36;1mService Load (0.2ms)[0m   [0;1mSELECT * FROM "services" WHERE ("services"."id" = 2053932785) [0m


Processing ServicesController#update (for 0.0.0.0 at 2010-03-28 15:48:39) [PUT]
  Parameters: {"service"=>{}, "action"=>"update", "id"=>"2053932785", "controller"=>"services"}
  [4;35;1mLoggedUser Load (0.2ms)[0m   [0mSELECT * FROM "logged_users" WHERE ("logged_users"."ip" = '0.0.0.0' AND "logged_users"."session" = 'test session') LIMIT 1[0m
  [4;36;1mLoggedUser Update (0.1ms)[0m   [0;1mUPDATE "logged_users" SET "updated_at" = '2010-03-28 13:48:39', "session_ts" = '2010-03-28 13:48:39' WHERE "id" = 2053932786[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
Redirected to http://test.host/
Filter chain halted as [:authenticate_root] rendered_or_redirected.
Completed in 3ms (DB: 1) | 302 Found [http://test.host/services/2053932785?]
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mLoggedUser Create (0.2ms)[0m   [0mINSERT INTO "logged_users" ("created_at", "session", "updated_at", "user_id", "ip", "session_ts") VALUES('2010-03-28 13:48:39', 'test session', '2010-03-28 13:48:39', 1, '0.0.0.0', '2010-03-28 13:48:39')[0m
  [4;36;1mService Load (0.2ms)[0m   [0;1mSELECT * FROM "services" WHERE ("services"."id" = 2053932785) [0m


Processing ServicesController#show (for 0.0.0.0 at 2010-03-28 15:48:39) [GET]
  Parameters: {"action"=>"show", "id"=>"2053932785", "controller"=>"services"}
  [4;35;1mLoggedUser Load (0.2ms)[0m   [0mSELECT * FROM "logged_users" WHERE ("logged_users"."ip" = '0.0.0.0' AND "logged_users"."session" = 'test session') LIMIT 1[0m
  [4;36;1mLoggedUser Update (0.1ms)[0m   [0;1mUPDATE "logged_users" SET "updated_at" = '2010-03-28 13:48:39', "session_ts" = '2010-03-28 13:48:39' WHERE "id" = 2053932786[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mService Load (0.2ms)[0m   [0;1mSELECT * FROM "services" WHERE ("services"."id" = 2053932785) [0m
Rendering template within layouts/ohm
Rendering services/show
  [4;35;1mService Load (0.1ms)[0m   [0mSELECT * FROM "services" INNER JOIN "services_users" ON "services".id = "services_users".service_id WHERE ("services_users".user_id = 1 ) [0m
Completed in 7ms (View: 4, DB: 1) | 200 OK [http://test.host/services/2053932785]
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mLoggedUser Create (0.1ms)[0m   [0mINSERT INTO "logged_users" ("created_at", "session", "updated_at", "user_id", "ip", "session_ts") VALUES('2010-03-28 13:48:39', 'test session', '2010-03-28 13:48:39', 1, '0.0.0.0', '2010-03-28 13:48:39')[0m
  [4;36;1mService Load (0.2ms)[0m   [0;1mSELECT * FROM "services" WHERE ("services"."id" = 2053932785) [0m


Processing ServicesController#update (for 0.0.0.0 at 2010-03-28 15:48:39) [PUT]
  Parameters: {"service"=>{}, "action"=>"update", "id"=>"2053932785", "controller"=>"services"}
  [4;35;1mLoggedUser Load (0.2ms)[0m   [0mSELECT * FROM "logged_users" WHERE ("logged_users"."ip" = '0.0.0.0' AND "logged_users"."session" = 'test session') LIMIT 1[0m
  [4;36;1mLoggedUser Update (0.1ms)[0m   [0;1mUPDATE "logged_users" SET "updated_at" = '2010-03-28 13:48:39', "session_ts" = '2010-03-28 13:48:39' WHERE "id" = 2053932786[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mService Load (0.2ms)[0m   [0;1mSELECT * FROM "services" WHERE ("services"."id" = 2053932785) [0m
  [4;35;1mService Load (0.1ms)[0m   [0mSELECT "services".id FROM "services" WHERE ("services"."name" = 'Service 1' AND "services".id <> 2053932785) LIMIT 1[0m
  [4;36;1mService Load (0.1ms)[0m   [0;1mSELECT "services".id FROM "services" WHERE ("services"."controller" = 'service_test_1' AND "services".id <> 2053932785) LIMIT 1[0m
Redirected to http://test.host/services/2053932785
Completed in 5ms (DB: 2) | 302 Found [http://test.host/services/2053932785?]
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mLoggedUser Create (0.2ms)[0m   [0;1mINSERT INTO "logged_users" ("created_at", "session", "updated_at", "user_id", "ip", "session_ts") VALUES('2010-03-28 13:48:39', 'test session', '2010-03-28 13:48:39', 1, '0.0.0.0', '2010-03-28 13:48:39')[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM "subdomains" [0m
  [4;36;1mDomain Load (0.2ms)[0m   [0;1mSELECT * FROM "domains" WHERE ("domains"."id" = 1) [0m


Processing SubdomainsController#create (for 0.0.0.0 at 2010-03-28 15:48:39) [POST]
  Parameters: {"action"=>"create", "subdomain"=>{"url"=>"newsub", "domain"=>#<Domain id: 1, domain: "test.com", user_id: 1, created_at: "2010-03-28 13:48:39", updated_at: "2010-03-28 13:48:39">}, "controller"=>"subdomains"}
  [4;35;1mLoggedUser Load (0.2ms)[0m   [0mSELECT * FROM "logged_users" WHERE ("logged_users"."ip" = '0.0.0.0' AND "logged_users"."session" = 'test session') LIMIT 1[0m
  [4;36;1mLoggedUser Update (0.1ms)[0m   [0;1mUPDATE "logged_users" SET "updated_at" = '2010-03-28 13:48:39', "session_ts" = '2010-03-28 13:48:39' WHERE "id" = 2053932786[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mSubdomain Load (0.1ms)[0m   [0mSELECT "subdomains".id FROM "subdomains" WHERE ("subdomains"."url" = 'newsub' AND "subdomains".domain_id = 1) LIMIT 1[0m
  [4;36;1mSubdomain Load (0.1ms)[0m   [0;1mSELECT "subdomains".id FROM "subdomains" WHERE ("subdomains"."path" IS NULL AND "subdomains".domain_id = 1) LIMIT 1[0m
  [4;35;1mSubdomain Create (0.1ms)[0m   [0mINSERT INTO "subdomains" ("created_at", "updated_at", "url", "domain_id", "path", "mainsub") VALUES('2010-03-28 13:48:39', '2010-03-28 13:48:39', 'newsub', 1, NULL, 'f')[0m
Redirected to http://test.host/domains/1
Completed in 10ms (DB: 2) | 302 Found [http://test.host/subdomains?subdomain%5Bdomain%5D=1&subdomain%5Burl%5D=newsub]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM "subdomains" [0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mLoggedUser Create (0.2ms)[0m   [0;1mINSERT INTO "logged_users" ("created_at", "session", "updated_at", "user_id", "ip", "session_ts") VALUES('2010-03-28 13:48:39', 'test session', '2010-03-28 13:48:39', 1, '0.0.0.0', '2010-03-28 13:48:39')[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM "subdomains" [0m
  [4;36;1mSubdomain Load (0.2ms)[0m   [0;1mSELECT * FROM "subdomains" WHERE ("subdomains"."id" = 2053932785) [0m


Processing SubdomainsController#destroy (for 0.0.0.0 at 2010-03-28 15:48:39) [DELETE]
  Parameters: {"action"=>"destroy", "id"=>"2053932785", "controller"=>"subdomains"}
  [4;35;1mLoggedUser Load (0.2ms)[0m   [0mSELECT * FROM "logged_users" WHERE ("logged_users"."ip" = '0.0.0.0' AND "logged_users"."session" = 'test session') LIMIT 1[0m
  [4;36;1mLoggedUser Update (0.1ms)[0m   [0;1mUPDATE "logged_users" SET "updated_at" = '2010-03-28 13:48:39', "session_ts" = '2010-03-28 13:48:39' WHERE "id" = 2053932786[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mSubdomain Load (0.2ms)[0m   [0;1mSELECT * FROM "subdomains" WHERE ("subdomains"."id" = 2053932785) [0m
  [4;35;1mDomain Load (0.2ms)[0m   [0mSELECT * FROM "domains" WHERE ("domains"."id" = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM "subdomains" WHERE ("subdomains".domain_id = 1) [0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mSubdomain Load (0.3ms)[0m   [0;1mSELECT * FROM "subdomains" WHERE ("subdomains".domain_id = 1) [0m
  [4;35;1mSubdomain Update (0.1ms)[0m   [0mUPDATE "subdomains" SET "updated_at" = '2010-03-28 13:48:39', "mainsub" = 't' WHERE "id" = 298486374[0m
  [4;36;1mSubdomain Destroy (0.1ms)[0m   [0;1mDELETE FROM "subdomains" WHERE "id" = 2053932785[0m
Redirected to http://test.host/domains/1
Completed in 7ms (DB: 2) | 302 Found [http://test.host/subdomains/2053932785]
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM "subdomains" [0m
  [4;36;1mDomain Load (0.1ms)[0m   [0;1mSELECT * FROM "domains" WHERE ("domains"."id" = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM "subdomains" [0m
  [4;36;1mSubdomain Load (0.2ms)[0m   [0;1mSELECT * FROM "subdomains" WHERE ("subdomains"."id" = 298486374) [0m


Processing SubdomainsController#destroy (for 0.0.0.0 at 2010-03-28 15:48:39) [DELETE]
  Parameters: {"action"=>"destroy", "id"=>"298486374", "controller"=>"subdomains"}
  [4;35;1mLoggedUser Load (0.2ms)[0m   [0mSELECT * FROM "logged_users" WHERE ("logged_users"."ip" = '0.0.0.0' AND "logged_users"."session" = 'test session') LIMIT 1[0m
  [4;36;1mLoggedUser Update (0.1ms)[0m   [0;1mUPDATE "logged_users" SET "updated_at" = '2010-03-28 13:48:39', "session_ts" = '2010-03-28 13:48:39' WHERE "id" = 2053932786[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mSubdomain Load (0.2ms)[0m   [0;1mSELECT * FROM "subdomains" WHERE ("subdomains"."id" = 298486374) [0m
  [4;35;1mDomain Load (0.1ms)[0m   [0mSELECT * FROM "domains" WHERE ("domains"."id" = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM "subdomains" WHERE ("subdomains".domain_id = 1) [0m
Redirected to http://test.host/domains/1
Completed in 4ms (DB: 1) | 302 Found [http://test.host/subdomains/2053932785]
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM "subdomains" [0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mLoggedUser Create (0.2ms)[0m   [0mINSERT INTO "logged_users" ("created_at", "session", "updated_at", "user_id", "ip", "session_ts") VALUES('2010-03-28 13:48:39', 'test session', '2010-03-28 13:48:39', 1, '0.0.0.0', '2010-03-28 13:48:39')[0m
  [4;36;1mSubdomain Load (0.2ms)[0m   [0;1mSELECT * FROM "subdomains" WHERE ("subdomains"."id" = 2053932785) [0m


Processing SubdomainsController#edit (for 0.0.0.0 at 2010-03-28 15:48:39) [GET]
  Parameters: {"action"=>"edit", "id"=>"2053932785", "controller"=>"subdomains"}
  [4;35;1mLoggedUser Load (0.2ms)[0m   [0mSELECT * FROM "logged_users" WHERE ("logged_users"."ip" = '0.0.0.0' AND "logged_users"."session" = 'test session') LIMIT 1[0m
  [4;36;1mLoggedUser Update (0.1ms)[0m   [0;1mUPDATE "logged_users" SET "updated_at" = '2010-03-28 13:48:39', "session_ts" = '2010-03-28 13:48:39' WHERE "id" = 2053932786[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mSubdomain Load (0.2ms)[0m   [0;1mSELECT * FROM "subdomains" WHERE ("subdomains"."id" = 2053932785) [0m
  [4;35;1mDomain Load (0.2ms)[0m   [0mSELECT * FROM "domains" WHERE ("domains"."id" = 1) [0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
Rendering template within layouts/ohm
Rendering subdomains/edit
  [4;35;1mService Load (0.1ms)[0m   [0mSELECT * FROM "services" INNER JOIN "services_users" ON "services".id = "services_users".service_id WHERE ("services_users".user_id = 1 ) [0m
Completed in 12ms (View: 8, DB: 2) | 200 OK [http://test.host/subdomains/2053932785/edit]


Processing SubdomainsController#index (for 0.0.0.0 at 2010-03-28 15:48:39) [GET]
  Parameters: {"action"=>"index", "controller"=>"subdomains"}
Redirected to http://test.host/login
Filter chain halted as [:authenticate] rendered_or_redirected.
Completed in 0ms (DB: 0) | 302 Found [http://test.host/subdomains]
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mLoggedUser Create (0.2ms)[0m   [0mINSERT INTO "logged_users" ("created_at", "session", "updated_at", "user_id", "ip", "session_ts") VALUES('2010-03-28 13:48:39', 'test session', '2010-03-28 13:48:39', 1, '0.0.0.0', '2010-03-28 13:48:39')[0m
  [4;36;1mDomain Load (0.1ms)[0m   [0;1mSELECT * FROM "domains" WHERE ("domains"."id" = 1) [0m


Processing SubdomainsController#new (for 0.0.0.0 at 2010-03-28 15:48:39) [GET]
  Parameters: {"action"=>"new", "domain"=>"1", "controller"=>"subdomains"}
  [4;35;1mLoggedUser Load (0.2ms)[0m   [0mSELECT * FROM "logged_users" WHERE ("logged_users"."ip" = '0.0.0.0' AND "logged_users"."session" = 'test session') LIMIT 1[0m
  [4;36;1mLoggedUser Update (0.1ms)[0m   [0;1mUPDATE "logged_users" SET "updated_at" = '2010-03-28 13:48:39', "session_ts" = '2010-03-28 13:48:39' WHERE "id" = 2053932786[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mDomain Load (0.1ms)[0m   [0;1mSELECT * FROM "domains" WHERE ("domains"."id" = 1) [0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
Rendering template within layouts/ohm
Rendering subdomains/new
  [4;36;1mService Load (0.1ms)[0m   [0;1mSELECT * FROM "services" INNER JOIN "services_users" ON "services".id = "services_users".service_id WHERE ("services_users".user_id = 1 ) [0m
Completed in 13ms (View: 10, DB: 2) | 200 OK [http://test.host/subdomains/new?domain=1]
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
  [4;36;1mLoggedUser Create (0.2ms)[0m   [0;1mINSERT INTO "logged_users" ("created_at", "session", "updated_at", "user_id", "ip", "session_ts") VALUES('2010-03-28 13:48:39', 'test session', '2010-03-28 13:48:39', 2, '0.0.0.0', '2010-03-28 13:48:39')[0m
  [4;35;1mDomain Load (0.1ms)[0m   [0mSELECT * FROM "domains" WHERE ("domains"."id" = 1) [0m


Processing SubdomainsController#new (for 0.0.0.0 at 2010-03-28 15:48:39) [GET]
  Parameters: {"action"=>"new", "domain"=>"1", "controller"=>"subdomains"}
  [4;36;1mLoggedUser Load (0.2ms)[0m   [0;1mSELECT * FROM "logged_users" WHERE ("logged_users"."ip" = '0.0.0.0' AND "logged_users"."session" = 'test session') LIMIT 1[0m
  [4;35;1mLoggedUser Update (0.1ms)[0m   [0mUPDATE "logged_users" SET "updated_at" = '2010-03-28 13:48:39', "session_ts" = '2010-03-28 13:48:39' WHERE "id" = 2053932786[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
  [4;35;1mDomain Load (0.1ms)[0m   [0mSELECT * FROM "domains" WHERE ("domains"."id" = 1) [0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
Redirected to http://test.host/domains
Completed in 4ms (DB: 2) | 302 Found [http://test.host/subdomains/new?domain=1]
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
  [4;36;1mLoggedUser Create (0.1ms)[0m   [0;1mINSERT INTO "logged_users" ("created_at", "session", "updated_at", "user_id", "ip", "session_ts") VALUES('2010-03-28 13:48:39', 'test session', '2010-03-28 13:48:39', 2, '0.0.0.0', '2010-03-28 13:48:39')[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM "subdomains" [0m
  [4;36;1mDomain Load (0.2ms)[0m   [0;1mSELECT * FROM "domains" WHERE ("domains"."id" = 1) [0m


Processing SubdomainsController#create (for 0.0.0.0 at 2010-03-28 15:48:39) [POST]
  Parameters: {"action"=>"create", "subdomain"=>{"url"=>"newsub", "domain"=>#<Domain id: 1, domain: "test.com", user_id: 1, created_at: "2010-03-28 13:48:39", updated_at: "2010-03-28 13:48:39">}, "controller"=>"subdomains"}
  [4;35;1mLoggedUser Load (0.2ms)[0m   [0mSELECT * FROM "logged_users" WHERE ("logged_users"."ip" = '0.0.0.0' AND "logged_users"."session" = 'test session') LIMIT 1[0m
  [4;36;1mLoggedUser Update (0.1ms)[0m   [0;1mUPDATE "logged_users" SET "updated_at" = '2010-03-28 13:48:39', "session_ts" = '2010-03-28 13:48:39' WHERE "id" = 2053932786[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
Redirected to http://test.host/domains
Completed in 4ms (DB: 1) | 302 Found [http://test.host/subdomains?subdomain%5Bdomain%5D=1&subdomain%5Burl%5D=newsub]
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM "subdomains" [0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
  [4;35;1mLoggedUser Create (0.1ms)[0m   [0mINSERT INTO "logged_users" ("created_at", "session", "updated_at", "user_id", "ip", "session_ts") VALUES('2010-03-28 13:48:39', 'test session', '2010-03-28 13:48:39', 2, '0.0.0.0', '2010-03-28 13:48:39')[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM "subdomains" [0m
  [4;35;1mSubdomain Load (0.2ms)[0m   [0mSELECT * FROM "subdomains" WHERE ("subdomains"."id" = 2053932785) [0m


Processing SubdomainsController#destroy (for 0.0.0.0 at 2010-03-28 15:48:39) [DELETE]
  Parameters: {"action"=>"destroy", "id"=>"2053932785", "controller"=>"subdomains"}
  [4;36;1mLoggedUser Load (0.2ms)[0m   [0;1mSELECT * FROM "logged_users" WHERE ("logged_users"."ip" = '0.0.0.0' AND "logged_users"."session" = 'test session') LIMIT 1[0m
  [4;35;1mLoggedUser Update (0.1ms)[0m   [0mUPDATE "logged_users" SET "updated_at" = '2010-03-28 13:48:39', "session_ts" = '2010-03-28 13:48:39' WHERE "id" = 2053932786[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
  [4;35;1mSubdomain Load (0.2ms)[0m   [0mSELECT * FROM "subdomains" WHERE ("subdomains"."id" = 2053932785) [0m
  [4;36;1mDomain Load (0.1ms)[0m   [0;1mSELECT * FROM "domains" WHERE ("domains"."id" = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM "subdomains" WHERE ("subdomains".domain_id = 1) [0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
Redirected to http://test.host/domains
Completed in 5ms (DB: 2) | 302 Found [http://test.host/subdomains/2053932785]
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM "subdomains" [0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
  [4;35;1mLoggedUser Create (0.1ms)[0m   [0mINSERT INTO "logged_users" ("created_at", "session", "updated_at", "user_id", "ip", "session_ts") VALUES('2010-03-28 13:48:39', 'test session', '2010-03-28 13:48:39', 2, '0.0.0.0', '2010-03-28 13:48:39')[0m
  [4;36;1mSubdomain Load (0.2ms)[0m   [0;1mSELECT * FROM "subdomains" WHERE ("subdomains"."id" = 2053932785) [0m


Processing SubdomainsController#edit (for 0.0.0.0 at 2010-03-28 15:48:39) [GET]
  Parameters: {"action"=>"edit", "id"=>"2053932785", "controller"=>"subdomains"}
  [4;35;1mLoggedUser Load (0.2ms)[0m   [0mSELECT * FROM "logged_users" WHERE ("logged_users"."ip" = '0.0.0.0' AND "logged_users"."session" = 'test session') LIMIT 1[0m
  [4;36;1mLoggedUser Update (0.1ms)[0m   [0;1mUPDATE "logged_users" SET "updated_at" = '2010-03-28 13:48:39', "session_ts" = '2010-03-28 13:48:39' WHERE "id" = 2053932786[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
  [4;36;1mSubdomain Load (0.2ms)[0m   [0;1mSELECT * FROM "subdomains" WHERE ("subdomains"."id" = 2053932785) [0m
  [4;35;1mDomain Load (0.1ms)[0m   [0mSELECT * FROM "domains" WHERE ("domains"."id" = 1) [0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
Redirected to http://test.host/domains
Completed in 10ms (DB: 2) | 302 Found [http://test.host/subdomains/2053932785/edit]
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
  [4;36;1mLoggedUser Create (0.2ms)[0m   [0;1mINSERT INTO "logged_users" ("created_at", "session", "updated_at", "user_id", "ip", "session_ts") VALUES('2010-03-28 13:48:39', 'test session', '2010-03-28 13:48:39', 2, '0.0.0.0', '2010-03-28 13:48:39')[0m
  [4;35;1mSubdomain Load (0.2ms)[0m   [0mSELECT * FROM "subdomains" WHERE ("subdomains"."id" = 2053932785) [0m


Processing SubdomainsController#update (for 0.0.0.0 at 2010-03-28 15:48:39) [PUT]
  Parameters: {"action"=>"update", "id"=>"2053932785", "subdomain"=>{"url"=>"newurl"}, "controller"=>"subdomains"}
  [4;36;1mLoggedUser Load (0.2ms)[0m   [0;1mSELECT * FROM "logged_users" WHERE ("logged_users"."ip" = '0.0.0.0' AND "logged_users"."session" = 'test session') LIMIT 1[0m
  [4;35;1mLoggedUser Update (0.1ms)[0m   [0mUPDATE "logged_users" SET "updated_at" = '2010-03-28 13:48:40', "session_ts" = '2010-03-28 13:48:39' WHERE "id" = 2053932786[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
  [4;35;1mSubdomain Load (0.2ms)[0m   [0mSELECT * FROM "subdomains" WHERE ("subdomains"."id" = 2053932785) [0m
  [4;36;1mDomain Load (0.1ms)[0m   [0;1mSELECT * FROM "domains" WHERE ("domains"."id" = 1) [0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
Redirected to http://test.host/domains
Completed in 4ms (DB: 2) | 302 Found [http://test.host/subdomains/2053932785?subdomain%5Burl%5D=newurl]
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mLoggedUser Create (0.1ms)[0m   [0mINSERT INTO "logged_users" ("created_at", "session", "updated_at", "user_id", "ip", "session_ts") VALUES('2010-03-28 13:48:40', 'test session', '2010-03-28 13:48:40', 1, '0.0.0.0', '2010-03-28 13:48:40')[0m
  [4;36;1mDomain Load (0.2ms)[0m   [0;1mSELECT * FROM "domains" WHERE ("domains"."id" = 1) [0m


Processing SubdomainsController#update (for 0.0.0.0 at 2010-03-28 15:48:39) [PUT]
  Parameters: {"action"=>"update", "id"=>"2053932785", "subdomain"=>{"url"=>"newurl", "domain"=>#<Domain id: 1, domain: "test.com", user_id: 1, created_at: "2010-03-28 13:48:39", updated_at: "2010-03-28 13:48:39">}, "controller"=>"subdomains"}
  [4;35;1mLoggedUser Load (0.2ms)[0m   [0mSELECT * FROM "logged_users" WHERE ("logged_users"."ip" = '0.0.0.0' AND "logged_users"."session" = 'test session') LIMIT 1[0m
  [4;36;1mLoggedUser Update (0.1ms)[0m   [0;1mUPDATE "logged_users" SET "updated_at" = '2010-03-28 13:48:40', "session_ts" = '2010-03-28 13:48:40' WHERE "id" = 2053932786[0m
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
  [4;36;1mSubdomain Load (0.2ms)[0m   [0;1mSELECT * FROM "subdomains" WHERE ("subdomains"."id" = 2053932785) [0m
  [4;35;1mDomain Load (0.2ms)[0m   [0mSELECT * FROM "domains" WHERE ("domains"."id" = 1) [0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
Redirected to http://test.host/domains
Completed in 5ms (DB: 2) | 302 Found [http://test.host/subdomains/2053932785?subdomain%5Burl%5D=newurl]
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mLoggedUser Create (0.2ms)[0m   [0;1mINSERT INTO "logged_users" ("created_at", "session", "updated_at", "user_id", "ip", "session_ts") VALUES('2010-03-28 13:48:40', 'test session', '2010-03-28 13:48:40', 1, '0.0.0.0', '2010-03-28 13:48:40')[0m
  [4;35;1mSubdomain Load (0.2ms)[0m   [0mSELECT * FROM "subdomains" WHERE ("subdomains"."id" = 2053932785) [0m


Processing SubdomainsController#update (for 0.0.0.0 at 2010-03-28 15:48:40) [PUT]
  Parameters: {"action"=>"update", "id"=>"2053932785", "subdomain"=>{"url"=>"newurl"}, "controller"=>"subdomains"}
  [4;36;1mLoggedUser Load (0.2ms)[0m   [0;1mSELECT * FROM "logged_users" WHERE ("logged_users"."ip" = '0.0.0.0' AND "logged_users"."session" = 'test session') LIMIT 1[0m
  [4;35;1mLoggedUser Update (0.1ms)[0m   [0mUPDATE "logged_users" SET "updated_at" = '2010-03-28 13:48:40', "session_ts" = '2010-03-28 13:48:40' WHERE "id" = 2053932786[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mSubdomain Load (0.2ms)[0m   [0mSELECT * FROM "subdomains" WHERE ("subdomains"."id" = 2053932785) [0m
  [4;36;1mDomain Load (0.1ms)[0m   [0;1mSELECT * FROM "domains" WHERE ("domains"."id" = 1) [0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mSubdomain Load (0.1ms)[0m   [0;1mSELECT "subdomains".id FROM "subdomains" WHERE ("subdomains"."url" = 'newurl' AND "subdomains".domain_id = 1 AND "subdomains".id <> 2053932785) LIMIT 1[0m
  [4;35;1mSubdomain Load (0.1ms)[0m   [0mSELECT "subdomains".id FROM "subdomains" WHERE ("subdomains"."path" = 'www' AND "subdomains".domain_id = 1 AND "subdomains".id <> 2053932785) LIMIT 1[0m
  [4;36;1mSubdomain Load (0.2ms)[0m   [0;1mSELECT * FROM "subdomains" WHERE ("subdomains"."domain_id" = 1 AND "subdomains"."mainsub" = 't') LIMIT 1[0m
  [4;35;1mSubdomain Update (0.1ms)[0m   [0mUPDATE "subdomains" SET "updated_at" = '2010-03-28 13:48:40', "url" = 'newurl' WHERE "id" = 2053932785[0m
Redirected to http://test.host/domains/1
Completed in 7ms (DB: 2) | 302 Found [http://test.host/subdomains/2053932785?subdomain%5Burl%5D=newurl]
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mLoggedUser Create (0.2ms)[0m   [0mINSERT INTO "logged_users" ("created_at", "session", "updated_at", "user_id", "ip", "session_ts") VALUES('2010-03-28 13:48:40', 'test session', '2010-03-28 13:48:40', 1, '0.0.0.0', '2010-03-28 13:48:40')[0m
  [4;36;1mService Load (0.2ms)[0m   [0;1mSELECT * FROM "services" WHERE ("services"."id" = 2053932785) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mINSERT INTO "services_users" ("service_id", "user_id") VALUES (2053932785, 1)[0m
  [4;36;1mService Load (0.1ms)[0m   [0;1mSELECT "services".id FROM "services" WHERE ("services"."name" = 'Service 1' AND "services".id <> 2053932785) LIMIT 1[0m
  [4;35;1mService Load (20.6ms)[0m   [0mSELECT "services".id FROM "services" WHERE ("services"."controller" = 'service_test_1' AND "services".id <> 2053932785) LIMIT 1[0m
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM "services" INNER JOIN "services_users" ON "services".id = "services_users".service_id WHERE ("services_users".user_id = 2 ) [0m


Processing UsersController#addservice (for 0.0.0.0 at 2010-03-28 15:48:40) [POST]
  Parameters: {"action"=>"addservice", "service_id"=>[2053932785], "user_id"=>"2", "controller"=>"users"}
  [4;36;1mLoggedUser Load (0.2ms)[0m   [0;1mSELECT * FROM "logged_users" WHERE ("logged_users"."ip" = '0.0.0.0' AND "logged_users"."session" = 'test session') LIMIT 1[0m
  [4;35;1mLoggedUser Update (0.1ms)[0m   [0mUPDATE "logged_users" SET "updated_at" = '2010-03-28 13:48:40', "session_ts" = '2010-03-28 13:48:40' WHERE "id" = 2053932786[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
  [4;36;1mService Load (0.2ms)[0m   [0;1mSELECT * FROM "services" WHERE ("services"."id" = 2053932785) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mINSERT INTO "services_users" ("service_id", "user_id") VALUES (2053932785, 2)[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT "users".id FROM "users" WHERE ("users"."username" = 'test1' AND "users".id <> 2) LIMIT 1[0m
  [4;36;1mService Load (0.2ms)[0m   [0;1mSELECT * FROM "services" INNER JOIN "services_users" ON "services".id = "services_users".service_id WHERE ("services_users".user_id = 2 ) [0m
  [4;35;1mService Load (0.2ms)[0m   [0mSELECT * FROM "services" INNER JOIN "services_users" ON "services".id = "services_users".service_id WHERE ("services_users".user_id = 1 ) [0m
Redirected to http://test.host/service_test_1/addtouser?user_id=2
Completed in 15ms (DB: 24) | 302 Found [http://test.host/users/addservice?service_id%5B%5D=2053932785&user_id=2]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM "services" INNER JOIN "services_users" ON "services".id = "services_users".service_id WHERE ("services_users".user_id = 2 ) [0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mLoggedUser Create (0.2ms)[0m   [0;1mINSERT INTO "logged_users" ("created_at", "session", "updated_at", "user_id", "ip", "session_ts") VALUES('2010-03-28 13:48:40', 'test session', '2010-03-28 13:48:40', 1, '0.0.0.0', '2010-03-28 13:48:40')[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM "users" [0m


Processing UsersController#create (for 0.0.0.0 at 2010-03-28 15:48:40) [POST]
  Parameters: {"action"=>"create", "controller"=>"users", "user"=>{"username"=>"newuser", "password"=>"[FILTERED]", "email"=>"test@test.com"}}
  [4;36;1mLoggedUser Load (0.2ms)[0m   [0;1mSELECT * FROM "logged_users" WHERE ("logged_users"."ip" = '0.0.0.0' AND "logged_users"."session" = 'test session') LIMIT 1[0m
  [4;35;1mLoggedUser Update (0.1ms)[0m   [0mUPDATE "logged_users" SET "updated_at" = '2010-03-28 13:48:40', "session_ts" = '2010-03-28 13:48:40' WHERE "id" = 2053932786[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT "users".id FROM "users" WHERE ("users"."username" = 'newuser') LIMIT 1[0m
  [4;36;1mService Load (0.1ms)[0m   [0;1mSELECT * FROM "services" INNER JOIN "services_users" ON "services".id = "services_users".service_id WHERE ("services_users".user_id = 1 ) [0m
  [4;35;1mUser Create (0.1ms)[0m   [0mINSERT INTO "users" ("max_bandwidth", "created_at", "max_space", "updated_at", "username", "used_space", "max_subusers", "full_name", "parent_id", "password", "email", "max_subdomains", "ohmd_password") VALUES(NULL, '2010-03-28 13:48:40', -1, '2010-03-28 13:48:40', 'newuser', 0, -1, NULL, 1, 'newpassword', 'test@test.com', -1, NULL)[0m
Redirected to http://test.host/users/4
Completed in 8ms (DB: 2) | 302 Found [http://test.host/users?user%5Bemail%5D=test%40test.com&user%5Bpassword%5D=newpassword&user%5Busername%5D=newuser]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM "users" [0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
  [4;36;1mLoggedUser Create (0.1ms)[0m   [0;1mINSERT INTO "logged_users" ("created_at", "session", "updated_at", "user_id", "ip", "session_ts") VALUES('2010-03-28 13:48:40', 'test session', '2010-03-28 13:48:40', 2, '0.0.0.0', '2010-03-28 13:48:40')[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM "users" [0m


Processing UsersController#create (for 0.0.0.0 at 2010-03-28 15:48:40) [POST]
  Parameters: {"action"=>"create", "controller"=>"users", "user"=>{"max_space"=>100, "username"=>"secondnewuser", "max_subusers"=>1, "password"=>"[FILTERED]", "email"=>"test@test.com", "max_subdomains"=>1}}
  [4;36;1mLoggedUser Load (0.2ms)[0m   [0;1mSELECT * FROM "logged_users" WHERE ("logged_users"."ip" = '0.0.0.0' AND "logged_users"."session" = 'test session') LIMIT 1[0m
  [4;35;1mLoggedUser Update (0.1ms)[0m   [0mUPDATE "logged_users" SET "updated_at" = '2010-03-28 13:48:40', "session_ts" = '2010-03-28 13:48:40' WHERE "id" = 2053932786[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT "users".id FROM "users" WHERE ("users"."username" = 'secondnewuser') LIMIT 1[0m
  [4;36;1mService Load (0.1ms)[0m   [0;1mSELECT * FROM "services" INNER JOIN "services_users" ON "services".id = "services_users".service_id WHERE ("services_users".user_id = 1 ) [0m
  [4;35;1mUser Create (0.1ms)[0m   [0mINSERT INTO "users" ("max_bandwidth", "created_at", "max_space", "updated_at", "username", "used_space", "max_subusers", "full_name", "parent_id", "password", "email", "max_subdomains", "ohmd_password") VALUES(NULL, '2010-03-28 13:48:40', 100, '2010-03-28 13:48:40', 'secondnewuser', 0, 1, NULL, 1, 'newpassword', 'test@test.com', 1, NULL)[0m
Redirected to http://test.host/users/5
Completed in 8ms (DB: 1) | 302 Found [http://test.host/users?user%5Bemail%5D=test%40test.com&user%5Bpassword%5D=newpassword&user%5Busername%5D=newuser]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM "users" [0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mLoggedUser Create (0.2ms)[0m   [0;1mINSERT INTO "logged_users" ("created_at", "session", "updated_at", "user_id", "ip", "session_ts") VALUES('2010-03-28 13:48:40', 'test session', '2010-03-28 13:48:40', 1, '0.0.0.0', '2010-03-28 13:48:40')[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m


Processing UsersController#destroy (for 0.0.0.0 at 2010-03-28 15:48:40) [DELETE]
  Parameters: {"action"=>"destroy", "id"=>"2", "controller"=>"users"}
  [4;36;1mLoggedUser Load (0.2ms)[0m   [0;1mSELECT * FROM "logged_users" WHERE ("logged_users"."ip" = '0.0.0.0' AND "logged_users"."session" = 'test session') LIMIT 1[0m
  [4;35;1mLoggedUser Update (0.1ms)[0m   [0mUPDATE "logged_users" SET "updated_at" = '2010-03-28 13:48:40', "session_ts" = '2010-03-28 13:48:40' WHERE "id" = 2053932786[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mService Load (0.1ms)[0m   [0mSELECT * FROM "services" INNER JOIN "services_users" ON "services".id = "services_users".service_id WHERE ("services_users".user_id = 2 ) [0m
  [4;36;1mUser Destroy (0.1ms)[0m   [0;1mDELETE FROM "users" WHERE "id" = 2[0m
WARNING: Can't mass-assign these protected attributes: id
  [4;35;1mUser Create (0.1ms)[0m   [0mINSERT INTO "users" ("max_bandwidth", "created_at", "max_space", "updated_at", "username", "used_space", "max_subusers", "full_name", "parent_id", "password", "email", "max_subdomains", "ohmd_password") VALUES(NULL, '2010-03-28 13:48:40', NULL, '2010-03-28 13:48:40', 'test1', NULL, NULL, NULL, -1, NULL, NULL, NULL, NULL)[0m
Redirected to http://test.host/users
Completed in 6ms (DB: 2) | 302 Found [http://test.host/users/2]
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."username" = 'test1') LIMIT 1[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mLoggedUser Create (0.2ms)[0m   [0;1mINSERT INTO "logged_users" ("created_at", "session", "updated_at", "user_id", "ip", "session_ts") VALUES('2010-03-28 13:48:40', 'test session', '2010-03-28 13:48:40', 1, '0.0.0.0', '2010-03-28 13:48:40')[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m


Processing UsersController#edit (for 0.0.0.0 at 2010-03-28 15:48:40) [GET]
  Parameters: {"action"=>"edit", "id"=>"2", "controller"=>"users"}
  [4;36;1mLoggedUser Load (0.2ms)[0m   [0;1mSELECT * FROM "logged_users" WHERE ("logged_users"."ip" = '0.0.0.0' AND "logged_users"."session" = 'test session') LIMIT 1[0m
  [4;35;1mLoggedUser Update (0.1ms)[0m   [0mUPDATE "logged_users" SET "updated_at" = '2010-03-28 13:48:40', "session_ts" = '2010-03-28 13:48:40' WHERE "id" = 2053932786[0m
  [4;36;1mUser Load (3.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
Rendering template within layouts/ohm
Rendering users/edit
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM "users" WHERE ("users".parent_id = 2) [0m
  [4;36;1mDomain Load (0.1ms)[0m   [0;1mSELECT * FROM "domains" WHERE ("domains".user_id = 2) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM "users" WHERE ("users".parent_id = 2) [0m
  [4;36;1mService Load (0.1ms)[0m   [0;1mSELECT * FROM "services" INNER JOIN "services_users" ON "services".id = "services_users".service_id WHERE ("services_users".user_id = 1 ) [0m
Completed in 16ms (View: 9, DB: 5) | 200 OK [http://test.host/users/2/edit]
  [4;35;1mUser Load (0.5ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
  [4;36;1mLoggedUser Create (0.2ms)[0m   [0;1mINSERT INTO "logged_users" ("created_at", "session", "updated_at", "user_id", "ip", "session_ts") VALUES('2010-03-28 13:48:40', 'test session', '2010-03-28 13:48:40', 2, '0.0.0.0', '2010-03-28 13:48:40')[0m


Processing UsersController#index (for 0.0.0.0 at 2010-03-28 15:48:40) [GET]
  Parameters: {"action"=>"index", "controller"=>"users"}
  [4;35;1mLoggedUser Load (0.2ms)[0m   [0mSELECT * FROM "logged_users" WHERE ("logged_users"."ip" = '0.0.0.0' AND "logged_users"."session" = 'test session') LIMIT 1[0m
  [4;36;1mLoggedUser Update (0.1ms)[0m   [0;1mUPDATE "logged_users" SET "updated_at" = '2010-03-28 13:48:40', "session_ts" = '2010-03-28 13:48:40' WHERE "id" = 2053932786[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
Rendering template within layouts/ohm
Rendering users/index
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM "users" WHERE ("users".parent_id = 2) [0m
  [4;35;1mService Load (0.1ms)[0m   [0mSELECT * FROM "services" INNER JOIN "services_users" ON "services".id = "services_users".service_id WHERE ("services_users".user_id = 2 ) [0m
Completed in 7ms (View: 4, DB: 1) | 200 OK [http://test.host/users]


Processing UsersController#index (for 0.0.0.0 at 2010-03-28 15:48:40) [GET]
  Parameters: {"action"=>"index", "controller"=>"users"}
Redirected to http://test.host/login
Filter chain halted as [:authenticate] rendered_or_redirected.
Completed in 0ms (DB: 0) | 302 Found [http://test.host/users]
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
  [4;35;1mLoggedUser Create (0.2ms)[0m   [0mINSERT INTO "logged_users" ("created_at", "session", "updated_at", "user_id", "ip", "session_ts") VALUES('2010-03-28 13:48:40', 'test session', '2010-03-28 13:48:40', 2, '0.0.0.0', '2010-03-28 13:48:40')[0m


Processing UsersController#new (for 0.0.0.0 at 2010-03-28 15:48:40) [GET]
  Parameters: {"action"=>"new", "controller"=>"users"}
  [4;36;1mLoggedUser Load (0.2ms)[0m   [0;1mSELECT * FROM "logged_users" WHERE ("logged_users"."ip" = '0.0.0.0' AND "logged_users"."session" = 'test session') LIMIT 1[0m
  [4;35;1mLoggedUser Update (0.1ms)[0m   [0mUPDATE "logged_users" SET "updated_at" = '2010-03-28 13:48:40', "session_ts" = '2010-03-28 13:48:40' WHERE "id" = 2053932786[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
Rendering template within layouts/ohm
Rendering users/new
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM "users" WHERE ("users".parent_id = 2) [0m
  [4;36;1mDomain Load (0.1ms)[0m   [0;1mSELECT * FROM "domains" WHERE ("domains".user_id = 2) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM "users" WHERE ("users".parent_id = 2) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM "users" WHERE ("users".parent_id = 2) [0m
  [4;35;1mService Load (0.1ms)[0m   [0mSELECT * FROM "services" INNER JOIN "services_users" ON "services".id = "services_users".service_id WHERE ("services_users".user_id = 2 ) [0m
Completed in 14ms (View: 11, DB: 2) | 200 OK [http://test.host/users/new]
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
  [4;35;1mLoggedUser Create (0.2ms)[0m   [0mINSERT INTO "logged_users" ("created_at", "session", "updated_at", "user_id", "ip", "session_ts") VALUES('2010-03-28 13:48:40', 'test session', '2010-03-28 13:48:40', 2, '0.0.0.0', '2010-03-28 13:48:40')[0m


Processing UsersController#profile (for 0.0.0.0 at 2010-03-28 15:48:40) [GET]
  Parameters: {"action"=>"profile", "controller"=>"users"}
  [4;36;1mLoggedUser Load (0.2ms)[0m   [0;1mSELECT * FROM "logged_users" WHERE ("logged_users"."ip" = '0.0.0.0' AND "logged_users"."session" = 'test session') LIMIT 1[0m
  [4;35;1mLoggedUser Update (0.1ms)[0m   [0mUPDATE "logged_users" SET "updated_at" = '2010-03-28 13:48:40', "session_ts" = '2010-03-28 13:48:40' WHERE "id" = 2053932786[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
Rendering template within layouts/ohm
Rendering users/profile
  [4;35;1mService Load (0.1ms)[0m   [0mSELECT * FROM "services" INNER JOIN "services_users" ON "services".id = "services_users".service_id WHERE ("services_users".user_id = 2 ) [0m
Completed in 14ms (View: 12, DB: 1) | 200 OK [http://test.host/users/profile]
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mLoggedUser Create (0.2ms)[0m   [0mINSERT INTO "logged_users" ("created_at", "session", "updated_at", "user_id", "ip", "session_ts") VALUES('2010-03-28 13:48:40', 'test session', '2010-03-28 13:48:40', 1, '0.0.0.0', '2010-03-28 13:48:40')[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m


Processing UsersController#login_as_me (for 0.0.0.0 at 2010-03-28 15:48:40) [POST]
  Parameters: {"action"=>"login_as_me", "id"=>"2", "controller"=>"users"}
  [4;35;1mLoggedUser Load (0.2ms)[0m   [0mSELECT * FROM "logged_users" WHERE ("logged_users"."ip" = '0.0.0.0' AND "logged_users"."session" = 'test session') LIMIT 1[0m
  [4;36;1mLoggedUser Update (0.1ms)[0m   [0;1mUPDATE "logged_users" SET "updated_at" = '2010-03-28 13:48:40', "session_ts" = '2010-03-28 13:48:40' WHERE "id" = 2053932786[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mLoggedUser Load (0.2ms)[0m   [0;1mSELECT * FROM "logged_users" WHERE ("logged_users"."ip" = '0.0.0.0' AND "logged_users"."session" = 'test session') LIMIT 1[0m
  [4;35;1mLoggedUser Update (0.1ms)[0m   [0mUPDATE "logged_users" SET "updated_at" = '2010-03-28 13:48:40', "session_ts" = '2010-03-28 13:48:40' WHERE "id" = 2053932786[0m
  [4;36;1mLoggedUser Update (0.1ms)[0m   [0;1mUPDATE "logged_users" SET "updated_at" = '2010-03-28 13:48:40', "user_id" = 2 WHERE "id" = 2053932786[0m
Redirected to http://test.host/
Completed in 6ms (DB: 2) | 302 Found [http://test.host/users/login_as_me/2]
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
  [4;36;1mLoggedUser Create (0.1ms)[0m   [0;1mINSERT INTO "logged_users" ("created_at", "session", "updated_at", "user_id", "ip", "session_ts") VALUES('2010-03-28 13:48:40', 'test session', '2010-03-28 13:48:40', 2, '0.0.0.0', '2010-03-28 13:48:40')[0m
  [4;35;1mService Load (0.2ms)[0m   [0mSELECT * FROM "services" WHERE ("services"."id" = 2053932785) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mINSERT INTO "services_users" ("service_id", "user_id") VALUES (2053932785, 2)[0m
  [4;35;1mService Load (0.1ms)[0m   [0mSELECT "services".id FROM "services" WHERE ("services"."name" = 'Service 1' AND "services".id <> 2053932785) LIMIT 1[0m
  [4;36;1mService Load (0.1ms)[0m   [0;1mSELECT "services".id FROM "services" WHERE ("services"."controller" = 'service_test_1' AND "services".id <> 2053932785) LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM "services" INNER JOIN "services_users" ON "services".id = "services_users".service_id WHERE ("services_users".user_id = 2 ) [0m


Processing UsersController#addservice (for 0.0.0.0 at 2010-03-28 15:48:40) [POST]
  Parameters: {"action"=>"addservice", "service_id"=>[2053932785], "user_id"=>"2", "controller"=>"users"}
  [4;36;1mLoggedUser Load (0.3ms)[0m   [0;1mSELECT * FROM "logged_users" WHERE ("logged_users"."ip" = '0.0.0.0' AND "logged_users"."session" = 'test session') LIMIT 1[0m
  [4;35;1mLoggedUser Update (0.1ms)[0m   [0mUPDATE "logged_users" SET "updated_at" = '2010-03-28 13:48:40', "session_ts" = '2010-03-28 13:48:40' WHERE "id" = 2053932786[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
  [4;36;1mService Load (0.2ms)[0m   [0;1mSELECT * FROM "services" WHERE ("services"."id" = 2053932785) [0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
Redirected to http://test.host/users
Completed in 4ms (DB: 2) | 302 Found [http://test.host/users/addservice?service_id%5B%5D=2053932785&user_id=2]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM "services" INNER JOIN "services_users" ON "services".id = "services_users".service_id WHERE ("services_users".user_id = 2 ) [0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
  [4;36;1mLoggedUser Create (0.2ms)[0m   [0;1mINSERT INTO "logged_users" ("created_at", "session", "updated_at", "user_id", "ip", "session_ts") VALUES('2010-03-28 13:48:40', 'test session', '2010-03-28 13:48:40', 2, '0.0.0.0', '2010-03-28 13:48:40')[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM "users" [0m


Processing UsersController#destroy (for 0.0.0.0 at 2010-03-28 15:48:40) [DELETE]
  Parameters: {"action"=>"destroy", "id"=>"2", "controller"=>"users"}
  [4;36;1mLoggedUser Load (0.2ms)[0m   [0;1mSELECT * FROM "logged_users" WHERE ("logged_users"."ip" = '0.0.0.0' AND "logged_users"."session" = 'test session') LIMIT 1[0m
  [4;35;1mLoggedUser Update (0.1ms)[0m   [0mUPDATE "logged_users" SET "updated_at" = '2010-03-28 13:48:40', "session_ts" = '2010-03-28 13:48:40' WHERE "id" = 2053932786[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
Redirected to http://test.host/users
Completed in 4ms (DB: 2) | 302 Found [http://test.host/users/2]
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM "users" [0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
  [4;35;1mLoggedUser Create (0.1ms)[0m   [0mINSERT INTO "logged_users" ("created_at", "session", "updated_at", "user_id", "ip", "session_ts") VALUES('2010-03-28 13:48:40', 'test session', '2010-03-28 13:48:40', 2, '0.0.0.0', '2010-03-28 13:48:40')[0m


Processing UsersController#edit (for 0.0.0.0 at 2010-03-28 15:48:40) [GET]
  Parameters: {"action"=>"edit", "id"=>"2", "controller"=>"users"}
  [4;36;1mLoggedUser Load (0.2ms)[0m   [0;1mSELECT * FROM "logged_users" WHERE ("logged_users"."ip" = '0.0.0.0' AND "logged_users"."session" = 'test session') LIMIT 1[0m
  [4;35;1mLoggedUser Update (0.1ms)[0m   [0mUPDATE "logged_users" SET "updated_at" = '2010-03-28 13:48:40', "session_ts" = '2010-03-28 13:48:40' WHERE "id" = 2053932786[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
Redirected to http://test.host/users
Completed in 4ms (DB: 2) | 302 Found [http://test.host/users/2/edit]
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
  [4;36;1mLoggedUser Create (0.2ms)[0m   [0;1mINSERT INTO "logged_users" ("created_at", "session", "updated_at", "user_id", "ip", "session_ts") VALUES('2010-03-28 13:48:40', 'test session', '2010-03-28 13:48:40', 2, '0.0.0.0', '2010-03-28 13:48:40')[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 3) [0m


Processing UsersController#login_as_me (for 0.0.0.0 at 2010-03-28 15:48:40) [POST]
  Parameters: {"action"=>"login_as_me", "id"=>"3", "controller"=>"users"}
  [4;36;1mLoggedUser Load (0.2ms)[0m   [0;1mSELECT * FROM "logged_users" WHERE ("logged_users"."ip" = '0.0.0.0' AND "logged_users"."session" = 'test session') LIMIT 1[0m
  [4;35;1mLoggedUser Update (0.1ms)[0m   [0mUPDATE "logged_users" SET "updated_at" = '2010-03-28 13:48:40', "session_ts" = '2010-03-28 13:48:40' WHERE "id" = 2053932786[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 3) [0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
Redirected to http://test.host/users
Completed in 4ms (DB: 2) | 302 Found [http://test.host/users/login_as_me/3]
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
  [4;36;1mLoggedUser Create (0.1ms)[0m   [0;1mINSERT INTO "logged_users" ("created_at", "session", "updated_at", "user_id", "ip", "session_ts") VALUES('2010-03-28 13:48:40', 'test session', '2010-03-28 13:48:40', 2, '0.0.0.0', '2010-03-28 13:48:40')[0m
  [4;35;1mService Load (0.2ms)[0m   [0mSELECT * FROM "services" WHERE ("services"."id" = 2053932785) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mINSERT INTO "services_users" ("service_id", "user_id") VALUES (2053932785, 2)[0m
  [4;35;1mService Load (0.1ms)[0m   [0mSELECT "services".id FROM "services" WHERE ("services"."name" = 'Service 1' AND "services".id <> 2053932785) LIMIT 1[0m
  [4;36;1mService Load (0.1ms)[0m   [0;1mSELECT "services".id FROM "services" WHERE ("services"."controller" = 'service_test_1' AND "services".id <> 2053932785) LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM "services" INNER JOIN "services_users" ON "services".id = "services_users".service_id WHERE ("services_users".user_id = 2 ) [0m


Processing UsersController#removeservice (for 0.0.0.0 at 2010-03-28 15:48:40) [POST]
  Parameters: {"action"=>"removeservice", "service_id"=>"2053932785", "user_id"=>"2", "controller"=>"users"}
  [4;36;1mLoggedUser Load (0.2ms)[0m   [0;1mSELECT * FROM "logged_users" WHERE ("logged_users"."ip" = '0.0.0.0' AND "logged_users"."session" = 'test session') LIMIT 1[0m
  [4;35;1mLoggedUser Update (0.1ms)[0m   [0mUPDATE "logged_users" SET "updated_at" = '2010-03-28 13:48:40', "session_ts" = '2010-03-28 13:48:40' WHERE "id" = 2053932786[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
  [4;36;1mService Load (0.2ms)[0m   [0;1mSELECT * FROM "services" WHERE ("services"."id" = 2053932785) [0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
Redirected to http://test.host/users
Completed in 4ms (DB: 2) | 302 Found [http://test.host/users/removeservice?service_id=2053932785&user_id=2]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM "services" INNER JOIN "services_users" ON "services".id = "services_users".service_id WHERE ("services_users".user_id = 2 ) [0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
  [4;36;1mLoggedUser Create (0.2ms)[0m   [0;1mINSERT INTO "logged_users" ("created_at", "session", "updated_at", "user_id", "ip", "session_ts") VALUES('2010-03-28 13:48:40', 'test session', '2010-03-28 13:48:40', 2, '0.0.0.0', '2010-03-28 13:48:40')[0m


Processing UsersController#show (for 0.0.0.0 at 2010-03-28 15:48:40) [GET]
  Parameters: {"action"=>"show", "id"=>"2", "controller"=>"users"}
  [4;35;1mLoggedUser Load (0.2ms)[0m   [0mSELECT * FROM "logged_users" WHERE ("logged_users"."ip" = '0.0.0.0' AND "logged_users"."session" = 'test session') LIMIT 1[0m
  [4;36;1mLoggedUser Update (0.1ms)[0m   [0;1mUPDATE "logged_users" SET "updated_at" = '2010-03-28 13:48:40', "session_ts" = '2010-03-28 13:48:40' WHERE "id" = 2053932786[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
Redirected to http://test.host/users
  [4;36;1mService Load (0.1ms)[0m   [0;1mSELECT * FROM "services" INNER JOIN "services_users" ON "services".id = "services_users".service_id WHERE ("services_users".user_id = 2 ) [0m
  [4;35;1mService Load (0.1ms)[0m   [0mSELECT * FROM "services" INNER JOIN "services_users" ON "services".id = "services_users".service_id WHERE ("services_users".user_id = 2 ) [0m
Completed in 5ms (DB: 2) | 302 Found [http://test.host/users/2]
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
  [4;35;1mLoggedUser Create (0.2ms)[0m   [0mINSERT INTO "logged_users" ("created_at", "session", "updated_at", "user_id", "ip", "session_ts") VALUES('2010-03-28 13:48:40', 'test session', '2010-03-28 13:48:40', 2, '0.0.0.0', '2010-03-28 13:48:40')[0m


Processing UsersController#update (for 0.0.0.0 at 2010-03-28 15:48:40) [PUT]
  Parameters: {"action"=>"update", "id"=>"2", "controller"=>"users", "user"=>{"full_name"=>"New name"}}
  [4;36;1mLoggedUser Load (0.2ms)[0m   [0;1mSELECT * FROM "logged_users" WHERE ("logged_users"."ip" = '0.0.0.0' AND "logged_users"."session" = 'test session') LIMIT 1[0m
  [4;35;1mLoggedUser Update (0.1ms)[0m   [0mUPDATE "logged_users" SET "updated_at" = '2010-03-28 13:48:40', "session_ts" = '2010-03-28 13:48:40' WHERE "id" = 2053932786[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
Redirected to http://test.host/users
Completed in 4ms (DB: 2) | 302 Found [http://test.host/users/2?user%5Bfull_name%5D=New+name]
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mLoggedUser Create (0.3ms)[0m   [0;1mINSERT INTO "logged_users" ("created_at", "session", "updated_at", "user_id", "ip", "session_ts") VALUES('2010-03-28 13:48:40', 'test session', '2010-03-28 13:48:40', 1, '0.0.0.0', '2010-03-28 13:48:40')[0m
  [4;35;1mService Load (0.2ms)[0m   [0mSELECT * FROM "services" WHERE ("services"."id" = 2053932785) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mINSERT INTO "services_users" ("service_id", "user_id") VALUES (2053932785, 1)[0m
  [4;35;1mService Load (0.1ms)[0m   [0mSELECT "services".id FROM "services" WHERE ("services"."name" = 'Service 1' AND "services".id <> 2053932785) LIMIT 1[0m
  [4;36;1mService Load (0.1ms)[0m   [0;1mSELECT "services".id FROM "services" WHERE ("services"."controller" = 'service_test_1' AND "services".id <> 2053932785) LIMIT 1[0m
  [4;35;1mUser Load (19.8ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mINSERT INTO "services_users" ("service_id", "user_id") VALUES (2053932785, 2)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM "services" INNER JOIN "services_users" ON "services".id = "services_users".service_id WHERE ("services_users".user_id = 2 ) [0m


Processing UsersController#removeservice (for 0.0.0.0 at 2010-03-28 15:48:40) [POST]
  Parameters: {"action"=>"removeservice", "service_id"=>"2053932785", "user_id"=>"2", "controller"=>"users"}
  [4;36;1mLoggedUser Load (0.2ms)[0m   [0;1mSELECT * FROM "logged_users" WHERE ("logged_users"."ip" = '0.0.0.0' AND "logged_users"."session" = 'test session') LIMIT 1[0m
  [4;35;1mLoggedUser Update (0.1ms)[0m   [0mUPDATE "logged_users" SET "updated_at" = '2010-03-28 13:48:40', "session_ts" = '2010-03-28 13:48:40' WHERE "id" = 2053932786[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
  [4;36;1mService Load (0.2ms)[0m   [0;1mSELECT * FROM "services" WHERE ("services"."id" = 2053932785) [0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mService Load (0.1ms)[0m   [0;1mSELECT "services".id FROM "services" INNER JOIN "services_users" ON "services".id = "services_users".service_id WHERE ("services"."id" = 2053932785) AND ("services_users".user_id = 1 ) LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mDELETE FROM "services_users" WHERE user_id = 2 AND service_id IN (2053932785)[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT "users".id FROM "users" WHERE ("users"."username" = 'test1' AND "users".id <> 2) LIMIT 1[0m
  [4;35;1mService Load (0.1ms)[0m   [0mSELECT * FROM "services" INNER JOIN "services_users" ON "services".id = "services_users".service_id WHERE ("services_users".user_id = 2 ) [0m
  [4;36;1mService Load (0.2ms)[0m   [0;1mSELECT * FROM "services" INNER JOIN "services_users" ON "services".id = "services_users".service_id WHERE ("services_users".user_id = 1 ) [0m
Redirected to http://test.host/service_test_1/removefromuser?user_id=2
Completed in 16ms (DB: 23) | 302 Found [http://test.host/users/removeservice?service_id=2053932785&user_id=2]
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM "services" INNER JOIN "services_users" ON "services".id = "services_users".service_id WHERE ("services_users".user_id = 2 ) [0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mLoggedUser Create (0.2ms)[0m   [0mINSERT INTO "logged_users" ("created_at", "session", "updated_at", "user_id", "ip", "session_ts") VALUES('2010-03-28 13:48:40', 'test session', '2010-03-28 13:48:40', 1, '0.0.0.0', '2010-03-28 13:48:40')[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m


Processing UsersController#show (for 0.0.0.0 at 2010-03-28 15:48:40) [GET]
  Parameters: {"action"=>"show", "id"=>"2", "controller"=>"users"}
  [4;35;1mLoggedUser Load (0.2ms)[0m   [0mSELECT * FROM "logged_users" WHERE ("logged_users"."ip" = '0.0.0.0' AND "logged_users"."session" = 'test session') LIMIT 1[0m
  [4;36;1mLoggedUser Update (0.1ms)[0m   [0;1mUPDATE "logged_users" SET "updated_at" = '2010-03-28 13:48:40', "session_ts" = '2010-03-28 13:48:40' WHERE "id" = 2053932786[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mService Load (0.3ms)[0m   [0;1mSELECT * FROM "services" [0m
  [4;35;1mService Load (0.1ms)[0m   [0mSELECT * FROM "services" INNER JOIN "services_users" ON "services".id = "services_users".service_id WHERE ("services_users".user_id = 2 ) [0m
Rendering template within layouts/ohm
Rendering users/show
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users".parent_id = 2) [0m
  [4;35;1mDomain Load (0.1ms)[0m   [0mSELECT * FROM "domains" WHERE ("domains".user_id = 2) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM "domains" WHERE ("domains".user_id = 2) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM "services" INNER JOIN "services_users" ON "services".id = "services_users".service_id WHERE ("services_users".user_id = 2 ) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM "users" WHERE ("users".parent_id = 2) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM "users" WHERE ("users".parent_id = 2) [0m
  [4;36;1mService Load (0.1ms)[0m   [0;1mSELECT * FROM "services" INNER JOIN "services_users" ON "services".id = "services_users".service_id WHERE ("services_users".user_id = 1 ) [0m
Completed in 16ms (View: 10, DB: 3) | 200 OK [http://test.host/users/2]
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
  [4;36;1mLoggedUser Create (0.2ms)[0m   [0;1mINSERT INTO "logged_users" ("created_at", "session", "updated_at", "user_id", "ip", "session_ts") VALUES('2010-03-28 13:48:40', 'test session', '2010-03-28 13:48:40', 2, '0.0.0.0', '2010-03-28 13:48:40')[0m


Processing UsersController#profileupdate (for 0.0.0.0 at 2010-03-28 15:48:40) [POST]
  Parameters: {"action"=>"profileupdate", "controller"=>"users", "user"=>{"full_name"=>"New Name"}}
  [4;35;1mLoggedUser Load (0.2ms)[0m   [0mSELECT * FROM "logged_users" WHERE ("logged_users"."ip" = '0.0.0.0' AND "logged_users"."session" = 'test session') LIMIT 1[0m
  [4;36;1mLoggedUser Update (0.1ms)[0m   [0;1mUPDATE "logged_users" SET "updated_at" = '2010-03-28 13:48:40', "session_ts" = '2010-03-28 13:48:40' WHERE "id" = 2053932786[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT "users".id FROM "users" WHERE ("users"."username" = 'test1' AND "users".id <> 2) LIMIT 1[0m
  [4;36;1mService Load (0.1ms)[0m   [0;1mSELECT * FROM "services" INNER JOIN "services_users" ON "services".id = "services_users".service_id WHERE ("services_users".user_id = 2 ) [0m
  [4;35;1mService Load (0.1ms)[0m   [0mSELECT * FROM "services" INNER JOIN "services_users" ON "services".id = "services_users".service_id WHERE ("services_users".user_id = 1 ) [0m
  [4;36;1mUser Update (0.1ms)[0m   [0;1mUPDATE "users" SET "updated_at" = '2010-03-28 13:48:40', "full_name" = 'New Name' WHERE "id" = 2[0m
Redirected to http://test.host/
Completed in 8ms (DB: 2) | 302 Found [http://test.host/users/profileupdate?user%5Bfull_name%5D=New+Name]
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mLoggedUser Create (0.1ms)[0m   [0;1mINSERT INTO "logged_users" ("created_at", "session", "updated_at", "user_id", "ip", "session_ts") VALUES('2010-03-28 13:48:40', 'test session', '2010-03-28 13:48:40', 1, '0.0.0.0', '2010-03-28 13:48:40')[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m


Processing UsersController#update (for 0.0.0.0 at 2010-03-28 15:48:40) [PUT]
  Parameters: {"action"=>"update", "id"=>"2", "controller"=>"users", "user"=>{"full_name"=>"New name"}}
  [4;36;1mLoggedUser Load (0.2ms)[0m   [0;1mSELECT * FROM "logged_users" WHERE ("logged_users"."ip" = '0.0.0.0' AND "logged_users"."session" = 'test session') LIMIT 1[0m
  [4;35;1mLoggedUser Update (0.1ms)[0m   [0mUPDATE "logged_users" SET "updated_at" = '2010-03-28 13:48:40', "session_ts" = '2010-03-28 13:48:40' WHERE "id" = 2053932786[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT "users".id FROM "users" WHERE ("users"."username" = 'test1' AND "users".id <> 2) LIMIT 1[0m
  [4;36;1mService Load (0.1ms)[0m   [0;1mSELECT * FROM "services" INNER JOIN "services_users" ON "services".id = "services_users".service_id WHERE ("services_users".user_id = 2 ) [0m
  [4;35;1mService Load (0.1ms)[0m   [0mSELECT * FROM "services" INNER JOIN "services_users" ON "services".id = "services_users".service_id WHERE ("services_users".user_id = 1 ) [0m
  [4;36;1mUser Update (0.1ms)[0m   [0;1mUPDATE "users" SET "updated_at" = '2010-03-28 13:48:40', "full_name" = 'New name' WHERE "id" = 2[0m
Redirected to http://test.host/users/2
Completed in 11ms (DB: 2) | 302 Found [http://test.host/users/2?user%5Bfull_name%5D=New+name]
  [4;36;1mDomain Load (0.6ms)[0m   [0;1mSELECT * FROM "domains" WHERE ("domains"."id" = 1) [0m
  [4;35;1mUser Load (0.8ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
  [4;36;1mDomain Load (0.2ms)[0m   [0;1mSELECT "domains".id FROM "domains" WHERE ("domains"."domain" = 'test.com') LIMIT 1[0m
  [4;35;1mDomain Load (0.1ms)[0m   [0mSELECT "domains".id FROM "domains" WHERE ("domains"."domain" IS NULL) LIMIT 1[0m
  [4;36;1mDomain Load (0.2ms)[0m   [0;1mSELECT * FROM "domains" WHERE ("domains"."id" = 1) [0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mDomain Load (0.1ms)[0m   [0;1mSELECT "domains".id FROM "domains" WHERE ("domains"."domain" = 'test.com' AND "domains".id <> 1) LIMIT 1[0m
  [4;35;1mLoggedUser Load (0.2ms)[0m   [0mSELECT * FROM "logged_users" WHERE ("logged_users"."id" = 2053932785) [0m
  [4;36;1mLoggedUser Load (0.3ms)[0m   [0;1mSELECT * FROM "logged_users" WHERE ("logged_users"."id" = 2053932785) [0m
  [4;35;1mLoggedUser Load (0.2ms)[0m   [0mSELECT * FROM "logged_users" WHERE ("logged_users"."id" = 2053932785) [0m
  [4;36;1mServiceEmailMailbox Load (0.2ms)[0m   [0;1mSELECT * FROM "service_email_mailboxes" WHERE ("service_email_mailboxes"."id" = 198609129) [0m
  [4;35;1mServiceEmailMailbox Load (0.1ms)[0m   [0mSELECT "service_email_mailboxes".id FROM "service_email_mailboxes" WHERE ("service_email_mailboxes"."address" = 'valid.email_address-ok' AND "service_email_mailboxes".domain_id = 1 AND "service_email_mailboxes".id <> 198609129) LIMIT 1[0m
  [4;36;1mServiceEmailMailbox Load (0.1ms)[0m   [0;1mSELECT "service_email_mailboxes".id FROM "service_email_mailboxes" WHERE ("service_email_mailboxes"."address" = 'invalid@address' AND "service_email_mailboxes".domain_id = 1 AND "service_email_mailboxes".id <> 198609129) LIMIT 1[0m
  [4;35;1mServiceEmailMailbox Load (0.1ms)[0m   [0mSELECT "service_email_mailboxes".id FROM "service_email_mailboxes" WHERE ("service_email_mailboxes"."address" = 'invalid address' AND "service_email_mailboxes".domain_id = 1 AND "service_email_mailboxes".id <> 198609129) LIMIT 1[0m
  [4;36;1mServiceEmailMailbox Load (0.1ms)[0m   [0;1mSELECT "service_email_mailboxes".id FROM "service_email_mailboxes" WHERE ("service_email_mailboxes"."address" = 'invalid+address' AND "service_email_mailboxes".domain_id = 1 AND "service_email_mailboxes".id <> 198609129) LIMIT 1[0m
  [4;35;1mServiceEmailMailbox Load (0.2ms)[0m   [0mSELECT * FROM "service_email_mailboxes" WHERE ("service_email_mailboxes"."id" = 198609129) [0m
  [4;36;1mServiceEmailMailbox Load (0.1ms)[0m   [0;1mSELECT "service_email_mailboxes".id FROM "service_email_mailboxes" WHERE ("service_email_mailboxes"."address" = 'test' AND "service_email_mailboxes".domain_id = 1) LIMIT 1[0m
  [4;35;1mServiceEmailMailbox Load (0.1ms)[0m   [0mSELECT "service_email_mailboxes".id FROM "service_email_mailboxes" WHERE ("service_email_mailboxes"."address" = 'test' AND "service_email_mailboxes".domain_id = 2) LIMIT 1[0m
  [4;36;1mServiceEmailMailbox Load (0.1ms)[0m   [0;1mSELECT "service_email_mailboxes".id FROM "service_email_mailboxes" WHERE ("service_email_mailboxes"."address" IS NULL AND "service_email_mailboxes".domain_id IS NULL) LIMIT 1[0m
  [4;35;1mServiceEmailMailbox Load (0.2ms)[0m   [0mSELECT * FROM "service_email_mailboxes" WHERE ("service_email_mailboxes"."id" = 198609129) [0m
  [4;36;1mServiceEmailMailbox Load (0.1ms)[0m   [0;1mSELECT "service_email_mailboxes".id FROM "service_email_mailboxes" WHERE ("service_email_mailboxes"."address" = 'test' AND "service_email_mailboxes".domain_id = 1 AND "service_email_mailboxes".id <> 198609129) LIMIT 1[0m
  [4;35;1mServiceEmailMailbox Load (0.1ms)[0m   [0mSELECT "service_email_mailboxes".id FROM "service_email_mailboxes" WHERE ("service_email_mailboxes"."address" = 'test' AND "service_email_mailboxes".domain_id = 1 AND "service_email_mailboxes".id <> 198609129) LIMIT 1[0m
  [4;36;1mServiceEmailMailbox Load (0.2ms)[0m   [0;1mSELECT * FROM "service_email_mailboxes" WHERE ("service_email_mailboxes"."id" = 198609129) [0m
  [4;35;1mServiceEmailMailbox Load (0.1ms)[0m   [0mSELECT "service_email_mailboxes".id FROM "service_email_mailboxes" WHERE ("service_email_mailboxes"."address" = 'test' AND "service_email_mailboxes".domain_id = 1 AND "service_email_mailboxes".id <> 198609129) LIMIT 1[0m
  [4;36;1mServiceEmailMailbox Load (0.2ms)[0m   [0;1mSELECT * FROM "service_email_mailboxes" WHERE ("service_email_mailboxes"."id" = 1634495381) [0m
  [4;35;1mServiceEmailMailbox Load (0.1ms)[0m   [0mSELECT "service_email_mailboxes".id FROM "service_email_mailboxes" WHERE ("service_email_mailboxes"."address" = 'aliastest' AND "service_email_mailboxes".domain_id = 1 AND "service_email_mailboxes".id <> 1634495381) LIMIT 1[0m
  [4;36;1mService Load (0.1ms)[0m   [0;1mSELECT "services".id FROM "services" WHERE ("services"."name" = 'New Service') LIMIT 1[0m
  [4;35;1mService Load (0.1ms)[0m   [0mSELECT "services".id FROM "services" WHERE ("services"."controller" = 'service_new_service') LIMIT 1[0m
  [4;36;1mService Load (0.1ms)[0m   [0;1mSELECT "services".id FROM "services" WHERE ("services"."name" = 'New Service') LIMIT 1[0m
  [4;35;1mService Load (0.1ms)[0m   [0mSELECT "services".id FROM "services" WHERE ("services"."controller" = 'service_new_service') LIMIT 1[0m
  [4;36;1mService Create (0.2ms)[0m   [0;1mINSERT INTO "services" ("name", "daemon_installed", "created_at", "updated_at", "by_domain", "description", "controller", "tech_name", "install_files") VALUES('New Service', 'f', '2010-03-28 15:39:04', '2010-03-28 15:39:04', 'f', NULL, 'service_new_service', 'New Service', NULL)[0m
  [4;35;1mService Load (0.1ms)[0m   [0mSELECT "services".id FROM "services" WHERE ("services"."name" IS NULL) LIMIT 1[0m
  [4;36;1mService Load (0.1ms)[0m   [0;1mSELECT "services".id FROM "services" WHERE ("services"."controller" IS NULL) LIMIT 1[0m
  [4;35;1mService Load (0.2ms)[0m   [0mSELECT * FROM "services" WHERE ("services"."id" = 2053932785) [0m
  [4;36;1mService Load (0.1ms)[0m   [0;1mSELECT "services".id FROM "services" WHERE ("services"."name" = 'Service 1') LIMIT 1[0m
  [4;35;1mService Load (0.1ms)[0m   [0mSELECT "services".id FROM "services" WHERE ("services"."controller" = 'service_test_1') LIMIT 1[0m
  [4;36;1mService Load (0.2ms)[0m   [0;1mSELECT * FROM "services" WHERE ("services"."id" = 2053932785) [0m
  [4;35;1mService Load (0.1ms)[0m   [0mSELECT "services".id FROM "services" WHERE ("services"."name" = 'Service 1' AND "services".id <> 2053932785) LIMIT 1[0m
  [4;36;1mService Load (0.1ms)[0m   [0;1mSELECT "services".id FROM "services" WHERE ("services"."controller" = 'service_test_1' AND "services".id <> 2053932785) LIMIT 1[0m
  [4;35;1mService Load (0.2ms)[0m   [0mSELECT * FROM "services" WHERE ("services"."id" = 298486374) [0m
  [4;36;1mService Load (0.1ms)[0m   [0;1mSELECT "services".id FROM "services" WHERE ("services"."name" = 'Service 2' AND "services".id <> 298486374) LIMIT 1[0m
  [4;35;1mService Load (0.1ms)[0m   [0mSELECT "services".id FROM "services" WHERE ("services"."controller" = 'service_test_2' AND "services".id <> 298486374) LIMIT 1[0m
  [4;36;1mSubdomain Load (0.2ms)[0m   [0;1mSELECT * FROM "subdomains" WHERE ("subdomains"."id" = 2053932785) [0m
  [4;35;1mDomain Load (0.2ms)[0m   [0mSELECT * FROM "domains" WHERE ("domains"."id" = 1) [0m
  [4;36;1mSubdomain Load (0.1ms)[0m   [0;1mSELECT "subdomains".id FROM "subdomains" WHERE ("subdomains"."url" = 'www' AND "subdomains".domain_id = 1) LIMIT 1[0m
  [4;35;1mSubdomain Load (0.1ms)[0m   [0mSELECT "subdomains".id FROM "subdomains" WHERE ("subdomains"."path" = 'www' AND "subdomains".domain_id = 1) LIMIT 1[0m
  [4;36;1mSubdomain Load (0.1ms)[0m   [0;1mSELECT "subdomains".id FROM "subdomains" WHERE ("subdomains"."url" = 'www' AND "subdomains".domain_id = 2) LIMIT 1[0m
  [4;35;1mSubdomain Load (0.1ms)[0m   [0mSELECT "subdomains".id FROM "subdomains" WHERE ("subdomains"."path" = 'www' AND "subdomains".domain_id = 2) LIMIT 1[0m
  [4;36;1mSubdomain Load (0.1ms)[0m   [0;1mSELECT "subdomains".id FROM "subdomains" WHERE ("subdomains"."url" = 'newsub' AND "subdomains".domain_id = 1) LIMIT 1[0m
  [4;35;1mSubdomain Load (0.1ms)[0m   [0mSELECT "subdomains".id FROM "subdomains" WHERE ("subdomains"."path" = 'newsub' AND "subdomains".domain_id = 1) LIMIT 1[0m
  [4;36;1mSubdomain Load (0.1ms)[0m   [0;1mSELECT "subdomains".id FROM "subdomains" WHERE ("subdomains"."url" IS NULL AND "subdomains".domain_id IS NULL) LIMIT 1[0m
  [4;35;1mSubdomain Load (0.1ms)[0m   [0mSELECT "subdomains".id FROM "subdomains" WHERE ("subdomains"."path" IS NULL AND "subdomains".domain_id IS NULL) LIMIT 1[0m
  [4;36;1mSubdomain Load (0.2ms)[0m   [0;1mSELECT * FROM "subdomains" WHERE ("subdomains"."id" = 298486374) [0m
  [4;35;1mDomain Load (0.2ms)[0m   [0mSELECT * FROM "domains" WHERE ("domains"."id" = 1) [0m
  [4;36;1mSubdomain Load (0.1ms)[0m   [0;1mSELECT "subdomains".id FROM "subdomains" WHERE ("subdomains"."url" = 'test' AND "subdomains".domain_id = 1 AND "subdomains".id <> 298486374) LIMIT 1[0m
  [4;35;1mSubdomain Load (0.1ms)[0m   [0mSELECT "subdomains".id FROM "subdomains" WHERE ("subdomains"."path" = 'test-site' AND "subdomains".domain_id = 1 AND "subdomains".id <> 298486374) LIMIT 1[0m
  [4;36;1mSubdomain Load (0.2ms)[0m   [0;1mSELECT * FROM "subdomains" WHERE ("subdomains"."id" = 298486374) [0m
  [4;35;1mSubdomain Load (0.1ms)[0m   [0mSELECT "subdomains".id FROM "subdomains" WHERE ("subdomains"."url" = 'test' AND "subdomains".domain_id = 1 AND "subdomains".id <> 298486374) LIMIT 1[0m
  [4;36;1mSubdomain Load (0.1ms)[0m   [0;1mSELECT "subdomains".id FROM "subdomains" WHERE ("subdomains"."path" = 'test-site' AND "subdomains".domain_id = 1 AND "subdomains".id <> 298486374) LIMIT 1[0m
  [4;35;1mSubdomain Load (0.2ms)[0m   [0mSELECT * FROM "subdomains" WHERE ("subdomains"."id" = 298486374) [0m
  [4;36;1mDomain Load (0.2ms)[0m   [0;1mSELECT * FROM "domains" WHERE ("domains"."id" = 1) [0m
  [4;35;1mSubdomain Load (0.1ms)[0m   [0mSELECT "subdomains".id FROM "subdomains" WHERE ("subdomains"."url" = 'mainsub' AND "subdomains".domain_id = 1) LIMIT 1[0m
  [4;36;1mSubdomain Load (0.1ms)[0m   [0;1mSELECT "subdomains".id FROM "subdomains" WHERE ("subdomains"."path" = 'mainsub' AND "subdomains".domain_id = 1) LIMIT 1[0m
  [4;35;1mSubdomain Load (0.2ms)[0m   [0mSELECT * FROM "subdomains" WHERE ("subdomains"."mainsub" = 't' AND "subdomains"."domain_id" = 1) LIMIT 1[0m
  [4;36;1mSubdomain Update (0.2ms)[0m   [0;1mUPDATE "subdomains" SET "updated_at" = '2010-03-28 15:39:04', "mainsub" = 'f' WHERE "id" = 2053932785[0m
  [4;35;1mSubdomain Create (0.1ms)[0m   [0mINSERT INTO "subdomains" ("created_at", "updated_at", "url", "domain_id", "path", "mainsub") VALUES('2010-03-28 15:39:04', '2010-03-28 15:39:04', 'mainsub', 1, 'mainsub', 't')[0m
  [4;36;1mSubdomain Load (0.1ms)[0m   [0;1mSELECT "subdomains".id FROM "subdomains" WHERE ("subdomains"."url" = 'mainsub' AND "subdomains".domain_id = 1 AND "subdomains".id <> 2053932786) LIMIT 1[0m
  [4;35;1mSubdomain Load (0.1ms)[0m   [0mSELECT "subdomains".id FROM "subdomains" WHERE ("subdomains"."path" = 'mainsub' AND "subdomains".domain_id = 1 AND "subdomains".id <> 2053932786) LIMIT 1[0m
  [4;36;1mSubdomain Load (0.2ms)[0m   [0;1mSELECT * FROM "subdomains" WHERE ("subdomains"."mainsub" = 't' AND "subdomains"."domain_id" = 1) LIMIT 1[0m
  [4;35;1mSubdomain Load (0.3ms)[0m   [0mSELECT * FROM "subdomains" WHERE ("subdomains".domain_id = 1) [0m
  [4;36;1mSubdomain Load (0.2ms)[0m   [0;1mSELECT * FROM "subdomains" WHERE ("subdomains"."id" = 2053932785) [0m
  [4;35;1mDomain Load (0.1ms)[0m   [0mSELECT * FROM "domains" WHERE ("domains"."id" = 1) [0m
  [4;36;1mSubdomain Load (0.1ms)[0m   [0;1mSELECT "subdomains".id FROM "subdomains" WHERE ("subdomains"."url" = 'www' AND "subdomains".domain_id = 1 AND "subdomains".id <> 2053932785) LIMIT 1[0m
  [4;35;1mSubdomain Load (0.1ms)[0m   [0mSELECT "subdomains".id FROM "subdomains" WHERE ("subdomains"."path" = '' AND "subdomains".domain_id = 1 AND "subdomains".id <> 2053932785) LIMIT 1[0m
  [4;36;1mSubdomain Load (0.2ms)[0m   [0;1mSELECT * FROM "subdomains" WHERE ("subdomains"."mainsub" = 't' AND "subdomains"."domain_id" = 1) LIMIT 1[0m
  [4;35;1mSubdomain Load (0.1ms)[0m   [0mSELECT "subdomains".id FROM "subdomains" WHERE ("subdomains"."url" = 'www' AND "subdomains".domain_id = 1 AND "subdomains".id <> 2053932785) LIMIT 1[0m
  [4;36;1mSubdomain Load (0.1ms)[0m   [0;1mSELECT "subdomains".id FROM "subdomains" WHERE ("subdomains"."path" = 'www' AND "subdomains".domain_id = 1 AND "subdomains".id <> 2053932785) LIMIT 1[0m
  [4;35;1mSubdomain Load (0.2ms)[0m   [0mSELECT * FROM "subdomains" WHERE ("subdomains"."mainsub" = 't' AND "subdomains"."domain_id" = 1) LIMIT 1[0m
  [4;36;1mSubdomain Load (0.2ms)[0m   [0;1mSELECT * FROM "subdomains" WHERE ("subdomains"."id" = 2053932785) [0m
  [4;35;1mDomain Load (0.1ms)[0m   [0mSELECT * FROM "domains" WHERE ("domains"."id" = 1) [0m
  [4;36;1mSubdomain Load (0.1ms)[0m   [0;1mSELECT "subdomains".id FROM "subdomains" WHERE ("subdomains"."url" = 'www' AND "subdomains".domain_id = 1 AND "subdomains".id <> 2053932785) LIMIT 1[0m
  [4;35;1mSubdomain Load (0.1ms)[0m   [0mSELECT "subdomains".id FROM "subdomains" WHERE ("subdomains"."path" = 'www' AND "subdomains".domain_id = 1 AND "subdomains".id <> 2053932785) LIMIT 1[0m
  [4;36;1mSubdomain Load (0.2ms)[0m   [0;1mSELECT * FROM "subdomains" WHERE ("subdomains"."mainsub" = 't' AND "subdomains"."domain_id" = 1) LIMIT 1[0m
  [4;35;1mSubdomain Load (0.2ms)[0m   [0mSELECT * FROM "subdomains" WHERE ("subdomains"."id" = 298486374) [0m
  [4;36;1mDomain Load (0.1ms)[0m   [0;1mSELECT * FROM "domains" WHERE ("domains"."id" = 1) [0m
  [4;35;1mSubdomain Load (0.1ms)[0m   [0mSELECT "subdomains".id FROM "subdomains" WHERE ("subdomains"."url" = 'test' AND "subdomains".domain_id = 1 AND "subdomains".id <> 298486374) LIMIT 1[0m
  [4;36;1mSubdomain Load (0.1ms)[0m   [0;1mSELECT "subdomains".id FROM "subdomains" WHERE ("subdomains"."path" = 'test-site' AND "subdomains".domain_id = 1 AND "subdomains".id <> 298486374) LIMIT 1[0m
  [4;35;1mSubdomain Load (0.2ms)[0m   [0mSELECT * FROM "subdomains" WHERE ("subdomains"."id" = 298486374) [0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT "users".id FROM "users" WHERE ("users"."username" = 'test1' AND "users".id <> 2) LIMIT 1[0m
  [4;35;1mService Load (0.1ms)[0m   [0mSELECT * FROM "services" INNER JOIN "services_users" ON "services".id = "services_users".service_id WHERE ("services_users".user_id = 2 ) [0m
  [4;36;1mService Load (0.1ms)[0m   [0;1mSELECT * FROM "services" INNER JOIN "services_users" ON "services".id = "services_users".service_id WHERE ("services_users".user_id = 1 ) [0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT "users".id FROM "users" WHERE ("users"."username" = 'test_email') LIMIT 1[0m
  [4;36;1mService Load (0.1ms)[0m   [0;1mSELECT * FROM "services" INNER JOIN "services_users" ON "services".id = "services_users".service_id WHERE ("services_users".user_id = 1 ) [0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT "users".id FROM "users" WHERE ("users"."username" = 'test_email') LIMIT 1[0m
  [4;36;1mUser Create (0.2ms)[0m   [0;1mINSERT INTO "users" ("max_bandwidth", "created_at", "max_space", "updated_at", "username", "used_space", "max_subusers", "full_name", "parent_id", "password", "email", "max_subdomains", "ohmd_password") VALUES(NULL, '2010-03-28 15:39:04', -1, '2010-03-28 15:39:04', 'test_email', 0, -1, NULL, 1, 'x', 'valid.with.dots_and-stuff@123.test.co.uk', -1, NULL)[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT "users".id FROM "users" WHERE ("users"."username" = 'test_email' AND "users".id <> 4) LIMIT 1[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT "users".id FROM "users" WHERE ("users"."username" = 'test_email' AND "users".id <> 4) LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT "users".id FROM "users" WHERE ("users"."username" = 'test_email' AND "users".id <> 4) LIMIT 1[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT "users".id FROM "users" WHERE ("users"."username" = 'test1' AND "users".id <> 2) LIMIT 1[0m
  [4;35;1mService Load (0.1ms)[0m   [0mSELECT * FROM "services" INNER JOIN "services_users" ON "services".id = "services_users".service_id WHERE ("services_users".user_id = 2 ) [0m
  [4;36;1mService Load (0.1ms)[0m   [0;1mSELECT * FROM "services" INNER JOIN "services_users" ON "services".id = "services_users".service_id WHERE ("services_users".user_id = 1 ) [0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM "users" WHERE ("users".parent_id = 2) [0m
  [4;36;1mDomain Load (0.1ms)[0m   [0;1mSELECT * FROM "domains" WHERE ("domains".user_id = 2) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM "users" WHERE ("users".parent_id = 2) [0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT "users".id FROM "users" WHERE ("users"."username" = 'quota tester') LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM "users" WHERE ("users".parent_id = 2) [0m
  [4;36;1mService Load (0.1ms)[0m   [0;1mSELECT * FROM "services" INNER JOIN "services_users" ON "services".id = "services_users".service_id WHERE ("services_users".user_id = 2 ) [0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT "users".id FROM "users" WHERE ("users"."username" IS NULL) LIMIT 1[0m
  [4;35;1mService Load (0.1ms)[0m   [0mSELECT * FROM "services" INNER JOIN "services_users" ON "services".id = "services_users".service_id WHERE ("services_users".user_id = 1 ) [0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT "users".id FROM "users" WHERE ("users"."username" = 'admin') LIMIT 1[0m
  [4;36;1mService Load (0.1ms)[0m   [0;1mSELECT * FROM "services" INNER JOIN "services_users" ON "services".id = "services_users".service_id WHERE ("services_users".user_id = 1 ) [0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT "users".id FROM "users" WHERE ("users"."username" = 'nobody') LIMIT 1[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT "users".id FROM "users" WHERE ("users"."username" = 'test1' AND "users".id <> 2) LIMIT 1[0m
  [4;35;1mService Load (0.1ms)[0m   [0mSELECT * FROM "services" INNER JOIN "services_users" ON "services".id = "services_users".service_id WHERE ("services_users".user_id = 2 ) [0m
  [4;36;1mService Load (0.1ms)[0m   [0;1mSELECT * FROM "services" INNER JOIN "services_users" ON "services".id = "services_users".service_id WHERE ("services_users".user_id = 1 ) [0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT "users".id FROM "users" WHERE ("users"."username" = 'test1') LIMIT 1[0m
  [4;35;1mService Load (0.1ms)[0m   [0mSELECT * FROM "services" INNER JOIN "services_users" ON "services".id = "services_users".service_id WHERE ("services_users".user_id = 1 ) [0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT "users".id FROM "users" WHERE ("users"."username" = 'ohmadmin' AND "users".id <> 1) LIMIT 1[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT "users".id FROM "users" WHERE ("users"."username" = 'test1' AND "users".id <> 2) LIMIT 1[0m
  [4;35;1mService Load (0.1ms)[0m   [0mSELECT * FROM "services" INNER JOIN "services_users" ON "services".id = "services_users".service_id WHERE ("services_users".user_id = 2 ) [0m
  [4;36;1mService Load (0.1ms)[0m   [0;1mSELECT * FROM "services" INNER JOIN "services_users" ON "services".id = "services_users".service_id WHERE ("services_users".user_id = 1 ) [0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 3) [0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT "users".id FROM "users" WHERE ("users"."username" = 'test2' AND "users".id <> 3) LIMIT 1[0m
  [4;36;1mService Load (0.1ms)[0m   [0;1mSELECT * FROM "services" INNER JOIN "services_users" ON "services".id = "services_users".service_id WHERE ("services_users".user_id = 3 ) [0m
  [4;35;1mService Load (0.1ms)[0m   [0mSELECT * FROM "services" INNER JOIN "services_users" ON "services".id = "services_users".service_id WHERE ("services_users".user_id = 1 ) [0m
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
  [4;35;1mLoggedUser Create (0.3ms)[0m   [0mINSERT INTO "logged_users" ("created_at", "session", "updated_at", "user_id", "ip", "session_ts") VALUES('2010-03-28 15:39:05', 'test session', '2010-03-28 15:39:05', 2, '0.0.0.0', '2010-03-28 15:39:05')[0m


Processing DashboardController#index (for 0.0.0.0 at 2010-03-28 17:39:05) [GET]
  Parameters: {"action"=>"index", "controller"=>"dashboard"}
  [4;36;1mLoggedUser Load (0.2ms)[0m   [0;1mSELECT * FROM "logged_users" WHERE ("logged_users"."ip" = '0.0.0.0' AND "logged_users"."session" = 'test session') LIMIT 1[0m
  [4;35;1mLoggedUser Update (0.1ms)[0m   [0mUPDATE "logged_users" SET "updated_at" = '2010-03-28 15:39:05', "session_ts" = '2010-03-28 15:39:05' WHERE "id" = 2053932786[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
Rendering template within layouts/ohm
Rendering dashboard/index
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM "users" WHERE ("users".parent_id = 2) [0m
  [4;36;1mDomain Load (0.1ms)[0m   [0;1mSELECT * FROM "domains" WHERE ("domains".user_id = 2) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM "domains" WHERE ("domains".user_id = 2) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM "services" INNER JOIN "services_users" ON "services".id = "services_users".service_id WHERE ("services_users".user_id = 2 ) [0m
  [4;35;1mService Load (0.1ms)[0m   [0mSELECT * FROM "services" INNER JOIN "services_users" ON "services".id = "services_users".service_id WHERE ("services_users".user_id = 2 ) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM "users" WHERE ("users".parent_id = 2) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM "users" WHERE ("users".parent_id = 2) [0m
Completed in 61ms (View: 13, DB: 5) | 200 OK [http://test.host/]


Processing DashboardController#index (for 0.0.0.0 at 2010-03-28 17:39:05) [GET]
  Parameters: {"action"=>"index", "controller"=>"dashboard"}
Redirected to http://test.host/login
Filter chain halted as [:authenticate] rendered_or_redirected.
Completed in 0ms (DB: 0) | 302 Found [http://test.host/]
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mLoggedUser Create (0.2ms)[0m   [0mINSERT INTO "logged_users" ("created_at", "session", "updated_at", "user_id", "ip", "session_ts") VALUES('2010-03-28 15:39:05', 'test session', '2010-03-28 15:39:05', 1, '0.0.0.0', '2010-03-28 15:39:05')[0m
  [4;36;1mService Load (0.2ms)[0m   [0;1mSELECT * FROM "services" WHERE ("services"."id" = 2053932785) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mINSERT INTO "services_users" ("service_id", "user_id") VALUES (2053932785, 1)[0m
  [4;36;1mService Load (0.1ms)[0m   [0;1mSELECT "services".id FROM "services" WHERE ("services"."name" = 'Service 1' AND "services".id <> 2053932785) LIMIT 1[0m
  [4;35;1mService Load (0.1ms)[0m   [0mSELECT "services".id FROM "services" WHERE ("services"."controller" = 'service_test_1' AND "services".id <> 2053932785) LIMIT 1[0m
  [4;36;1mDomain Load (0.2ms)[0m   [0;1mSELECT * FROM "domains" WHERE ("domains"."id" = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM "services" INNER JOIN "domains_services" ON "services".id = "domains_services".service_id WHERE ("domains_services".domain_id = 1 ) [0m


Processing DomainsController#addservice (for 0.0.0.0 at 2010-03-28 17:39:05) [POST]
  Parameters: {"action"=>"addservice", "domain_id"=>"1", "service_id"=>[2053932785], "controller"=>"domains"}
  [4;36;1mLoggedUser Load (0.2ms)[0m   [0;1mSELECT * FROM "logged_users" WHERE ("logged_users"."ip" = '0.0.0.0' AND "logged_users"."session" = 'test session') LIMIT 1[0m
  [4;35;1mLoggedUser Update (0.1ms)[0m   [0mUPDATE "logged_users" SET "updated_at" = '2010-03-28 15:39:05', "session_ts" = '2010-03-28 15:39:05' WHERE "id" = 2053932786[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mDomain Load (0.1ms)[0m   [0mSELECT * FROM "domains" WHERE ("domains"."id" = 1) [0m
  [4;36;1mService Load (0.2ms)[0m   [0;1mSELECT * FROM "services" WHERE ("services"."id" = 2053932785) [0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT "users".id FROM "users" INNER JOIN "services_users" ON "users".id = "services_users".user_id WHERE ("users"."id" = 1) AND ("services_users".service_id = 2053932785 ) LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mINSERT INTO "domains_services" ("domain_id", "service_id") VALUES (1, 2053932785)[0m
  [4;36;1mDomain Load (0.1ms)[0m   [0;1mSELECT "domains".id FROM "domains" WHERE ("domains"."domain" = 'test.com' AND "domains".id <> 1) LIMIT 1[0m
Redirected to http://test.host/service_test_1/addtodomain?domain_id=1&service_id=2053932785
Completed in 10ms (DB: 3) | 302 Found [http://test.host/domains/addservice?domain_id=1&service_id%5B%5D=2053932785]
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM "services" INNER JOIN "domains_services" ON "services".id = "domains_services".service_id WHERE ("domains_services".domain_id = 1 ) [0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
  [4;35;1mLoggedUser Create (0.2ms)[0m   [0mINSERT INTO "logged_users" ("created_at", "session", "updated_at", "user_id", "ip", "session_ts") VALUES('2010-03-28 15:39:05', 'test session', '2010-03-28 15:39:05', 2, '0.0.0.0', '2010-03-28 15:39:05')[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM "domains" [0m


Processing DomainsController#create (for 0.0.0.0 at 2010-03-28 17:39:05) [POST]
  Parameters: {"action"=>"create", "domain"=>{"domain"=>"newdom.com"}, "controller"=>"domains"}
  [4;35;1mLoggedUser Load (0.2ms)[0m   [0mSELECT * FROM "logged_users" WHERE ("logged_users"."ip" = '0.0.0.0' AND "logged_users"."session" = 'test session') LIMIT 1[0m
  [4;36;1mLoggedUser Update (0.1ms)[0m   [0;1mUPDATE "logged_users" SET "updated_at" = '2010-03-28 15:39:05', "session_ts" = '2010-03-28 15:39:05' WHERE "id" = 2053932786[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
  [4;36;1mDomain Load (0.1ms)[0m   [0;1mSELECT "domains".id FROM "domains" WHERE ("domains"."domain" = 'newdom.com') LIMIT 1[0m
  [4;35;1mDomain Create (0.1ms)[0m   [0mINSERT INTO "domains" ("created_at", "updated_at", "domain", "user_id") VALUES('2010-03-28 15:39:05', '2010-03-28 15:39:05', 'newdom.com', 2)[0m
  [4;36;1mSubdomain Load (0.1ms)[0m   [0;1mSELECT "subdomains".id FROM "subdomains" WHERE ("subdomains"."url" = 'www' AND "subdomains".domain_id = 2) LIMIT 1[0m
  [4;35;1mSubdomain Load (0.1ms)[0m   [0mSELECT "subdomains".id FROM "subdomains" WHERE ("subdomains"."path" = 'www' AND "subdomains".domain_id = 2) LIMIT 1[0m
  [4;36;1mSubdomain Load (0.1ms)[0m   [0;1mSELECT * FROM "subdomains" WHERE ("subdomains"."domain_id" = 2 AND "subdomains"."mainsub" = 't') LIMIT 1[0m
  [4;35;1mSubdomain Create (0.1ms)[0m   [0mINSERT INTO "subdomains" ("created_at", "updated_at", "url", "domain_id", "path", "mainsub") VALUES('2010-03-28 15:39:05', '2010-03-28 15:39:05', 'www', 2, 'www', 't')[0m
Redirected to http://test.host/domains/2
Completed in 9ms (DB: 2) | 302 Found [http://test.host/domains?domain%5Bdomain%5D=newdom.com]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM "domains" [0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mLoggedUser Create (0.1ms)[0m   [0;1mINSERT INTO "logged_users" ("created_at", "session", "updated_at", "user_id", "ip", "session_ts") VALUES('2010-03-28 15:39:05', 'test session', '2010-03-28 15:39:05', 1, '0.0.0.0', '2010-03-28 15:39:05')[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM "domains" [0m
  [4;36;1mDomain Load (0.1ms)[0m   [0;1mSELECT * FROM "domains" WHERE ("domains"."id" = 1) [0m


Processing DomainsController#destroy (for 0.0.0.0 at 2010-03-28 17:39:05) [DELETE]
  Parameters: {"action"=>"destroy", "id"=>"1", "controller"=>"domains"}
  [4;35;1mLoggedUser Load (0.2ms)[0m   [0mSELECT * FROM "logged_users" WHERE ("logged_users"."ip" = '0.0.0.0' AND "logged_users"."session" = 'test session') LIMIT 1[0m
  [4;36;1mLoggedUser Update (0.1ms)[0m   [0;1mUPDATE "logged_users" SET "updated_at" = '2010-03-28 15:39:05', "session_ts" = '2010-03-28 15:39:05' WHERE "id" = 2053932786[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mDomain Load (0.2ms)[0m   [0;1mSELECT * FROM "domains" WHERE ("domains"."id" = 1) [0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mSubdomain Load (0.2ms)[0m   [0;1mSELECT * FROM "subdomains" WHERE ("subdomains".domain_id = 1) [0m
  [4;35;1mSubdomain Destroy (0.1ms)[0m   [0mDELETE FROM "subdomains" WHERE "id" = 298486374[0m
  [4;36;1mSubdomain Destroy (0.1ms)[0m   [0;1mDELETE FROM "subdomains" WHERE "id" = 2053932785[0m
  [4;35;1mService Load (0.1ms)[0m   [0mSELECT * FROM "services" INNER JOIN "domains_services" ON "services".id = "domains_services".service_id WHERE ("domains_services".domain_id = 1 ) [0m
  [4;36;1mDomain Destroy (0.1ms)[0m   [0;1mDELETE FROM "domains" WHERE "id" = 1[0m
Redirected to http://test.host/domains
Completed in 6ms (DB: 2) | 302 Found [http://test.host/domains/1]
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM "domains" [0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
  [4;35;1mLoggedUser Create (0.2ms)[0m   [0mINSERT INTO "logged_users" ("created_at", "session", "updated_at", "user_id", "ip", "session_ts") VALUES('2010-03-28 15:39:05', 'test session', '2010-03-28 15:39:05', 2, '0.0.0.0', '2010-03-28 15:39:05')[0m


Processing DomainsController#index (for 0.0.0.0 at 2010-03-28 17:39:05) [GET]
  Parameters: {"action"=>"index", "controller"=>"domains"}
  [4;36;1mLoggedUser Load (0.2ms)[0m   [0;1mSELECT * FROM "logged_users" WHERE ("logged_users"."ip" = '0.0.0.0' AND "logged_users"."session" = 'test session') LIMIT 1[0m
  [4;35;1mLoggedUser Update (0.1ms)[0m   [0mUPDATE "logged_users" SET "updated_at" = '2010-03-28 15:39:05', "session_ts" = '2010-03-28 15:39:05' WHERE "id" = 2053932786[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
Rendering template within layouts/ohm
Rendering domains/index
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM "domains" WHERE ("domains".user_id = 2) [0m
  [4;36;1mDomain Load (0.1ms)[0m   [0;1mSELECT * FROM "domains" WHERE ("domains".user_id = 2) [0m
  [4;35;1mService Load (0.1ms)[0m   [0mSELECT * FROM "services" INNER JOIN "services_users" ON "services".id = "services_users".service_id WHERE ("services_users".user_id = 2 ) [0m
Completed in 7ms (View: 4, DB: 1) | 200 OK [http://test.host/domains]


Processing DomainsController#index (for 0.0.0.0 at 2010-03-28 17:39:05) [GET]
  Parameters: {"action"=>"index", "controller"=>"domains"}
Redirected to http://test.host/login
Filter chain halted as [:authenticate] rendered_or_redirected.
Completed in 0ms (DB: 0) | 302 Found [http://test.host/domains]
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
  [4;35;1mLoggedUser Create (0.2ms)[0m   [0mINSERT INTO "logged_users" ("created_at", "session", "updated_at", "user_id", "ip", "session_ts") VALUES('2010-03-28 15:39:05', 'test session', '2010-03-28 15:39:05', 2, '0.0.0.0', '2010-03-28 15:39:05')[0m


Processing DomainsController#new (for 0.0.0.0 at 2010-03-28 17:39:05) [GET]
  Parameters: {"action"=>"new", "controller"=>"domains"}
  [4;36;1mLoggedUser Load (0.2ms)[0m   [0;1mSELECT * FROM "logged_users" WHERE ("logged_users"."ip" = '0.0.0.0' AND "logged_users"."session" = 'test session') LIMIT 1[0m
  [4;35;1mLoggedUser Update (0.1ms)[0m   [0mUPDATE "logged_users" SET "updated_at" = '2010-03-28 15:39:05', "session_ts" = '2010-03-28 15:39:05' WHERE "id" = 2053932786[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
Rendering template within layouts/ohm
Rendering domains/new
  [4;35;1mService Load (0.1ms)[0m   [0mSELECT * FROM "services" INNER JOIN "services_users" ON "services".id = "services_users".service_id WHERE ("services_users".user_id = 2 ) [0m
Completed in 7ms (View: 5, DB: 1) | 200 OK [http://test.host/domains/new]
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
  [4;35;1mLoggedUser Create (0.1ms)[0m   [0mINSERT INTO "logged_users" ("created_at", "session", "updated_at", "user_id", "ip", "session_ts") VALUES('2010-03-28 15:39:05', 'test session', '2010-03-28 15:39:05', 2, '0.0.0.0', '2010-03-28 15:39:05')[0m
  [4;36;1mService Load (0.2ms)[0m   [0;1mSELECT * FROM "services" WHERE ("services"."id" = 2053932785) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mINSERT INTO "services_users" ("service_id", "user_id") VALUES (2053932785, 2)[0m
  [4;36;1mService Load (0.1ms)[0m   [0;1mSELECT "services".id FROM "services" WHERE ("services"."name" = 'Service 1' AND "services".id <> 2053932785) LIMIT 1[0m
  [4;35;1mService Load (0.1ms)[0m   [0mSELECT "services".id FROM "services" WHERE ("services"."controller" = 'service_test_1' AND "services".id <> 2053932785) LIMIT 1[0m
  [4;36;1mDomain Load (0.2ms)[0m   [0;1mSELECT * FROM "domains" WHERE ("domains"."id" = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM "services" INNER JOIN "domains_services" ON "services".id = "domains_services".service_id WHERE ("domains_services".domain_id = 1 ) [0m


Processing DomainsController#addservice (for 0.0.0.0 at 2010-03-28 17:39:05) [POST]
  Parameters: {"action"=>"addservice", "domain_id"=>"1", "service_id"=>[2053932785], "controller"=>"domains"}
  [4;36;1mLoggedUser Load (0.2ms)[0m   [0;1mSELECT * FROM "logged_users" WHERE ("logged_users"."ip" = '0.0.0.0' AND "logged_users"."session" = 'test session') LIMIT 1[0m
  [4;35;1mLoggedUser Update (0.1ms)[0m   [0mUPDATE "logged_users" SET "updated_at" = '2010-03-28 15:39:05', "session_ts" = '2010-03-28 15:39:05' WHERE "id" = 2053932786[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
  [4;35;1mDomain Load (0.2ms)[0m   [0mSELECT * FROM "domains" WHERE ("domains"."id" = 1) [0m
  [4;36;1mService Load (0.2ms)[0m   [0;1mSELECT * FROM "services" WHERE ("services"."id" = 2053932785) [0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
Redirected to http://test.host/domains
Completed in 4ms (DB: 2) | 302 Found [http://test.host/domains/addservice?domain_id=1&service_id%5B%5D=2053932785]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM "services" INNER JOIN "domains_services" ON "services".id = "domains_services".service_id WHERE ("domains_services".domain_id = 1 ) [0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
  [4;36;1mLoggedUser Create (0.2ms)[0m   [0;1mINSERT INTO "logged_users" ("created_at", "session", "updated_at", "user_id", "ip", "session_ts") VALUES('2010-03-28 15:39:05', 'test session', '2010-03-28 15:39:05', 2, '0.0.0.0', '2010-03-28 15:39:05')[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM "domains" [0m
  [4;36;1mDomain Load (0.2ms)[0m   [0;1mSELECT * FROM "domains" WHERE ("domains"."id" = 1) [0m


Processing DomainsController#destroy (for 0.0.0.0 at 2010-03-28 17:39:05) [DELETE]
  Parameters: {"action"=>"destroy", "id"=>"1", "controller"=>"domains"}
  [4;35;1mLoggedUser Load (0.2ms)[0m   [0mSELECT * FROM "logged_users" WHERE ("logged_users"."ip" = '0.0.0.0' AND "logged_users"."session" = 'test session') LIMIT 1[0m
  [4;36;1mLoggedUser Update (0.1ms)[0m   [0;1mUPDATE "logged_users" SET "updated_at" = '2010-03-28 15:39:05', "session_ts" = '2010-03-28 15:39:05' WHERE "id" = 2053932786[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
  [4;36;1mDomain Load (0.1ms)[0m   [0;1mSELECT * FROM "domains" WHERE ("domains"."id" = 1) [0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
Redirected to http://test.host/domains
Completed in 4ms (DB: 2) | 302 Found [http://test.host/domains/1]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM "domains" [0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
  [4;36;1mLoggedUser Create (0.2ms)[0m   [0;1mINSERT INTO "logged_users" ("created_at", "session", "updated_at", "user_id", "ip", "session_ts") VALUES('2010-03-28 15:39:05', 'test session', '2010-03-28 15:39:05', 2, '0.0.0.0', '2010-03-28 15:39:05')[0m
  [4;35;1mDomain Load (0.1ms)[0m   [0mSELECT * FROM "domains" WHERE ("domains"."id" = 1) [0m


Processing DomainsController#show (for 0.0.0.0 at 2010-03-28 17:39:05) [GET]
  Parameters: {"action"=>"show", "id"=>"1", "controller"=>"domains"}
  [4;36;1mLoggedUser Load (0.2ms)[0m   [0;1mSELECT * FROM "logged_users" WHERE ("logged_users"."ip" = '0.0.0.0' AND "logged_users"."session" = 'test session') LIMIT 1[0m
  [4;35;1mLoggedUser Update (0.1ms)[0m   [0mUPDATE "logged_users" SET "updated_at" = '2010-03-28 15:39:05', "session_ts" = '2010-03-28 15:39:05' WHERE "id" = 2053932786[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
  [4;35;1mDomain Load (0.1ms)[0m   [0mSELECT * FROM "domains" WHERE ("domains"."id" = 1) [0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
Redirected to http://test.host/domains
Completed in 4ms (DB: 2) | 302 Found [http://test.host/domains/1]
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mLoggedUser Create (0.2ms)[0m   [0;1mINSERT INTO "logged_users" ("created_at", "session", "updated_at", "user_id", "ip", "session_ts") VALUES('2010-03-28 15:39:05', 'test session', '2010-03-28 15:39:05', 1, '0.0.0.0', '2010-03-28 15:39:05')[0m
  [4;35;1mDomain Load (0.1ms)[0m   [0mSELECT * FROM "domains" WHERE ("domains"."id" = 1) [0m


Processing DomainsController#show (for 0.0.0.0 at 2010-03-28 17:39:05) [GET]
  Parameters: {"action"=>"show", "id"=>"1", "controller"=>"domains"}
  [4;36;1mLoggedUser Load (0.2ms)[0m   [0;1mSELECT * FROM "logged_users" WHERE ("logged_users"."ip" = '0.0.0.0' AND "logged_users"."session" = 'test session') LIMIT 1[0m
  [4;35;1mLoggedUser Update (0.1ms)[0m   [0mUPDATE "logged_users" SET "updated_at" = '2010-03-28 15:39:05', "session_ts" = '2010-03-28 15:39:05' WHERE "id" = 2053932786[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mDomain Load (0.2ms)[0m   [0mSELECT * FROM "domains" WHERE ("domains"."id" = 1) [0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
Rendering template within layouts/ohm
Rendering domains/show
  [4;35;1mSubdomain Load (0.4ms)[0m   [0mSELECT * FROM "subdomains" WHERE ("subdomains".domain_id = 1) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM "services" INNER JOIN "domains_services" ON "services".id = "domains_services".service_id WHERE ("domains_services".domain_id = 1 ) [0m
  [4;35;1mService Load (0.1ms)[0m   [0mSELECT * FROM "services" INNER JOIN "domains_services" ON "services".id = "domains_services".service_id WHERE ("domains_services".domain_id = 1 ) [0m
  [4;36;1mService Load (0.1ms)[0m   [0;1mSELECT * FROM "services" INNER JOIN "services_users" ON "services".id = "services_users".service_id WHERE ("services_users".user_id = 1 ) [0m
Rendered domains/_domain (15.0ms)
Completed in 22ms (View: 18, DB: 2) | 200 OK [http://test.host/domains/1]
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m


Processing LoginController#login (for 0.0.0.0 at 2010-03-28 17:39:05) [POST]
  Parameters: {"action"=>"login", "controller"=>"login", "user"=>#<User id: 2, username: "test1", password: "bad password", full_name: "Test User 1", email: "test1@test.com", parent_id: 1, created_at: "2010-03-28 15:39:05", updated_at: "2010-03-28 15:39:05", max_subdomains: 5, max_space: 500, max_bandwidth: nil, max_subusers: 5, used_space: 100, ohmd_password: nil>}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."username" = 'test1') LIMIT 1[0m
Redirected to http://test.host/login
Completed in 3ms (DB: 1) | 302 Found [http://test.host/login/login?user=2]
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m


Processing LoginController#login (for 0.0.0.0 at 2010-03-28 17:39:05) [POST]
  Parameters: {"action"=>"login", "controller"=>"login", "user"=>#<User id: 2, username: "test1", password: "test1", full_name: "Test User 1", email: "test1@test.com", parent_id: 1, created_at: "2010-03-28 15:39:05", updated_at: "2010-03-28 15:39:05", max_subdomains: 5, max_space: 500, max_bandwidth: nil, max_subusers: 5, used_space: 100, ohmd_password: nil>}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."username" = 'test1') LIMIT 1[0m
  [4;35;1mLoggedUser Create (0.2ms)[0m   [0mINSERT INTO "logged_users" ("created_at", "session", "updated_at", "user_id", "ip", "session_ts") VALUES('2010-03-28 15:39:05', 'df8407b62b6e2954c9e9ebad8a792249', '2010-03-28 15:39:05', 2, '0.0.0.0', '2010-03-28 15:39:05')[0m
Redirected to http://test.host/
Completed in 3ms (DB: 1) | 302 Found [http://test.host/login/login?user=2]


Processing LoginController#index (for 0.0.0.0 at 2010-03-28 17:39:05) [GET]
  Parameters: {"action"=>"index", "controller"=>"login"}
  [4;36;1mUser Load (0.5ms)[0m   [0;1mSELECT * FROM "users" [0m
Rendering template within layouts/ohm
Rendering login/index
Completed in 5ms (View: 4, DB: 1) | 200 OK [http://test.host/login]
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mLoggedUser Create (0.2ms)[0m   [0;1mINSERT INTO "logged_users" ("created_at", "session", "updated_at", "user_id", "ip", "session_ts") VALUES('2010-03-28 15:39:05', 'test session', '2010-03-28 15:39:05', 1, '0.0.0.0', '2010-03-28 15:39:05')[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM "service_email_mailboxes" [0m


Processing ServiceEmailMailboxesController#create (for 0.0.0.0 at 2010-03-28 17:39:05) [POST]
  Parameters: {"action"=>"create", "controller"=>"service_email_mailboxes", "service_email_mailbox"=>{"address"=>"newtest", "password_confirmation"=>"[FILTERED]", "domain_id"=>1, "password"=>"[FILTERED]"}}
  [4;36;1mLoggedUser Load (0.2ms)[0m   [0;1mSELECT * FROM "logged_users" WHERE ("logged_users"."ip" = '0.0.0.0' AND "logged_users"."session" = 'test session') LIMIT 1[0m
  [4;35;1mLoggedUser Update (0.1ms)[0m   [0mUPDATE "logged_users" SET "updated_at" = '2010-03-28 15:39:05', "session_ts" = '2010-03-28 15:39:05' WHERE "id" = 2053932786[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mServiceEmailUser Load (0.1ms)[0m   [0mSELECT * FROM "service_email_users" WHERE ("service_email_users"."user_id" = 1) LIMIT 1[0m
  [4;36;1mServiceEmailUser Load (0.1ms)[0m   [0;1mSELECT "service_email_users".id FROM "service_email_users" WHERE ("service_email_users"."user_id" = 1) LIMIT 1[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mServiceEmailUser Create (0.1ms)[0m   [0;1mINSERT INTO "service_email_users" ("created_at", "updated_at", "max_aliases", "user_id", "max_mailboxes") VALUES('2010-03-28 15:39:05', '2010-03-28 15:39:05', -1, 1, -1)[0m
  [4;35;1mDomain Load (0.2ms)[0m   [0mSELECT * FROM "domains" WHERE ("domains"."id" = 1) [0m
  [4;36;1mDomain Load (0.1ms)[0m   [0;1mSELECT "domains".id FROM "domains" WHERE ("domains"."id" = 1) AND ("domains".user_id = 1) LIMIT 1[0m
  [4;35;1mServiceEmailMailbox Load (0.1ms)[0m   [0mSELECT "service_email_mailboxes".id FROM "service_email_mailboxes" WHERE ("service_email_mailboxes"."address" = 'newtest' AND "service_email_mailboxes".domain_id = 1) LIMIT 1[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mServiceEmailMailbox Create (0.1ms)[0m   [0mINSERT INTO "service_email_mailboxes" ("address", "size", "created_at", "updated_at", "domain_id", "forward", "forward_only", "full_name", "password") VALUES('newtest', -1, '2010-03-28 15:39:05', '2010-03-28 15:39:05', 1, NULL, NULL, NULL, '$6$B7xR.sEI$EH5m0pjq/VZK7FjFfq/KFRVGyz9j2iaNp5L0lfGUqeVbraEIC.JuvOuwPapHHtGsZCU8u7D18NxJZjytgkB0J1')[0m
Redirected to http://test.host/service_email_mailboxes
Completed in 17ms (DB: 2) | 302 Found [http://test.host/service_email_mailboxes/create?service_email_mailbox%5Baddress%5D=newtest&service_email_mailbox%5Bdomain_id%5D=1&service_email_mailbox%5Bpassword%5D=newpass&service_email_mailbox%5Bpassword_confirmation%5D=newpass]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM "service_email_mailboxes" [0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mLoggedUser Create (0.2ms)[0m   [0;1mINSERT INTO "logged_users" ("created_at", "session", "updated_at", "user_id", "ip", "session_ts") VALUES('2010-03-28 15:39:05', 'test session', '2010-03-28 15:39:05', 1, '0.0.0.0', '2010-03-28 15:39:05')[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM "service_email_mailboxes" [0m
  [4;36;1mServiceEmailMailbox Load (0.2ms)[0m   [0;1mSELECT * FROM "service_email_mailboxes" WHERE ("service_email_mailboxes"."id" = 198609129) [0m


Processing ServiceEmailMailboxesController#destroy (for 0.0.0.0 at 2010-03-28 17:39:05) [DELETE]
  Parameters: {"action"=>"destroy", "id"=>"198609129", "controller"=>"service_email_mailboxes"}
  [4;35;1mLoggedUser Load (0.3ms)[0m   [0mSELECT * FROM "logged_users" WHERE ("logged_users"."ip" = '0.0.0.0' AND "logged_users"."session" = 'test session') LIMIT 1[0m
  [4;36;1mLoggedUser Update (0.1ms)[0m   [0;1mUPDATE "logged_users" SET "updated_at" = '2010-03-28 15:39:05', "session_ts" = '2010-03-28 15:39:05' WHERE "id" = 2053932786[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mServiceEmailUser Load (0.1ms)[0m   [0;1mSELECT * FROM "service_email_users" WHERE ("service_email_users"."user_id" = 1) LIMIT 1[0m
  [4;35;1mServiceEmailUser Load (0.1ms)[0m   [0mSELECT "service_email_users".id FROM "service_email_users" WHERE ("service_email_users"."user_id" = 1) LIMIT 1[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mServiceEmailUser Create (0.1ms)[0m   [0mINSERT INTO "service_email_users" ("created_at", "updated_at", "max_aliases", "user_id", "max_mailboxes") VALUES('2010-03-28 15:39:05', '2010-03-28 15:39:05', -1, 1, -1)[0m
  [4;36;1mServiceEmailMailbox Load (0.2ms)[0m   [0;1mSELECT * FROM "service_email_mailboxes" WHERE ("service_email_mailboxes"."id" = 198609129) [0m
  [4;35;1mDomain Load (0.2ms)[0m   [0mSELECT * FROM "domains" WHERE ("domains"."id" = 1) [0m
  [4;36;1mDomain Load (0.1ms)[0m   [0;1mSELECT "domains".id FROM "domains" WHERE ("domains"."id" = 1) AND ("domains".user_id = 1) LIMIT 1[0m
  [4;35;1mServiceEmailMailbox Destroy (0.1ms)[0m   [0mDELETE FROM "service_email_mailboxes" WHERE "id" = 198609129[0m
Redirected to http://test.host/service_email_mailboxes
Completed in 9ms (DB: 3) | 302 Found [http://test.host/service_email_mailboxes/destroy/198609129]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM "service_email_mailboxes" [0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mLoggedUser Create (0.2ms)[0m   [0;1mINSERT INTO "logged_users" ("created_at", "session", "updated_at", "user_id", "ip", "session_ts") VALUES('2010-03-28 15:39:05', 'test session', '2010-03-28 15:39:05', 1, '0.0.0.0', '2010-03-28 15:39:05')[0m
  [4;35;1mServiceEmailMailbox Load (0.2ms)[0m   [0mSELECT * FROM "service_email_mailboxes" WHERE ("service_email_mailboxes"."id" = 198609129) [0m


Processing ServiceEmailMailboxesController#edit (for 0.0.0.0 at 2010-03-28 17:39:05) [GET]
  Parameters: {"action"=>"edit", "id"=>"198609129", "controller"=>"service_email_mailboxes"}
  [4;36;1mLoggedUser Load (0.2ms)[0m   [0;1mSELECT * FROM "logged_users" WHERE ("logged_users"."ip" = '0.0.0.0' AND "logged_users"."session" = 'test session') LIMIT 1[0m
  [4;35;1mLoggedUser Update (0.1ms)[0m   [0mUPDATE "logged_users" SET "updated_at" = '2010-03-28 15:39:05', "session_ts" = '2010-03-28 15:39:05' WHERE "id" = 2053932786[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mServiceEmailUser Load (0.1ms)[0m   [0mSELECT * FROM "service_email_users" WHERE ("service_email_users"."user_id" = 1) LIMIT 1[0m
  [4;36;1mServiceEmailUser Load (0.1ms)[0m   [0;1mSELECT "service_email_users".id FROM "service_email_users" WHERE ("service_email_users"."user_id" = 1) LIMIT 1[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mServiceEmailUser Create (0.1ms)[0m   [0;1mINSERT INTO "service_email_users" ("created_at", "updated_at", "max_aliases", "user_id", "max_mailboxes") VALUES('2010-03-28 15:39:05', '2010-03-28 15:39:05', -1, 1, -1)[0m
  [4;35;1mServiceEmailMailbox Load (0.2ms)[0m   [0mSELECT * FROM "service_email_mailboxes" WHERE ("service_email_mailboxes"."id" = 198609129) [0m
  [4;36;1mDomain Load (0.2ms)[0m   [0;1mSELECT * FROM "domains" WHERE ("domains"."id" = 1) [0m
  [4;35;1mDomain Load (0.1ms)[0m   [0mSELECT "domains".id FROM "domains" WHERE ("domains"."id" = 1) AND ("domains".user_id = 1) LIMIT 1[0m
Rendering template within layouts/ohm
Rendering service_email_mailboxes/edit
  [4;36;1mService Load (0.1ms)[0m   [0;1mSELECT * FROM "services" INNER JOIN "services_users" ON "services".id = "services_users".service_id WHERE ("services_users".user_id = 1 ) [0m
Completed in 19ms (View: 11, DB: 2) | 200 OK [http://test.host/service_email_mailboxes/edit/198609129]
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
  [4;36;1mLoggedUser Create (0.2ms)[0m   [0;1mINSERT INTO "logged_users" ("created_at", "session", "updated_at", "user_id", "ip", "session_ts") VALUES('2010-03-28 15:39:05', 'test session', '2010-03-28 15:39:05', 2, '0.0.0.0', '2010-03-28 15:39:05')[0m


Processing ServiceEmailMailboxesController#index (for 0.0.0.0 at 2010-03-28 17:39:05) [GET]
  Parameters: {"action"=>"index", "controller"=>"service_email_mailboxes"}
  [4;35;1mLoggedUser Load (0.2ms)[0m   [0mSELECT * FROM "logged_users" WHERE ("logged_users"."ip" = '0.0.0.0' AND "logged_users"."session" = 'test session') LIMIT 1[0m
  [4;36;1mLoggedUser Update (0.1ms)[0m   [0;1mUPDATE "logged_users" SET "updated_at" = '2010-03-28 15:39:05', "session_ts" = '2010-03-28 15:39:05' WHERE "id" = 2053932786[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
  [4;36;1mServiceEmailUser Load (0.2ms)[0m   [0;1mSELECT * FROM "service_email_users" WHERE ("service_email_users"."user_id" = 2) LIMIT 1[0m
  [4;35;1mServiceEmailMailbox Load (0.3ms)[0m   [0mSELECT * FROM "service_email_mailboxes" [0m
Rendering template within layouts/ohm
Rendering service_email_mailboxes/index
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
  [4;35;1mDomain Load (0.1ms)[0m   [0mSELECT * FROM "domains" WHERE ("domains".user_id = 2) [0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users".parent_id = 2) [0m
  [4;35;1mDomain Load (0.1ms)[0m   [0mSELECT * FROM "domains" WHERE ("domains".user_id = 2) [0m
  [4;36;1mService Load (0.1ms)[0m   [0;1mSELECT * FROM "services" INNER JOIN "services_users" ON "services".id = "services_users".service_id WHERE ("services_users".user_id = 2 ) [0m
Completed in 10ms (View: 6, DB: 2) | 200 OK [http://test.host/service_email_mailboxes]


Processing ServiceEmailMailboxesController#index (for 0.0.0.0 at 2010-03-28 17:39:05) [GET]
  Parameters: {"action"=>"index", "controller"=>"service_email_mailboxes"}
Redirected to http://test.host/login
Filter chain halted as [:authenticate] rendered_or_redirected.
Completed in 0ms (DB: 0) | 302 Found [http://test.host/service_email_mailboxes]
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
  [4;36;1mLoggedUser Create (0.2ms)[0m   [0;1mINSERT INTO "logged_users" ("created_at", "session", "updated_at", "user_id", "ip", "session_ts") VALUES('2010-03-28 15:39:05', 'test session', '2010-03-28 15:39:05', 2, '0.0.0.0', '2010-03-28 15:39:05')[0m


Processing ServiceEmailMailboxesController#new (for 0.0.0.0 at 2010-03-28 17:39:05) [GET]
  Parameters: {"action"=>"new", "controller"=>"service_email_mailboxes"}
  [4;35;1mLoggedUser Load (0.2ms)[0m   [0mSELECT * FROM "logged_users" WHERE ("logged_users"."ip" = '0.0.0.0' AND "logged_users"."session" = 'test session') LIMIT 1[0m
  [4;36;1mLoggedUser Update (0.1ms)[0m   [0;1mUPDATE "logged_users" SET "updated_at" = '2010-03-28 15:39:05', "session_ts" = '2010-03-28 15:39:05' WHERE "id" = 2053932786[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
  [4;36;1mServiceEmailUser Load (0.2ms)[0m   [0;1mSELECT * FROM "service_email_users" WHERE ("service_email_users"."user_id" = 2) LIMIT 1[0m
Rendering template within layouts/ohm
Rendering service_email_mailboxes/new
  [4;35;1mDomain Load (0.1ms)[0m   [0mSELECT * FROM "domains" WHERE ("domains".user_id = 2) [0m
  [4;36;1mService Load (0.1ms)[0m   [0;1mSELECT * FROM "services" INNER JOIN "services_users" ON "services".id = "services_users".service_id WHERE ("services_users".user_id = 2 ) [0m
Completed in 15ms (View: 11, DB: 1) | 200 OK [http://test.host/service_email_mailboxes/new]
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
  [4;36;1mLoggedUser Create (0.2ms)[0m   [0;1mINSERT INTO "logged_users" ("created_at", "session", "updated_at", "user_id", "ip", "session_ts") VALUES('2010-03-28 15:39:05', 'test session', '2010-03-28 15:39:05', 2, '0.0.0.0', '2010-03-28 15:39:05')[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM "service_email_mailboxes" [0m


Processing ServiceEmailMailboxesController#create (for 0.0.0.0 at 2010-03-28 17:39:05) [POST]
  Parameters: {"action"=>"create", "controller"=>"service_email_mailboxes", "service_email_mailbox"=>{"address"=>"newtest", "password_confirmation"=>"[FILTERED]", "domain_id"=>1, "password"=>"[FILTERED]"}}
  [4;36;1mLoggedUser Load (0.2ms)[0m   [0;1mSELECT * FROM "logged_users" WHERE ("logged_users"."ip" = '0.0.0.0' AND "logged_users"."session" = 'test session') LIMIT 1[0m
  [4;35;1mLoggedUser Update (0.1ms)[0m   [0mUPDATE "logged_users" SET "updated_at" = '2010-03-28 15:39:05', "session_ts" = '2010-03-28 15:39:05' WHERE "id" = 2053932786[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
  [4;35;1mServiceEmailUser Load (0.2ms)[0m   [0mSELECT * FROM "service_email_users" WHERE ("service_email_users"."user_id" = 2) LIMIT 1[0m
  [4;36;1mDomain Load (0.1ms)[0m   [0;1mSELECT * FROM "domains" WHERE ("domains"."id" = 1) [0m
  [4;35;1mDomain Load (0.1ms)[0m   [0mSELECT "domains".id FROM "domains" WHERE ("domains"."id" = 1) AND ("domains".user_id = 2) LIMIT 1[0m
Rendering template within layouts/ohm
Rendering service_email_mailboxes/new
  [4;36;1mDomain Load (0.1ms)[0m   [0;1mSELECT * FROM "domains" WHERE ("domains".user_id = 2) [0m
  [4;35;1mService Load (0.2ms)[0m   [0mSELECT * FROM "services" INNER JOIN "services_users" ON "services".id = "services_users".service_id WHERE ("services_users".user_id = 2 ) [0m
Completed in 17ms (View: 13, DB: 2) | 200 OK [http://test.host/service_email_mailboxes/create?service_email_mailbox%5Baddress%5D=newtest&service_email_mailbox%5Bdomain_id%5D=1&service_email_mailbox%5Bpassword%5D=newpass&service_email_mailbox%5Bpassword_confirmation%5D=newpass]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM "service_email_mailboxes" [0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
  [4;36;1mLoggedUser Create (0.2ms)[0m   [0;1mINSERT INTO "logged_users" ("created_at", "session", "updated_at", "user_id", "ip", "session_ts") VALUES('2010-03-28 15:39:05', 'test session', '2010-03-28 15:39:05', 2, '0.0.0.0', '2010-03-28 15:39:05')[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM "service_email_mailboxes" [0m
  [4;36;1mServiceEmailMailbox Load (0.2ms)[0m   [0;1mSELECT * FROM "service_email_mailboxes" WHERE ("service_email_mailboxes"."id" = 198609129) [0m


Processing ServiceEmailMailboxesController#destroy (for 0.0.0.0 at 2010-03-28 17:39:05) [DELETE]
  Parameters: {"action"=>"destroy", "id"=>"198609129", "controller"=>"service_email_mailboxes"}
  [4;35;1mLoggedUser Load (0.2ms)[0m   [0mSELECT * FROM "logged_users" WHERE ("logged_users"."ip" = '0.0.0.0' AND "logged_users"."session" = 'test session') LIMIT 1[0m
  [4;36;1mLoggedUser Update (0.1ms)[0m   [0;1mUPDATE "logged_users" SET "updated_at" = '2010-03-28 15:39:06', "session_ts" = '2010-03-28 15:39:06' WHERE "id" = 2053932786[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
  [4;36;1mServiceEmailUser Load (0.2ms)[0m   [0;1mSELECT * FROM "service_email_users" WHERE ("service_email_users"."user_id" = 2) LIMIT 1[0m
  [4;35;1mServiceEmailMailbox Load (0.2ms)[0m   [0mSELECT * FROM "service_email_mailboxes" WHERE ("service_email_mailboxes"."id" = 198609129) [0m
  [4;36;1mDomain Load (0.1ms)[0m   [0;1mSELECT * FROM "domains" WHERE ("domains"."id" = 1) [0m
  [4;35;1mDomain Load (0.1ms)[0m   [0mSELECT "domains".id FROM "domains" WHERE ("domains"."id" = 1) AND ("domains".user_id = 2) LIMIT 1[0m
Redirected to http://test.host/service_email_mailboxes
Completed in 5ms (DB: 2) | 302 Found [http://test.host/service_email_mailboxes/destroy/198609129]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM "service_email_mailboxes" [0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
  [4;36;1mLoggedUser Create (0.1ms)[0m   [0;1mINSERT INTO "logged_users" ("created_at", "session", "updated_at", "user_id", "ip", "session_ts") VALUES('2010-03-28 15:39:06', 'test session', '2010-03-28 15:39:06', 2, '0.0.0.0', '2010-03-28 15:39:06')[0m
  [4;35;1mServiceEmailMailbox Load (0.2ms)[0m   [0mSELECT * FROM "service_email_mailboxes" WHERE ("service_email_mailboxes"."id" = 198609129) [0m


Processing ServiceEmailMailboxesController#edit (for 0.0.0.0 at 2010-03-28 17:39:06) [GET]
  Parameters: {"action"=>"edit", "id"=>"198609129", "controller"=>"service_email_mailboxes"}
  [4;36;1mLoggedUser Load (0.2ms)[0m   [0;1mSELECT * FROM "logged_users" WHERE ("logged_users"."ip" = '0.0.0.0' AND "logged_users"."session" = 'test session') LIMIT 1[0m
  [4;35;1mLoggedUser Update (0.1ms)[0m   [0mUPDATE "logged_users" SET "updated_at" = '2010-03-28 15:39:06', "session_ts" = '2010-03-28 15:39:06' WHERE "id" = 2053932786[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
  [4;35;1mServiceEmailUser Load (0.2ms)[0m   [0mSELECT * FROM "service_email_users" WHERE ("service_email_users"."user_id" = 2) LIMIT 1[0m
  [4;36;1mServiceEmailMailbox Load (0.2ms)[0m   [0;1mSELECT * FROM "service_email_mailboxes" WHERE ("service_email_mailboxes"."id" = 198609129) [0m
  [4;35;1mDomain Load (0.2ms)[0m   [0mSELECT * FROM "domains" WHERE ("domains"."id" = 1) [0m
  [4;36;1mDomain Load (0.1ms)[0m   [0;1mSELECT "domains".id FROM "domains" WHERE ("domains"."id" = 1) AND ("domains".user_id = 2) LIMIT 1[0m
Redirected to http://test.host/service_email_mailboxes
Completed in 5ms (DB: 2) | 302 Found [http://test.host/service_email_mailboxes/edit/198609129]
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
  [4;36;1mLoggedUser Create (0.2ms)[0m   [0;1mINSERT INTO "logged_users" ("created_at", "session", "updated_at", "user_id", "ip", "session_ts") VALUES('2010-03-28 15:39:06', 'test session', '2010-03-28 15:39:06', 2, '0.0.0.0', '2010-03-28 15:39:06')[0m
  [4;35;1mServiceEmailMailbox Load (0.2ms)[0m   [0mSELECT * FROM "service_email_mailboxes" WHERE ("service_email_mailboxes"."id" = 198609129) [0m


Processing ServiceEmailMailboxesController#update (for 0.0.0.0 at 2010-03-28 17:39:06) [PUT]
  Parameters: {"action"=>"update", "id"=>"198609129", "controller"=>"service_email_mailboxes", "service_email_mailbox"=>{}}
  [4;36;1mLoggedUser Load (0.2ms)[0m   [0;1mSELECT * FROM "logged_users" WHERE ("logged_users"."ip" = '0.0.0.0' AND "logged_users"."session" = 'test session') LIMIT 1[0m
  [4;35;1mLoggedUser Update (0.1ms)[0m   [0mUPDATE "logged_users" SET "updated_at" = '2010-03-28 15:39:06', "session_ts" = '2010-03-28 15:39:06' WHERE "id" = 2053932786[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
  [4;35;1mServiceEmailUser Load (0.2ms)[0m   [0mSELECT * FROM "service_email_users" WHERE ("service_email_users"."user_id" = 2) LIMIT 1[0m
  [4;36;1mServiceEmailMailbox Load (0.2ms)[0m   [0;1mSELECT * FROM "service_email_mailboxes" WHERE ("service_email_mailboxes"."id" = 198609129) [0m
  [4;35;1mDomain Load (0.1ms)[0m   [0mSELECT * FROM "domains" WHERE ("domains"."id" = 1) [0m
  [4;36;1mDomain Load (0.1ms)[0m   [0;1mSELECT "domains".id FROM "domains" WHERE ("domains"."id" = 1) AND ("domains".user_id = 2) LIMIT 1[0m
Redirected to http://test.host/service_email_mailboxes
Completed in 5ms (DB: 2) | 302 Found [http://test.host/service_email_mailboxes/update/198609129?]
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mLoggedUser Create (0.2ms)[0m   [0;1mINSERT INTO "logged_users" ("created_at", "session", "updated_at", "user_id", "ip", "session_ts") VALUES('2010-03-28 15:39:06', 'test session', '2010-03-28 15:39:06', 1, '0.0.0.0', '2010-03-28 15:39:06')[0m
  [4;35;1mServiceEmailMailbox Load (0.2ms)[0m   [0mSELECT * FROM "service_email_mailboxes" WHERE ("service_email_mailboxes"."id" = 198609129) [0m


Processing ServiceEmailMailboxesController#update (for 0.0.0.0 at 2010-03-28 17:39:06) [PUT]
  Parameters: {"action"=>"update", "id"=>"198609129", "controller"=>"service_email_mailboxes", "service_email_mailbox"=>{}}
  [4;36;1mLoggedUser Load (0.2ms)[0m   [0;1mSELECT * FROM "logged_users" WHERE ("logged_users"."ip" = '0.0.0.0' AND "logged_users"."session" = 'test session') LIMIT 1[0m
  [4;35;1mLoggedUser Update (0.1ms)[0m   [0mUPDATE "logged_users" SET "updated_at" = '2010-03-28 15:39:06', "session_ts" = '2010-03-28 15:39:06' WHERE "id" = 2053932786[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mServiceEmailUser Load (0.1ms)[0m   [0mSELECT * FROM "service_email_users" WHERE ("service_email_users"."user_id" = 1) LIMIT 1[0m
  [4;36;1mServiceEmailUser Load (0.1ms)[0m   [0;1mSELECT "service_email_users".id FROM "service_email_users" WHERE ("service_email_users"."user_id" = 1) LIMIT 1[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mServiceEmailUser Create (0.2ms)[0m   [0;1mINSERT INTO "service_email_users" ("created_at", "updated_at", "max_aliases", "user_id", "max_mailboxes") VALUES('2010-03-28 15:39:06', '2010-03-28 15:39:06', -1, 1, -1)[0m
  [4;35;1mServiceEmailMailbox Load (0.2ms)[0m   [0mSELECT * FROM "service_email_mailboxes" WHERE ("service_email_mailboxes"."id" = 198609129) [0m
  [4;36;1mDomain Load (0.1ms)[0m   [0;1mSELECT * FROM "domains" WHERE ("domains"."id" = 1) [0m
  [4;35;1mDomain Load (0.1ms)[0m   [0mSELECT "domains".id FROM "domains" WHERE ("domains"."id" = 1) AND ("domains".user_id = 1) LIMIT 1[0m
  [4;36;1mServiceEmailMailbox Load (0.1ms)[0m   [0;1mSELECT "service_email_mailboxes".id FROM "service_email_mailboxes" WHERE ("service_email_mailboxes"."address" = 'test' AND "service_email_mailboxes".domain_id = 1 AND "service_email_mailboxes".id <> 198609129) LIMIT 1[0m
Redirected to http://test.host/service_email_mailboxes
Completed in 8ms (DB: 2) | 302 Found [http://test.host/service_email_mailboxes/update/198609129?]
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mLoggedUser Create (0.2ms)[0m   [0;1mINSERT INTO "logged_users" ("created_at", "session", "updated_at", "user_id", "ip", "session_ts") VALUES('2010-03-28 15:39:06', 'test session', '2010-03-28 15:39:06', 1, '0.0.0.0', '2010-03-28 15:39:06')[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM "services" [0m
  [4;36;1mService Load (0.2ms)[0m   [0;1mSELECT * FROM "services" WHERE ("services"."id" = 2053932785) [0m


Processing ServicesController#destroy (for 0.0.0.0 at 2010-03-28 17:39:06) [DELETE]
  Parameters: {"action"=>"destroy", "id"=>"2053932785", "controller"=>"services"}
  [4;35;1mLoggedUser Load (0.2ms)[0m   [0mSELECT * FROM "logged_users" WHERE ("logged_users"."ip" = '0.0.0.0' AND "logged_users"."session" = 'test session') LIMIT 1[0m
  [4;36;1mLoggedUser Update (0.1ms)[0m   [0;1mUPDATE "logged_users" SET "updated_at" = '2010-03-28 15:39:06', "session_ts" = '2010-03-28 15:39:06' WHERE "id" = 2053932786[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mService Load (0.2ms)[0m   [0;1mSELECT * FROM "services" WHERE ("services"."id" = 2053932785) [0m
  [4;35;1mDomain Load (0.1ms)[0m   [0mSELECT * FROM "domains" INNER JOIN "domains_services" ON "domains".id = "domains_services".domain_id WHERE ("domains_services".service_id = 2053932785 ) [0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM "users" INNER JOIN "services_users" ON "users".id = "services_users".user_id WHERE ("services_users".service_id = 2053932785 ) [0m
  [4;35;1mService Destroy (0.1ms)[0m   [0mDELETE FROM "services" WHERE "id" = 2053932785[0m
Redirected to http://test.host/services
Completed in 6ms (DB: 2) | 302 Found [http://test.host/services/2053932785]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM "services" [0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mLoggedUser Create (0.2ms)[0m   [0;1mINSERT INTO "logged_users" ("created_at", "session", "updated_at", "user_id", "ip", "session_ts") VALUES('2010-03-28 15:39:06', 'test session', '2010-03-28 15:39:06', 1, '0.0.0.0', '2010-03-28 15:39:06')[0m
  [4;35;1mService Load (0.2ms)[0m   [0mSELECT * FROM "services" WHERE ("services"."id" = 2053932785) [0m


Processing ServicesController#edit (for 0.0.0.0 at 2010-03-28 17:39:06) [GET]
  Parameters: {"action"=>"edit", "id"=>"2053932785", "controller"=>"services"}
  [4;36;1mLoggedUser Load (0.2ms)[0m   [0;1mSELECT * FROM "logged_users" WHERE ("logged_users"."ip" = '0.0.0.0' AND "logged_users"."session" = 'test session') LIMIT 1[0m
  [4;35;1mLoggedUser Update (0.1ms)[0m   [0mUPDATE "logged_users" SET "updated_at" = '2010-03-28 15:39:06', "session_ts" = '2010-03-28 15:39:06' WHERE "id" = 2053932786[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mService Load (0.2ms)[0m   [0mSELECT * FROM "services" WHERE ("services"."id" = 2053932785) [0m
Rendering template within layouts/ohm
Rendering services/edit
  [4;36;1mService Load (0.1ms)[0m   [0;1mSELECT * FROM "services" INNER JOIN "services_users" ON "services".id = "services_users".service_id WHERE ("services_users".user_id = 1 ) [0m
Completed in 10ms (View: 7, DB: 2) | 200 OK [http://test.host/services/2053932785/edit]
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mLoggedUser Create (0.1ms)[0m   [0;1mINSERT INTO "logged_users" ("created_at", "session", "updated_at", "user_id", "ip", "session_ts") VALUES('2010-03-28 15:39:06', 'test session', '2010-03-28 15:39:06', 1, '0.0.0.0', '2010-03-28 15:39:06')[0m


Processing ServicesController#index (for 0.0.0.0 at 2010-03-28 17:39:06) [GET]
  Parameters: {"action"=>"index", "controller"=>"services"}
  [4;35;1mLoggedUser Load (0.2ms)[0m   [0mSELECT * FROM "logged_users" WHERE ("logged_users"."ip" = '0.0.0.0' AND "logged_users"."session" = 'test session') LIMIT 1[0m
  [4;36;1mLoggedUser Update (0.1ms)[0m   [0;1mUPDATE "logged_users" SET "updated_at" = '2010-03-28 15:39:06', "session_ts" = '2010-03-28 15:39:06' WHERE "id" = 2053932786[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mService Load (0.3ms)[0m   [0;1mSELECT * FROM "services" [0m
Rendering template within layouts/ohm
Rendering services/index
  [4;35;1mService Load (0.1ms)[0m   [0mSELECT * FROM "services" INNER JOIN "services_users" ON "services".id = "services_users".service_id WHERE ("services_users".user_id = 1 ) [0m
Completed in 12ms (View: 9, DB: 1) | 200 OK [http://test.host/services]


Processing ServicesController#index (for 0.0.0.0 at 2010-03-28 17:39:06) [GET]
  Parameters: {"action"=>"index", "controller"=>"services"}
Redirected to http://test.host/login
Filter chain halted as [:authenticate_root] rendered_or_redirected.
Completed in 0ms (DB: 0) | 302 Found [http://test.host/services]
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mLoggedUser Create (0.2ms)[0m   [0mINSERT INTO "logged_users" ("created_at", "session", "updated_at", "user_id", "ip", "session_ts") VALUES('2010-03-28 15:39:06', 'test session', '2010-03-28 15:39:06', 1, '0.0.0.0', '2010-03-28 15:39:06')[0m


Processing ServicesController#new (for 0.0.0.0 at 2010-03-28 17:39:06) [GET]
  Parameters: {"action"=>"new", "controller"=>"services"}
  [4;36;1mLoggedUser Load (0.2ms)[0m   [0;1mSELECT * FROM "logged_users" WHERE ("logged_users"."ip" = '0.0.0.0' AND "logged_users"."session" = 'test session') LIMIT 1[0m
  [4;35;1mLoggedUser Update (0.1ms)[0m   [0mUPDATE "logged_users" SET "updated_at" = '2010-03-28 15:39:06', "session_ts" = '2010-03-28 15:39:06' WHERE "id" = 2053932786[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
Rendering template within layouts/ohm
Rendering services/new
  [4;35;1mService Load (0.1ms)[0m   [0mSELECT * FROM "services" INNER JOIN "services_users" ON "services".id = "services_users".service_id WHERE ("services_users".user_id = 1 ) [0m
Completed in 7ms (View: 5, DB: 1) | 200 OK [http://test.host/services/new]
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
  [4;35;1mLoggedUser Create (0.2ms)[0m   [0mINSERT INTO "logged_users" ("created_at", "session", "updated_at", "user_id", "ip", "session_ts") VALUES('2010-03-28 15:39:06', 'test session', '2010-03-28 15:39:06', 2, '0.0.0.0', '2010-03-28 15:39:06')[0m


Processing ServicesController#index (for 0.0.0.0 at 2010-03-28 17:39:06) [GET]
  Parameters: {"action"=>"index", "controller"=>"services"}
  [4;36;1mLoggedUser Load (0.2ms)[0m   [0;1mSELECT * FROM "logged_users" WHERE ("logged_users"."ip" = '0.0.0.0' AND "logged_users"."session" = 'test session') LIMIT 1[0m
  [4;35;1mLoggedUser Update (0.1ms)[0m   [0mUPDATE "logged_users" SET "updated_at" = '2010-03-28 15:39:06', "session_ts" = '2010-03-28 15:39:06' WHERE "id" = 2053932786[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
Redirected to http://test.host/
Filter chain halted as [:authenticate_root] rendered_or_redirected.
Completed in 3ms (DB: 1) | 302 Found [http://test.host/services]
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
  [4;36;1mLoggedUser Create (0.1ms)[0m   [0;1mINSERT INTO "logged_users" ("created_at", "session", "updated_at", "user_id", "ip", "session_ts") VALUES('2010-03-28 15:39:06', 'test session', '2010-03-28 15:39:06', 2, '0.0.0.0', '2010-03-28 15:39:06')[0m


Processing ServicesController#new (for 0.0.0.0 at 2010-03-28 17:39:06) [GET]
  Parameters: {"action"=>"new", "controller"=>"services"}
  [4;35;1mLoggedUser Load (0.2ms)[0m   [0mSELECT * FROM "logged_users" WHERE ("logged_users"."ip" = '0.0.0.0' AND "logged_users"."session" = 'test session') LIMIT 1[0m
  [4;36;1mLoggedUser Update (0.1ms)[0m   [0;1mUPDATE "logged_users" SET "updated_at" = '2010-03-28 15:39:06', "session_ts" = '2010-03-28 15:39:06' WHERE "id" = 2053932786[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
Redirected to http://test.host/
Filter chain halted as [:authenticate_root] rendered_or_redirected.
Completed in 3ms (DB: 1) | 302 Found [http://test.host/services/new]
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
  [4;35;1mLoggedUser Create (0.2ms)[0m   [0mINSERT INTO "logged_users" ("created_at", "session", "updated_at", "user_id", "ip", "session_ts") VALUES('2010-03-28 15:39:06', 'test session', '2010-03-28 15:39:06', 2, '0.0.0.0', '2010-03-28 15:39:06')[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM "services" [0m
  [4;35;1mService Load (10.2ms)[0m   [0mSELECT * FROM "services" WHERE ("services"."id" = 2053932785) [0m


Processing ServicesController#destroy (for 0.0.0.0 at 2010-03-28 17:39:06) [DELETE]
  Parameters: {"action"=>"destroy", "id"=>"2053932785", "controller"=>"services"}
  [4;36;1mLoggedUser Load (0.2ms)[0m   [0;1mSELECT * FROM "logged_users" WHERE ("logged_users"."ip" = '0.0.0.0' AND "logged_users"."session" = 'test session') LIMIT 1[0m
  [4;35;1mLoggedUser Update (0.1ms)[0m   [0mUPDATE "logged_users" SET "updated_at" = '2010-03-28 15:39:06', "session_ts" = '2010-03-28 15:39:06' WHERE "id" = 2053932786[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
Redirected to http://test.host/
Filter chain halted as [:authenticate_root] rendered_or_redirected.
Completed in 3ms (DB: 11) | 302 Found [http://test.host/services/2053932785]
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM "services" [0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
  [4;35;1mLoggedUser Create (0.2ms)[0m   [0mINSERT INTO "logged_users" ("created_at", "session", "updated_at", "user_id", "ip", "session_ts") VALUES('2010-03-28 15:39:06', 'test session', '2010-03-28 15:39:06', 2, '0.0.0.0', '2010-03-28 15:39:06')[0m
  [4;36;1mService Load (0.2ms)[0m   [0;1mSELECT * FROM "services" WHERE ("services"."id" = 2053932785) [0m


Processing ServicesController#edit (for 0.0.0.0 at 2010-03-28 17:39:06) [GET]
  Parameters: {"action"=>"edit", "id"=>"2053932785", "controller"=>"services"}
  [4;35;1mLoggedUser Load (0.2ms)[0m   [0mSELECT * FROM "logged_users" WHERE ("logged_users"."ip" = '0.0.0.0' AND "logged_users"."session" = 'test session') LIMIT 1[0m
  [4;36;1mLoggedUser Update (0.1ms)[0m   [0;1mUPDATE "logged_users" SET "updated_at" = '2010-03-28 15:39:06', "session_ts" = '2010-03-28 15:39:06' WHERE "id" = 2053932786[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
Redirected to http://test.host/
Filter chain halted as [:authenticate_root] rendered_or_redirected.
Completed in 3ms (DB: 1) | 302 Found [http://test.host/services/2053932785/edit]
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
  [4;35;1mLoggedUser Create (0.2ms)[0m   [0mINSERT INTO "logged_users" ("created_at", "session", "updated_at", "user_id", "ip", "session_ts") VALUES('2010-03-28 15:39:06', 'test session', '2010-03-28 15:39:06', 2, '0.0.0.0', '2010-03-28 15:39:06')[0m
  [4;36;1mService Load (0.2ms)[0m   [0;1mSELECT * FROM "services" WHERE ("services"."id" = 2053932785) [0m


Processing ServicesController#show (for 0.0.0.0 at 2010-03-28 17:39:06) [GET]
  Parameters: {"action"=>"show", "id"=>"2053932785", "controller"=>"services"}
  [4;35;1mLoggedUser Load (0.2ms)[0m   [0mSELECT * FROM "logged_users" WHERE ("logged_users"."ip" = '0.0.0.0' AND "logged_users"."session" = 'test session') LIMIT 1[0m
  [4;36;1mLoggedUser Update (0.1ms)[0m   [0;1mUPDATE "logged_users" SET "updated_at" = '2010-03-28 15:39:06', "session_ts" = '2010-03-28 15:39:06' WHERE "id" = 2053932786[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
Redirected to http://test.host/
Filter chain halted as [:authenticate_root] rendered_or_redirected.
Completed in 3ms (DB: 1) | 302 Found [http://test.host/services/2053932785]
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
  [4;35;1mLoggedUser Create (0.1ms)[0m   [0mINSERT INTO "logged_users" ("created_at", "session", "updated_at", "user_id", "ip", "session_ts") VALUES('2010-03-28 15:39:06', 'test session', '2010-03-28 15:39:06', 2, '0.0.0.0', '2010-03-28 15:39:06')[0m
  [4;36;1mService Load (0.2ms)[0m   [0;1mSELECT * FROM "services" WHERE ("services"."id" = 2053932785) [0m


Processing ServicesController#update (for 0.0.0.0 at 2010-03-28 17:39:06) [PUT]
  Parameters: {"service"=>{}, "action"=>"update", "id"=>"2053932785", "controller"=>"services"}
  [4;35;1mLoggedUser Load (0.2ms)[0m   [0mSELECT * FROM "logged_users" WHERE ("logged_users"."ip" = '0.0.0.0' AND "logged_users"."session" = 'test session') LIMIT 1[0m
  [4;36;1mLoggedUser Update (0.1ms)[0m   [0;1mUPDATE "logged_users" SET "updated_at" = '2010-03-28 15:39:06', "session_ts" = '2010-03-28 15:39:06' WHERE "id" = 2053932786[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
Redirected to http://test.host/
Filter chain halted as [:authenticate_root] rendered_or_redirected.
Completed in 3ms (DB: 1) | 302 Found [http://test.host/services/2053932785?]
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mLoggedUser Create (0.2ms)[0m   [0mINSERT INTO "logged_users" ("created_at", "session", "updated_at", "user_id", "ip", "session_ts") VALUES('2010-03-28 15:39:06', 'test session', '2010-03-28 15:39:06', 1, '0.0.0.0', '2010-03-28 15:39:06')[0m
  [4;36;1mService Load (0.2ms)[0m   [0;1mSELECT * FROM "services" WHERE ("services"."id" = 2053932785) [0m


Processing ServicesController#show (for 0.0.0.0 at 2010-03-28 17:39:06) [GET]
  Parameters: {"action"=>"show", "id"=>"2053932785", "controller"=>"services"}
  [4;35;1mLoggedUser Load (0.2ms)[0m   [0mSELECT * FROM "logged_users" WHERE ("logged_users"."ip" = '0.0.0.0' AND "logged_users"."session" = 'test session') LIMIT 1[0m
  [4;36;1mLoggedUser Update (0.1ms)[0m   [0;1mUPDATE "logged_users" SET "updated_at" = '2010-03-28 15:39:06', "session_ts" = '2010-03-28 15:39:06' WHERE "id" = 2053932786[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mService Load (0.2ms)[0m   [0;1mSELECT * FROM "services" WHERE ("services"."id" = 2053932785) [0m
Rendering template within layouts/ohm
Rendering services/show
  [4;35;1mService Load (0.1ms)[0m   [0mSELECT * FROM "services" INNER JOIN "services_users" ON "services".id = "services_users".service_id WHERE ("services_users".user_id = 1 ) [0m
Completed in 7ms (View: 4, DB: 2) | 200 OK [http://test.host/services/2053932785]
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mLoggedUser Create (0.2ms)[0m   [0mINSERT INTO "logged_users" ("created_at", "session", "updated_at", "user_id", "ip", "session_ts") VALUES('2010-03-28 15:39:06', 'test session', '2010-03-28 15:39:06', 1, '0.0.0.0', '2010-03-28 15:39:06')[0m
  [4;36;1mService Load (0.2ms)[0m   [0;1mSELECT * FROM "services" WHERE ("services"."id" = 2053932785) [0m


Processing ServicesController#update (for 0.0.0.0 at 2010-03-28 17:39:06) [PUT]
  Parameters: {"service"=>{}, "action"=>"update", "id"=>"2053932785", "controller"=>"services"}
  [4;35;1mLoggedUser Load (0.2ms)[0m   [0mSELECT * FROM "logged_users" WHERE ("logged_users"."ip" = '0.0.0.0' AND "logged_users"."session" = 'test session') LIMIT 1[0m
  [4;36;1mLoggedUser Update (0.1ms)[0m   [0;1mUPDATE "logged_users" SET "updated_at" = '2010-03-28 15:39:06', "session_ts" = '2010-03-28 15:39:06' WHERE "id" = 2053932786[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mService Load (0.2ms)[0m   [0;1mSELECT * FROM "services" WHERE ("services"."id" = 2053932785) [0m
  [4;35;1mService Load (0.1ms)[0m   [0mSELECT "services".id FROM "services" WHERE ("services"."name" = 'Service 1' AND "services".id <> 2053932785) LIMIT 1[0m
  [4;36;1mService Load (0.1ms)[0m   [0;1mSELECT "services".id FROM "services" WHERE ("services"."controller" = 'service_test_1' AND "services".id <> 2053932785) LIMIT 1[0m
Redirected to http://test.host/services/2053932785
Completed in 5ms (DB: 2) | 302 Found [http://test.host/services/2053932785?]
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mLoggedUser Create (0.2ms)[0m   [0;1mINSERT INTO "logged_users" ("created_at", "session", "updated_at", "user_id", "ip", "session_ts") VALUES('2010-03-28 15:39:06', 'test session', '2010-03-28 15:39:06', 1, '0.0.0.0', '2010-03-28 15:39:06')[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM "subdomains" [0m
  [4;36;1mDomain Load (0.1ms)[0m   [0;1mSELECT * FROM "domains" WHERE ("domains"."id" = 1) [0m


Processing SubdomainsController#create (for 0.0.0.0 at 2010-03-28 17:39:06) [POST]
  Parameters: {"action"=>"create", "subdomain"=>{"url"=>"newsub", "domain"=>#<Domain id: 1, domain: "test.com", user_id: 1, created_at: "2010-03-28 15:39:05", updated_at: "2010-03-28 15:39:05">}, "controller"=>"subdomains"}
  [4;35;1mLoggedUser Load (0.2ms)[0m   [0mSELECT * FROM "logged_users" WHERE ("logged_users"."ip" = '0.0.0.0' AND "logged_users"."session" = 'test session') LIMIT 1[0m
  [4;36;1mLoggedUser Update (0.1ms)[0m   [0;1mUPDATE "logged_users" SET "updated_at" = '2010-03-28 15:39:06', "session_ts" = '2010-03-28 15:39:06' WHERE "id" = 2053932786[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mSubdomain Load (0.1ms)[0m   [0mSELECT "subdomains".id FROM "subdomains" WHERE ("subdomains"."url" = 'newsub' AND "subdomains".domain_id = 1) LIMIT 1[0m
  [4;36;1mSubdomain Load (0.1ms)[0m   [0;1mSELECT "subdomains".id FROM "subdomains" WHERE ("subdomains"."path" IS NULL AND "subdomains".domain_id = 1) LIMIT 1[0m
  [4;35;1mSubdomain Create (0.1ms)[0m   [0mINSERT INTO "subdomains" ("created_at", "updated_at", "url", "domain_id", "path", "mainsub") VALUES('2010-03-28 15:39:06', '2010-03-28 15:39:06', 'newsub', 1, NULL, 'f')[0m
Redirected to http://test.host/domains/1
Completed in 7ms (DB: 2) | 302 Found [http://test.host/subdomains?subdomain%5Bdomain%5D=1&subdomain%5Burl%5D=newsub]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM "subdomains" [0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mLoggedUser Create (0.2ms)[0m   [0;1mINSERT INTO "logged_users" ("created_at", "session", "updated_at", "user_id", "ip", "session_ts") VALUES('2010-03-28 15:39:06', 'test session', '2010-03-28 15:39:06', 1, '0.0.0.0', '2010-03-28 15:39:06')[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM "subdomains" [0m
  [4;36;1mSubdomain Load (0.2ms)[0m   [0;1mSELECT * FROM "subdomains" WHERE ("subdomains"."id" = 2053932785) [0m


Processing SubdomainsController#destroy (for 0.0.0.0 at 2010-03-28 17:39:06) [DELETE]
  Parameters: {"action"=>"destroy", "id"=>"2053932785", "controller"=>"subdomains"}
  [4;35;1mLoggedUser Load (0.2ms)[0m   [0mSELECT * FROM "logged_users" WHERE ("logged_users"."ip" = '0.0.0.0' AND "logged_users"."session" = 'test session') LIMIT 1[0m
  [4;36;1mLoggedUser Update (0.1ms)[0m   [0;1mUPDATE "logged_users" SET "updated_at" = '2010-03-28 15:39:06', "session_ts" = '2010-03-28 15:39:06' WHERE "id" = 2053932786[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mSubdomain Load (0.2ms)[0m   [0;1mSELECT * FROM "subdomains" WHERE ("subdomains"."id" = 2053932785) [0m
  [4;35;1mDomain Load (0.1ms)[0m   [0mSELECT * FROM "domains" WHERE ("domains"."id" = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM "subdomains" WHERE ("subdomains".domain_id = 1) [0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mSubdomain Load (0.2ms)[0m   [0;1mSELECT * FROM "subdomains" WHERE ("subdomains".domain_id = 1) [0m
  [4;35;1mSubdomain Update (0.1ms)[0m   [0mUPDATE "subdomains" SET "updated_at" = '2010-03-28 15:39:06', "mainsub" = 't' WHERE "id" = 298486374[0m
  [4;36;1mSubdomain Destroy (0.1ms)[0m   [0;1mDELETE FROM "subdomains" WHERE "id" = 2053932785[0m
Redirected to http://test.host/domains/1
Completed in 7ms (DB: 3) | 302 Found [http://test.host/subdomains/2053932785]
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM "subdomains" [0m
  [4;36;1mDomain Load (0.1ms)[0m   [0;1mSELECT * FROM "domains" WHERE ("domains"."id" = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM "subdomains" [0m
  [4;36;1mSubdomain Load (0.2ms)[0m   [0;1mSELECT * FROM "subdomains" WHERE ("subdomains"."id" = 298486374) [0m


Processing SubdomainsController#destroy (for 0.0.0.0 at 2010-03-28 17:39:06) [DELETE]
  Parameters: {"action"=>"destroy", "id"=>"298486374", "controller"=>"subdomains"}
  [4;35;1mLoggedUser Load (0.2ms)[0m   [0mSELECT * FROM "logged_users" WHERE ("logged_users"."ip" = '0.0.0.0' AND "logged_users"."session" = 'test session') LIMIT 1[0m
  [4;36;1mLoggedUser Update (0.1ms)[0m   [0;1mUPDATE "logged_users" SET "updated_at" = '2010-03-28 15:39:06', "session_ts" = '2010-03-28 15:39:06' WHERE "id" = 2053932786[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mSubdomain Load (0.2ms)[0m   [0;1mSELECT * FROM "subdomains" WHERE ("subdomains"."id" = 298486374) [0m
  [4;35;1mDomain Load (0.1ms)[0m   [0mSELECT * FROM "domains" WHERE ("domains"."id" = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM "subdomains" WHERE ("subdomains".domain_id = 1) [0m
Redirected to http://test.host/domains/1
Completed in 4ms (DB: 1) | 302 Found [http://test.host/subdomains/2053932785]
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM "subdomains" [0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mLoggedUser Create (0.2ms)[0m   [0mINSERT INTO "logged_users" ("created_at", "session", "updated_at", "user_id", "ip", "session_ts") VALUES('2010-03-28 15:39:06', 'test session', '2010-03-28 15:39:06', 1, '0.0.0.0', '2010-03-28 15:39:06')[0m
  [4;36;1mSubdomain Load (0.2ms)[0m   [0;1mSELECT * FROM "subdomains" WHERE ("subdomains"."id" = 2053932785) [0m


Processing SubdomainsController#edit (for 0.0.0.0 at 2010-03-28 17:39:06) [GET]
  Parameters: {"action"=>"edit", "id"=>"2053932785", "controller"=>"subdomains"}
  [4;35;1mLoggedUser Load (0.2ms)[0m   [0mSELECT * FROM "logged_users" WHERE ("logged_users"."ip" = '0.0.0.0' AND "logged_users"."session" = 'test session') LIMIT 1[0m
  [4;36;1mLoggedUser Update (0.1ms)[0m   [0;1mUPDATE "logged_users" SET "updated_at" = '2010-03-28 15:39:06', "session_ts" = '2010-03-28 15:39:06' WHERE "id" = 2053932786[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mSubdomain Load (0.2ms)[0m   [0;1mSELECT * FROM "subdomains" WHERE ("subdomains"."id" = 2053932785) [0m
  [4;35;1mDomain Load (0.2ms)[0m   [0mSELECT * FROM "domains" WHERE ("domains"."id" = 1) [0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
Rendering template within layouts/ohm
Rendering subdomains/edit
  [4;35;1mService Load (0.1ms)[0m   [0mSELECT * FROM "services" INNER JOIN "services_users" ON "services".id = "services_users".service_id WHERE ("services_users".user_id = 1 ) [0m
Completed in 12ms (View: 7, DB: 2) | 200 OK [http://test.host/subdomains/2053932785/edit]


Processing SubdomainsController#index (for 0.0.0.0 at 2010-03-28 17:39:06) [GET]
  Parameters: {"action"=>"index", "controller"=>"subdomains"}
Redirected to http://test.host/login
Filter chain halted as [:authenticate] rendered_or_redirected.
Completed in 0ms (DB: 0) | 302 Found [http://test.host/subdomains]
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mLoggedUser Create (0.2ms)[0m   [0mINSERT INTO "logged_users" ("created_at", "session", "updated_at", "user_id", "ip", "session_ts") VALUES('2010-03-28 15:39:06', 'test session', '2010-03-28 15:39:06', 1, '0.0.0.0', '2010-03-28 15:39:06')[0m
  [4;36;1mDomain Load (0.2ms)[0m   [0;1mSELECT * FROM "domains" WHERE ("domains"."id" = 1) [0m


Processing SubdomainsController#new (for 0.0.0.0 at 2010-03-28 17:39:06) [GET]
  Parameters: {"action"=>"new", "domain"=>"1", "controller"=>"subdomains"}
  [4;35;1mLoggedUser Load (0.2ms)[0m   [0mSELECT * FROM "logged_users" WHERE ("logged_users"."ip" = '0.0.0.0' AND "logged_users"."session" = 'test session') LIMIT 1[0m
  [4;36;1mLoggedUser Update (0.1ms)[0m   [0;1mUPDATE "logged_users" SET "updated_at" = '2010-03-28 15:39:06', "session_ts" = '2010-03-28 15:39:06' WHERE "id" = 2053932786[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mDomain Load (0.2ms)[0m   [0;1mSELECT * FROM "domains" WHERE ("domains"."id" = 1) [0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
Rendering template within layouts/ohm
Rendering subdomains/new
  [4;36;1mService Load (0.1ms)[0m   [0;1mSELECT * FROM "services" INNER JOIN "services_users" ON "services".id = "services_users".service_id WHERE ("services_users".user_id = 1 ) [0m
Completed in 10ms (View: 7, DB: 2) | 200 OK [http://test.host/subdomains/new?domain=1]
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
  [4;36;1mLoggedUser Create (0.2ms)[0m   [0;1mINSERT INTO "logged_users" ("created_at", "session", "updated_at", "user_id", "ip", "session_ts") VALUES('2010-03-28 15:39:06', 'test session', '2010-03-28 15:39:06', 2, '0.0.0.0', '2010-03-28 15:39:06')[0m
  [4;35;1mDomain Load (0.2ms)[0m   [0mSELECT * FROM "domains" WHERE ("domains"."id" = 1) [0m


Processing SubdomainsController#new (for 0.0.0.0 at 2010-03-28 17:39:06) [GET]
  Parameters: {"action"=>"new", "domain"=>"1", "controller"=>"subdomains"}
  [4;36;1mLoggedUser Load (0.2ms)[0m   [0;1mSELECT * FROM "logged_users" WHERE ("logged_users"."ip" = '0.0.0.0' AND "logged_users"."session" = 'test session') LIMIT 1[0m
  [4;35;1mLoggedUser Update (0.1ms)[0m   [0mUPDATE "logged_users" SET "updated_at" = '2010-03-28 15:39:06', "session_ts" = '2010-03-28 15:39:06' WHERE "id" = 2053932786[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
  [4;35;1mDomain Load (0.2ms)[0m   [0mSELECT * FROM "domains" WHERE ("domains"."id" = 1) [0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
Redirected to http://test.host/domains
Completed in 4ms (DB: 2) | 302 Found [http://test.host/subdomains/new?domain=1]
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
  [4;36;1mLoggedUser Create (0.2ms)[0m   [0;1mINSERT INTO "logged_users" ("created_at", "session", "updated_at", "user_id", "ip", "session_ts") VALUES('2010-03-28 15:39:06', 'test session', '2010-03-28 15:39:06', 2, '0.0.0.0', '2010-03-28 15:39:06')[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM "subdomains" [0m
  [4;36;1mDomain Load (0.2ms)[0m   [0;1mSELECT * FROM "domains" WHERE ("domains"."id" = 1) [0m


Processing SubdomainsController#create (for 0.0.0.0 at 2010-03-28 17:39:06) [POST]
  Parameters: {"action"=>"create", "subdomain"=>{"url"=>"newsub", "domain"=>#<Domain id: 1, domain: "test.com", user_id: 1, created_at: "2010-03-28 15:39:05", updated_at: "2010-03-28 15:39:05">}, "controller"=>"subdomains"}
  [4;35;1mLoggedUser Load (0.2ms)[0m   [0mSELECT * FROM "logged_users" WHERE ("logged_users"."ip" = '0.0.0.0' AND "logged_users"."session" = 'test session') LIMIT 1[0m
  [4;36;1mLoggedUser Update (0.1ms)[0m   [0;1mUPDATE "logged_users" SET "updated_at" = '2010-03-28 15:39:06', "session_ts" = '2010-03-28 15:39:06' WHERE "id" = 2053932786[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
Redirected to http://test.host/domains
Completed in 3ms (DB: 2) | 302 Found [http://test.host/subdomains?subdomain%5Bdomain%5D=1&subdomain%5Burl%5D=newsub]
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM "subdomains" [0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
  [4;35;1mLoggedUser Create (0.2ms)[0m   [0mINSERT INTO "logged_users" ("created_at", "session", "updated_at", "user_id", "ip", "session_ts") VALUES('2010-03-28 15:39:06', 'test session', '2010-03-28 15:39:06', 2, '0.0.0.0', '2010-03-28 15:39:06')[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM "subdomains" [0m
  [4;35;1mSubdomain Load (0.2ms)[0m   [0mSELECT * FROM "subdomains" WHERE ("subdomains"."id" = 2053932785) [0m


Processing SubdomainsController#destroy (for 0.0.0.0 at 2010-03-28 17:39:06) [DELETE]
  Parameters: {"action"=>"destroy", "id"=>"2053932785", "controller"=>"subdomains"}
  [4;36;1mLoggedUser Load (0.2ms)[0m   [0;1mSELECT * FROM "logged_users" WHERE ("logged_users"."ip" = '0.0.0.0' AND "logged_users"."session" = 'test session') LIMIT 1[0m
  [4;35;1mLoggedUser Update (0.1ms)[0m   [0mUPDATE "logged_users" SET "updated_at" = '2010-03-28 15:39:06', "session_ts" = '2010-03-28 15:39:06' WHERE "id" = 2053932786[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
  [4;35;1mSubdomain Load (0.2ms)[0m   [0mSELECT * FROM "subdomains" WHERE ("subdomains"."id" = 2053932785) [0m
  [4;36;1mDomain Load (0.1ms)[0m   [0;1mSELECT * FROM "domains" WHERE ("domains"."id" = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM "subdomains" WHERE ("subdomains".domain_id = 1) [0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
Redirected to http://test.host/domains
Completed in 5ms (DB: 2) | 302 Found [http://test.host/subdomains/2053932785]
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM "subdomains" [0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
  [4;35;1mLoggedUser Create (0.1ms)[0m   [0mINSERT INTO "logged_users" ("created_at", "session", "updated_at", "user_id", "ip", "session_ts") VALUES('2010-03-28 15:39:06', 'test session', '2010-03-28 15:39:06', 2, '0.0.0.0', '2010-03-28 15:39:06')[0m
  [4;36;1mSubdomain Load (0.2ms)[0m   [0;1mSELECT * FROM "subdomains" WHERE ("subdomains"."id" = 2053932785) [0m


Processing SubdomainsController#edit (for 0.0.0.0 at 2010-03-28 17:39:06) [GET]
  Parameters: {"action"=>"edit", "id"=>"2053932785", "controller"=>"subdomains"}
  [4;35;1mLoggedUser Load (0.2ms)[0m   [0mSELECT * FROM "logged_users" WHERE ("logged_users"."ip" = '0.0.0.0' AND "logged_users"."session" = 'test session') LIMIT 1[0m
  [4;36;1mLoggedUser Update (0.1ms)[0m   [0;1mUPDATE "logged_users" SET "updated_at" = '2010-03-28 15:39:06', "session_ts" = '2010-03-28 15:39:06' WHERE "id" = 2053932786[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
  [4;36;1mSubdomain Load (0.2ms)[0m   [0;1mSELECT * FROM "subdomains" WHERE ("subdomains"."id" = 2053932785) [0m
  [4;35;1mDomain Load (0.2ms)[0m   [0mSELECT * FROM "domains" WHERE ("domains"."id" = 1) [0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
Redirected to http://test.host/domains
Completed in 4ms (DB: 2) | 302 Found [http://test.host/subdomains/2053932785/edit]
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
  [4;36;1mLoggedUser Create (0.1ms)[0m   [0;1mINSERT INTO "logged_users" ("created_at", "session", "updated_at", "user_id", "ip", "session_ts") VALUES('2010-03-28 15:39:06', 'test session', '2010-03-28 15:39:06', 2, '0.0.0.0', '2010-03-28 15:39:06')[0m
  [4;35;1mSubdomain Load (0.2ms)[0m   [0mSELECT * FROM "subdomains" WHERE ("subdomains"."id" = 2053932785) [0m


Processing SubdomainsController#update (for 0.0.0.0 at 2010-03-28 17:39:06) [PUT]
  Parameters: {"action"=>"update", "id"=>"2053932785", "subdomain"=>{"url"=>"newurl"}, "controller"=>"subdomains"}
  [4;36;1mLoggedUser Load (0.2ms)[0m   [0;1mSELECT * FROM "logged_users" WHERE ("logged_users"."ip" = '0.0.0.0' AND "logged_users"."session" = 'test session') LIMIT 1[0m
  [4;35;1mLoggedUser Update (0.1ms)[0m   [0mUPDATE "logged_users" SET "updated_at" = '2010-03-28 15:39:06', "session_ts" = '2010-03-28 15:39:06' WHERE "id" = 2053932786[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
  [4;35;1mSubdomain Load (0.2ms)[0m   [0mSELECT * FROM "subdomains" WHERE ("subdomains"."id" = 2053932785) [0m
  [4;36;1mDomain Load (0.2ms)[0m   [0;1mSELECT * FROM "domains" WHERE ("domains"."id" = 1) [0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
Redirected to http://test.host/domains
Completed in 4ms (DB: 2) | 302 Found [http://test.host/subdomains/2053932785?subdomain%5Burl%5D=newurl]
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mLoggedUser Create (0.1ms)[0m   [0mINSERT INTO "logged_users" ("created_at", "session", "updated_at", "user_id", "ip", "session_ts") VALUES('2010-03-28 15:39:06', 'test session', '2010-03-28 15:39:06', 1, '0.0.0.0', '2010-03-28 15:39:06')[0m
  [4;36;1mDomain Load (0.1ms)[0m   [0;1mSELECT * FROM "domains" WHERE ("domains"."id" = 1) [0m


Processing SubdomainsController#update (for 0.0.0.0 at 2010-03-28 17:39:06) [PUT]
  Parameters: {"action"=>"update", "id"=>"2053932785", "subdomain"=>{"url"=>"newurl", "domain"=>#<Domain id: 1, domain: "test.com", user_id: 1, created_at: "2010-03-28 15:39:05", updated_at: "2010-03-28 15:39:05">}, "controller"=>"subdomains"}
  [4;35;1mLoggedUser Load (0.2ms)[0m   [0mSELECT * FROM "logged_users" WHERE ("logged_users"."ip" = '0.0.0.0' AND "logged_users"."session" = 'test session') LIMIT 1[0m
  [4;36;1mLoggedUser Update (0.1ms)[0m   [0;1mUPDATE "logged_users" SET "updated_at" = '2010-03-28 15:39:06', "session_ts" = '2010-03-28 15:39:06' WHERE "id" = 2053932786[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
  [4;36;1mSubdomain Load (0.2ms)[0m   [0;1mSELECT * FROM "subdomains" WHERE ("subdomains"."id" = 2053932785) [0m
  [4;35;1mDomain Load (0.2ms)[0m   [0mSELECT * FROM "domains" WHERE ("domains"."id" = 1) [0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
Redirected to http://test.host/domains
Completed in 4ms (DB: 2) | 302 Found [http://test.host/subdomains/2053932785?subdomain%5Burl%5D=newurl]
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mLoggedUser Create (0.1ms)[0m   [0;1mINSERT INTO "logged_users" ("created_at", "session", "updated_at", "user_id", "ip", "session_ts") VALUES('2010-03-28 15:39:06', 'test session', '2010-03-28 15:39:06', 1, '0.0.0.0', '2010-03-28 15:39:06')[0m
  [4;35;1mSubdomain Load (0.2ms)[0m   [0mSELECT * FROM "subdomains" WHERE ("subdomains"."id" = 2053932785) [0m


Processing SubdomainsController#update (for 0.0.0.0 at 2010-03-28 17:39:06) [PUT]
  Parameters: {"action"=>"update", "id"=>"2053932785", "subdomain"=>{"url"=>"newurl"}, "controller"=>"subdomains"}
  [4;36;1mLoggedUser Load (0.2ms)[0m   [0;1mSELECT * FROM "logged_users" WHERE ("logged_users"."ip" = '0.0.0.0' AND "logged_users"."session" = 'test session') LIMIT 1[0m
  [4;35;1mLoggedUser Update (0.1ms)[0m   [0mUPDATE "logged_users" SET "updated_at" = '2010-03-28 15:39:06', "session_ts" = '2010-03-28 15:39:06' WHERE "id" = 2053932786[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mSubdomain Load (0.2ms)[0m   [0mSELECT * FROM "subdomains" WHERE ("subdomains"."id" = 2053932785) [0m
  [4;36;1mDomain Load (0.1ms)[0m   [0;1mSELECT * FROM "domains" WHERE ("domains"."id" = 1) [0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mSubdomain Load (0.1ms)[0m   [0;1mSELECT "subdomains".id FROM "subdomains" WHERE ("subdomains"."url" = 'newurl' AND "subdomains".domain_id = 1 AND "subdomains".id <> 2053932785) LIMIT 1[0m
  [4;35;1mSubdomain Load (0.1ms)[0m   [0mSELECT "subdomains".id FROM "subdomains" WHERE ("subdomains"."path" = 'www' AND "subdomains".domain_id = 1 AND "subdomains".id <> 2053932785) LIMIT 1[0m
  [4;36;1mSubdomain Load (0.2ms)[0m   [0;1mSELECT * FROM "subdomains" WHERE ("subdomains"."domain_id" = 1 AND "subdomains"."mainsub" = 't') LIMIT 1[0m
  [4;35;1mSubdomain Update (0.1ms)[0m   [0mUPDATE "subdomains" SET "updated_at" = '2010-03-28 15:39:06', "url" = 'newurl' WHERE "id" = 2053932785[0m
Redirected to http://test.host/domains/1
Completed in 7ms (DB: 2) | 302 Found [http://test.host/subdomains/2053932785?subdomain%5Burl%5D=newurl]
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mLoggedUser Create (0.1ms)[0m   [0mINSERT INTO "logged_users" ("created_at", "session", "updated_at", "user_id", "ip", "session_ts") VALUES('2010-03-28 15:39:06', 'test session', '2010-03-28 15:39:06', 1, '0.0.0.0', '2010-03-28 15:39:06')[0m
  [4;36;1mService Load (0.2ms)[0m   [0;1mSELECT * FROM "services" WHERE ("services"."id" = 2053932785) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mINSERT INTO "services_users" ("service_id", "user_id") VALUES (2053932785, 1)[0m
  [4;36;1mService Load (0.1ms)[0m   [0;1mSELECT "services".id FROM "services" WHERE ("services"."name" = 'Service 1' AND "services".id <> 2053932785) LIMIT 1[0m
  [4;35;1mService Load (0.1ms)[0m   [0mSELECT "services".id FROM "services" WHERE ("services"."controller" = 'service_test_1' AND "services".id <> 2053932785) LIMIT 1[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM "services" INNER JOIN "services_users" ON "services".id = "services_users".service_id WHERE ("services_users".user_id = 2 ) [0m


Processing UsersController#addservice (for 0.0.0.0 at 2010-03-28 17:39:06) [POST]
  Parameters: {"action"=>"addservice", "service_id"=>[2053932785], "user_id"=>"2", "controller"=>"users"}
  [4;36;1mLoggedUser Load (0.2ms)[0m   [0;1mSELECT * FROM "logged_users" WHERE ("logged_users"."ip" = '0.0.0.0' AND "logged_users"."session" = 'test session') LIMIT 1[0m
  [4;35;1mLoggedUser Update (0.1ms)[0m   [0mUPDATE "logged_users" SET "updated_at" = '2010-03-28 15:39:06', "session_ts" = '2010-03-28 15:39:06' WHERE "id" = 2053932786[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
  [4;36;1mService Load (0.2ms)[0m   [0;1mSELECT * FROM "services" WHERE ("services"."id" = 2053932785) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mINSERT INTO "services_users" ("service_id", "user_id") VALUES (2053932785, 2)[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT "users".id FROM "users" WHERE ("users"."username" = 'test1' AND "users".id <> 2) LIMIT 1[0m
  [4;36;1mService Load (0.3ms)[0m   [0;1mSELECT * FROM "services" INNER JOIN "services_users" ON "services".id = "services_users".service_id WHERE ("services_users".user_id = 2 ) [0m
  [4;35;1mService Load (0.3ms)[0m   [0mSELECT * FROM "services" INNER JOIN "services_users" ON "services".id = "services_users".service_id WHERE ("services_users".user_id = 1 ) [0m
Redirected to http://test.host/service_test_1/addtouser?user_id=2
Completed in 67ms (DB: 3) | 302 Found [http://test.host/users/addservice?service_id%5B%5D=2053932785&user_id=2]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM "services" INNER JOIN "services_users" ON "services".id = "services_users".service_id WHERE ("services_users".user_id = 2 ) [0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mLoggedUser Create (0.2ms)[0m   [0;1mINSERT INTO "logged_users" ("created_at", "session", "updated_at", "user_id", "ip", "session_ts") VALUES('2010-03-28 15:39:06', 'test session', '2010-03-28 15:39:06', 1, '0.0.0.0', '2010-03-28 15:39:06')[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM "users" [0m


Processing UsersController#create (for 0.0.0.0 at 2010-03-28 17:39:06) [POST]
  Parameters: {"action"=>"create", "controller"=>"users", "user"=>{"username"=>"newuser", "password"=>"[FILTERED]", "email"=>"test@test.com"}}
  [4;36;1mLoggedUser Load (0.2ms)[0m   [0;1mSELECT * FROM "logged_users" WHERE ("logged_users"."ip" = '0.0.0.0' AND "logged_users"."session" = 'test session') LIMIT 1[0m
  [4;35;1mLoggedUser Update (0.1ms)[0m   [0mUPDATE "logged_users" SET "updated_at" = '2010-03-28 15:39:06', "session_ts" = '2010-03-28 15:39:06' WHERE "id" = 2053932786[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT "users".id FROM "users" WHERE ("users"."username" = 'newuser') LIMIT 1[0m
  [4;36;1mService Load (0.1ms)[0m   [0;1mSELECT * FROM "services" INNER JOIN "services_users" ON "services".id = "services_users".service_id WHERE ("services_users".user_id = 1 ) [0m
  [4;35;1mUser Create (0.1ms)[0m   [0mINSERT INTO "users" ("max_bandwidth", "created_at", "max_space", "updated_at", "username", "used_space", "max_subusers", "full_name", "parent_id", "password", "email", "max_subdomains", "ohmd_password") VALUES(NULL, '2010-03-28 15:39:06', -1, '2010-03-28 15:39:06', 'newuser', 0, -1, NULL, 1, 'newpassword', 'test@test.com', -1, NULL)[0m
Redirected to http://test.host/users/4
Completed in 8ms (DB: 2) | 302 Found [http://test.host/users?user%5Bemail%5D=test%40test.com&user%5Bpassword%5D=newpassword&user%5Busername%5D=newuser]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM "users" [0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
  [4;36;1mLoggedUser Create (0.1ms)[0m   [0;1mINSERT INTO "logged_users" ("created_at", "session", "updated_at", "user_id", "ip", "session_ts") VALUES('2010-03-28 15:39:06', 'test session', '2010-03-28 15:39:06', 2, '0.0.0.0', '2010-03-28 15:39:06')[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM "users" [0m


Processing UsersController#create (for 0.0.0.0 at 2010-03-28 17:39:06) [POST]
  Parameters: {"action"=>"create", "controller"=>"users", "user"=>{"max_space"=>100, "username"=>"secondnewuser", "max_subusers"=>1, "password"=>"[FILTERED]", "email"=>"test@test.com", "max_subdomains"=>1}}
  [4;36;1mLoggedUser Load (0.2ms)[0m   [0;1mSELECT * FROM "logged_users" WHERE ("logged_users"."ip" = '0.0.0.0' AND "logged_users"."session" = 'test session') LIMIT 1[0m
  [4;35;1mLoggedUser Update (0.1ms)[0m   [0mUPDATE "logged_users" SET "updated_at" = '2010-03-28 15:39:06', "session_ts" = '2010-03-28 15:39:06' WHERE "id" = 2053932786[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT "users".id FROM "users" WHERE ("users"."username" = 'secondnewuser') LIMIT 1[0m
  [4;36;1mService Load (0.1ms)[0m   [0;1mSELECT * FROM "services" INNER JOIN "services_users" ON "services".id = "services_users".service_id WHERE ("services_users".user_id = 1 ) [0m
  [4;35;1mUser Create (0.1ms)[0m   [0mINSERT INTO "users" ("max_bandwidth", "created_at", "max_space", "updated_at", "username", "used_space", "max_subusers", "full_name", "parent_id", "password", "email", "max_subdomains", "ohmd_password") VALUES(NULL, '2010-03-28 15:39:06', 100, '2010-03-28 15:39:06', 'secondnewuser', 0, 1, NULL, 1, 'newpassword', 'test@test.com', 1, NULL)[0m
Redirected to http://test.host/users/5
Completed in 7ms (DB: 1) | 302 Found [http://test.host/users?user%5Bemail%5D=test%40test.com&user%5Bpassword%5D=newpassword&user%5Busername%5D=newuser]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM "users" [0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mLoggedUser Create (0.1ms)[0m   [0;1mINSERT INTO "logged_users" ("created_at", "session", "updated_at", "user_id", "ip", "session_ts") VALUES('2010-03-28 15:39:06', 'test session', '2010-03-28 15:39:06', 1, '0.0.0.0', '2010-03-28 15:39:06')[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m


Processing UsersController#destroy (for 0.0.0.0 at 2010-03-28 17:39:06) [DELETE]
  Parameters: {"action"=>"destroy", "id"=>"2", "controller"=>"users"}
  [4;36;1mLoggedUser Load (0.2ms)[0m   [0;1mSELECT * FROM "logged_users" WHERE ("logged_users"."ip" = '0.0.0.0' AND "logged_users"."session" = 'test session') LIMIT 1[0m
  [4;35;1mLoggedUser Update (0.1ms)[0m   [0mUPDATE "logged_users" SET "updated_at" = '2010-03-28 15:39:06', "session_ts" = '2010-03-28 15:39:06' WHERE "id" = 2053932786[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mService Load (0.1ms)[0m   [0mSELECT * FROM "services" INNER JOIN "services_users" ON "services".id = "services_users".service_id WHERE ("services_users".user_id = 2 ) [0m
  [4;36;1mUser Destroy (0.1ms)[0m   [0;1mDELETE FROM "users" WHERE "id" = 2[0m
WARNING: Can't mass-assign these protected attributes: id
  [4;35;1mUser Create (0.1ms)[0m   [0mINSERT INTO "users" ("max_bandwidth", "created_at", "max_space", "updated_at", "username", "used_space", "max_subusers", "full_name", "parent_id", "password", "email", "max_subdomains", "ohmd_password") VALUES(NULL, '2010-03-28 15:39:06', NULL, '2010-03-28 15:39:06', 'test1', NULL, NULL, NULL, -1, NULL, NULL, NULL, NULL)[0m
Redirected to http://test.host/users
Completed in 6ms (DB: 2) | 302 Found [http://test.host/users/2]
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."username" = 'test1') LIMIT 1[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mLoggedUser Create (0.2ms)[0m   [0;1mINSERT INTO "logged_users" ("created_at", "session", "updated_at", "user_id", "ip", "session_ts") VALUES('2010-03-28 15:39:06', 'test session', '2010-03-28 15:39:06', 1, '0.0.0.0', '2010-03-28 15:39:06')[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m


Processing UsersController#edit (for 0.0.0.0 at 2010-03-28 17:39:06) [GET]
  Parameters: {"action"=>"edit", "id"=>"2", "controller"=>"users"}
  [4;36;1mLoggedUser Load (0.2ms)[0m   [0;1mSELECT * FROM "logged_users" WHERE ("logged_users"."ip" = '0.0.0.0' AND "logged_users"."session" = 'test session') LIMIT 1[0m
  [4;35;1mLoggedUser Update (0.1ms)[0m   [0mUPDATE "logged_users" SET "updated_at" = '2010-03-28 15:39:06', "session_ts" = '2010-03-28 15:39:06' WHERE "id" = 2053932786[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
Rendering template within layouts/ohm
Rendering users/edit
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM "users" WHERE ("users".parent_id = 2) [0m
  [4;36;1mDomain Load (0.1ms)[0m   [0;1mSELECT * FROM "domains" WHERE ("domains".user_id = 2) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM "users" WHERE ("users".parent_id = 2) [0m
  [4;36;1mService Load (0.1ms)[0m   [0;1mSELECT * FROM "services" INNER JOIN "services_users" ON "services".id = "services_users".service_id WHERE ("services_users".user_id = 1 ) [0m
Completed in 14ms (View: 10, DB: 3) | 200 OK [http://test.host/users/2/edit]
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
  [4;36;1mLoggedUser Create (0.2ms)[0m   [0;1mINSERT INTO "logged_users" ("created_at", "session", "updated_at", "user_id", "ip", "session_ts") VALUES('2010-03-28 15:39:06', 'test session', '2010-03-28 15:39:06', 2, '0.0.0.0', '2010-03-28 15:39:06')[0m


Processing UsersController#index (for 0.0.0.0 at 2010-03-28 17:39:06) [GET]
  Parameters: {"action"=>"index", "controller"=>"users"}
  [4;35;1mLoggedUser Load (0.2ms)[0m   [0mSELECT * FROM "logged_users" WHERE ("logged_users"."ip" = '0.0.0.0' AND "logged_users"."session" = 'test session') LIMIT 1[0m
  [4;36;1mLoggedUser Update (0.1ms)[0m   [0;1mUPDATE "logged_users" SET "updated_at" = '2010-03-28 15:39:06', "session_ts" = '2010-03-28 15:39:06' WHERE "id" = 2053932786[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
Rendering template within layouts/ohm
Rendering users/index
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM "users" WHERE ("users".parent_id = 2) [0m
  [4;35;1mService Load (0.1ms)[0m   [0mSELECT * FROM "services" INNER JOIN "services_users" ON "services".id = "services_users".service_id WHERE ("services_users".user_id = 2 ) [0m
Completed in 8ms (View: 5, DB: 1) | 200 OK [http://test.host/users]


Processing UsersController#index (for 0.0.0.0 at 2010-03-28 17:39:06) [GET]
  Parameters: {"action"=>"index", "controller"=>"users"}
Redirected to http://test.host/login
Filter chain halted as [:authenticate] rendered_or_redirected.
Completed in 0ms (DB: 0) | 302 Found [http://test.host/users]
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
  [4;35;1mLoggedUser Create (0.2ms)[0m   [0mINSERT INTO "logged_users" ("created_at", "session", "updated_at", "user_id", "ip", "session_ts") VALUES('2010-03-28 15:39:06', 'test session', '2010-03-28 15:39:06', 2, '0.0.0.0', '2010-03-28 15:39:06')[0m


Processing UsersController#new (for 0.0.0.0 at 2010-03-28 17:39:06) [GET]
  Parameters: {"action"=>"new", "controller"=>"users"}
  [4;36;1mLoggedUser Load (0.2ms)[0m   [0;1mSELECT * FROM "logged_users" WHERE ("logged_users"."ip" = '0.0.0.0' AND "logged_users"."session" = 'test session') LIMIT 1[0m
  [4;35;1mLoggedUser Update (0.1ms)[0m   [0mUPDATE "logged_users" SET "updated_at" = '2010-03-28 15:39:06', "session_ts" = '2010-03-28 15:39:06' WHERE "id" = 2053932786[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
Rendering template within layouts/ohm
Rendering users/new
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM "users" WHERE ("users".parent_id = 2) [0m
  [4;36;1mDomain Load (0.1ms)[0m   [0;1mSELECT * FROM "domains" WHERE ("domains".user_id = 2) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM "users" WHERE ("users".parent_id = 2) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM "users" WHERE ("users".parent_id = 2) [0m
  [4;35;1mService Load (0.1ms)[0m   [0mSELECT * FROM "services" INNER JOIN "services_users" ON "services".id = "services_users".service_id WHERE ("services_users".user_id = 2 ) [0m
Completed in 13ms (View: 10, DB: 2) | 200 OK [http://test.host/users/new]
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
  [4;35;1mLoggedUser Create (0.2ms)[0m   [0mINSERT INTO "logged_users" ("created_at", "session", "updated_at", "user_id", "ip", "session_ts") VALUES('2010-03-28 15:39:06', 'test session', '2010-03-28 15:39:06', 2, '0.0.0.0', '2010-03-28 15:39:06')[0m


Processing UsersController#profile (for 0.0.0.0 at 2010-03-28 17:39:06) [GET]
  Parameters: {"action"=>"profile", "controller"=>"users"}
  [4;36;1mLoggedUser Load (0.2ms)[0m   [0;1mSELECT * FROM "logged_users" WHERE ("logged_users"."ip" = '0.0.0.0' AND "logged_users"."session" = 'test session') LIMIT 1[0m
  [4;35;1mLoggedUser Update (0.1ms)[0m   [0mUPDATE "logged_users" SET "updated_at" = '2010-03-28 15:39:06', "session_ts" = '2010-03-28 15:39:06' WHERE "id" = 2053932786[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
Rendering template within layouts/ohm
Rendering users/profile
  [4;35;1mService Load (0.1ms)[0m   [0mSELECT * FROM "services" INNER JOIN "services_users" ON "services".id = "services_users".service_id WHERE ("services_users".user_id = 2 ) [0m
Completed in 11ms (View: 8, DB: 1) | 200 OK [http://test.host/users/profile]
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mLoggedUser Create (0.2ms)[0m   [0mINSERT INTO "logged_users" ("created_at", "session", "updated_at", "user_id", "ip", "session_ts") VALUES('2010-03-28 15:39:06', 'test session', '2010-03-28 15:39:06', 1, '0.0.0.0', '2010-03-28 15:39:06')[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m


Processing UsersController#login_as_me (for 0.0.0.0 at 2010-03-28 17:39:06) [POST]
  Parameters: {"action"=>"login_as_me", "id"=>"2", "controller"=>"users"}
  [4;35;1mLoggedUser Load (0.2ms)[0m   [0mSELECT * FROM "logged_users" WHERE ("logged_users"."ip" = '0.0.0.0' AND "logged_users"."session" = 'test session') LIMIT 1[0m
  [4;36;1mLoggedUser Update (0.1ms)[0m   [0;1mUPDATE "logged_users" SET "updated_at" = '2010-03-28 15:39:06', "session_ts" = '2010-03-28 15:39:06' WHERE "id" = 2053932786[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mLoggedUser Load (0.2ms)[0m   [0;1mSELECT * FROM "logged_users" WHERE ("logged_users"."ip" = '0.0.0.0' AND "logged_users"."session" = 'test session') LIMIT 1[0m
  [4;35;1mLoggedUser Update (0.1ms)[0m   [0mUPDATE "logged_users" SET "updated_at" = '2010-03-28 15:39:06', "session_ts" = '2010-03-28 15:39:06' WHERE "id" = 2053932786[0m
  [4;36;1mLoggedUser Update (0.1ms)[0m   [0;1mUPDATE "logged_users" SET "updated_at" = '2010-03-28 15:39:06', "user_id" = 2 WHERE "id" = 2053932786[0m
Redirected to http://test.host/
Completed in 6ms (DB: 2) | 302 Found [http://test.host/users/login_as_me/2]
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
  [4;36;1mLoggedUser Create (0.2ms)[0m   [0;1mINSERT INTO "logged_users" ("created_at", "session", "updated_at", "user_id", "ip", "session_ts") VALUES('2010-03-28 15:39:06', 'test session', '2010-03-28 15:39:06', 2, '0.0.0.0', '2010-03-28 15:39:06')[0m
  [4;35;1mService Load (0.2ms)[0m   [0mSELECT * FROM "services" WHERE ("services"."id" = 2053932785) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mINSERT INTO "services_users" ("service_id", "user_id") VALUES (2053932785, 2)[0m
  [4;35;1mService Load (0.1ms)[0m   [0mSELECT "services".id FROM "services" WHERE ("services"."name" = 'Service 1' AND "services".id <> 2053932785) LIMIT 1[0m
  [4;36;1mService Load (0.1ms)[0m   [0;1mSELECT "services".id FROM "services" WHERE ("services"."controller" = 'service_test_1' AND "services".id <> 2053932785) LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM "services" INNER JOIN "services_users" ON "services".id = "services_users".service_id WHERE ("services_users".user_id = 2 ) [0m


Processing UsersController#addservice (for 0.0.0.0 at 2010-03-28 17:39:06) [POST]
  Parameters: {"action"=>"addservice", "service_id"=>[2053932785], "user_id"=>"2", "controller"=>"users"}
  [4;36;1mLoggedUser Load (0.2ms)[0m   [0;1mSELECT * FROM "logged_users" WHERE ("logged_users"."ip" = '0.0.0.0' AND "logged_users"."session" = 'test session') LIMIT 1[0m
  [4;35;1mLoggedUser Update (0.1ms)[0m   [0mUPDATE "logged_users" SET "updated_at" = '2010-03-28 15:39:06', "session_ts" = '2010-03-28 15:39:06' WHERE "id" = 2053932786[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
  [4;36;1mService Load (0.2ms)[0m   [0;1mSELECT * FROM "services" WHERE ("services"."id" = 2053932785) [0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
Redirected to http://test.host/users
Completed in 4ms (DB: 2) | 302 Found [http://test.host/users/addservice?service_id%5B%5D=2053932785&user_id=2]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM "services" INNER JOIN "services_users" ON "services".id = "services_users".service_id WHERE ("services_users".user_id = 2 ) [0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
  [4;36;1mLoggedUser Create (0.1ms)[0m   [0;1mINSERT INTO "logged_users" ("created_at", "session", "updated_at", "user_id", "ip", "session_ts") VALUES('2010-03-28 15:39:06', 'test session', '2010-03-28 15:39:06', 2, '0.0.0.0', '2010-03-28 15:39:06')[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM "users" [0m


Processing UsersController#destroy (for 0.0.0.0 at 2010-03-28 17:39:06) [DELETE]
  Parameters: {"action"=>"destroy", "id"=>"2", "controller"=>"users"}
  [4;36;1mLoggedUser Load (0.2ms)[0m   [0;1mSELECT * FROM "logged_users" WHERE ("logged_users"."ip" = '0.0.0.0' AND "logged_users"."session" = 'test session') LIMIT 1[0m
  [4;35;1mLoggedUser Update (0.1ms)[0m   [0mUPDATE "logged_users" SET "updated_at" = '2010-03-28 15:39:06', "session_ts" = '2010-03-28 15:39:06' WHERE "id" = 2053932786[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
Redirected to http://test.host/users
Completed in 4ms (DB: 2) | 302 Found [http://test.host/users/2]
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM "users" [0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
  [4;35;1mLoggedUser Create (0.1ms)[0m   [0mINSERT INTO "logged_users" ("created_at", "session", "updated_at", "user_id", "ip", "session_ts") VALUES('2010-03-28 15:39:06', 'test session', '2010-03-28 15:39:06', 2, '0.0.0.0', '2010-03-28 15:39:06')[0m


Processing UsersController#edit (for 0.0.0.0 at 2010-03-28 17:39:06) [GET]
  Parameters: {"action"=>"edit", "id"=>"2", "controller"=>"users"}
  [4;36;1mLoggedUser Load (0.2ms)[0m   [0;1mSELECT * FROM "logged_users" WHERE ("logged_users"."ip" = '0.0.0.0' AND "logged_users"."session" = 'test session') LIMIT 1[0m
  [4;35;1mLoggedUser Update (0.1ms)[0m   [0mUPDATE "logged_users" SET "updated_at" = '2010-03-28 15:39:06', "session_ts" = '2010-03-28 15:39:06' WHERE "id" = 2053932786[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
Redirected to http://test.host/users
Completed in 4ms (DB: 2) | 302 Found [http://test.host/users/2/edit]
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
  [4;36;1mLoggedUser Create (0.1ms)[0m   [0;1mINSERT INTO "logged_users" ("created_at", "session", "updated_at", "user_id", "ip", "session_ts") VALUES('2010-03-28 15:39:06', 'test session', '2010-03-28 15:39:06', 2, '0.0.0.0', '2010-03-28 15:39:06')[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 3) [0m


Processing UsersController#login_as_me (for 0.0.0.0 at 2010-03-28 17:39:06) [POST]
  Parameters: {"action"=>"login_as_me", "id"=>"3", "controller"=>"users"}
  [4;36;1mLoggedUser Load (0.2ms)[0m   [0;1mSELECT * FROM "logged_users" WHERE ("logged_users"."ip" = '0.0.0.0' AND "logged_users"."session" = 'test session') LIMIT 1[0m
  [4;35;1mLoggedUser Update (0.1ms)[0m   [0mUPDATE "logged_users" SET "updated_at" = '2010-03-28 15:39:06', "session_ts" = '2010-03-28 15:39:06' WHERE "id" = 2053932786[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 3) [0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
Redirected to http://test.host/users
Completed in 4ms (DB: 2) | 302 Found [http://test.host/users/login_as_me/3]
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
  [4;36;1mLoggedUser Create (0.2ms)[0m   [0;1mINSERT INTO "logged_users" ("created_at", "session", "updated_at", "user_id", "ip", "session_ts") VALUES('2010-03-28 15:39:06', 'test session', '2010-03-28 15:39:06', 2, '0.0.0.0', '2010-03-28 15:39:06')[0m
  [4;35;1mService Load (0.2ms)[0m   [0mSELECT * FROM "services" WHERE ("services"."id" = 2053932785) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mINSERT INTO "services_users" ("service_id", "user_id") VALUES (2053932785, 2)[0m
  [4;35;1mService Load (0.1ms)[0m   [0mSELECT "services".id FROM "services" WHERE ("services"."name" = 'Service 1' AND "services".id <> 2053932785) LIMIT 1[0m
  [4;36;1mService Load (0.1ms)[0m   [0;1mSELECT "services".id FROM "services" WHERE ("services"."controller" = 'service_test_1' AND "services".id <> 2053932785) LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM "services" INNER JOIN "services_users" ON "services".id = "services_users".service_id WHERE ("services_users".user_id = 2 ) [0m


Processing UsersController#removeservice (for 0.0.0.0 at 2010-03-28 17:39:06) [POST]
  Parameters: {"action"=>"removeservice", "service_id"=>"2053932785", "user_id"=>"2", "controller"=>"users"}
  [4;36;1mLoggedUser Load (0.2ms)[0m   [0;1mSELECT * FROM "logged_users" WHERE ("logged_users"."ip" = '0.0.0.0' AND "logged_users"."session" = 'test session') LIMIT 1[0m
  [4;35;1mLoggedUser Update (0.1ms)[0m   [0mUPDATE "logged_users" SET "updated_at" = '2010-03-28 15:39:06', "session_ts" = '2010-03-28 15:39:06' WHERE "id" = 2053932786[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
  [4;36;1mService Load (0.2ms)[0m   [0;1mSELECT * FROM "services" WHERE ("services"."id" = 2053932785) [0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
Redirected to http://test.host/users
Completed in 5ms (DB: 2) | 302 Found [http://test.host/users/removeservice?service_id=2053932785&user_id=2]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM "services" INNER JOIN "services_users" ON "services".id = "services_users".service_id WHERE ("services_users".user_id = 2 ) [0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
  [4;36;1mLoggedUser Create (0.1ms)[0m   [0;1mINSERT INTO "logged_users" ("created_at", "session", "updated_at", "user_id", "ip", "session_ts") VALUES('2010-03-28 15:39:06', 'test session', '2010-03-28 15:39:06', 2, '0.0.0.0', '2010-03-28 15:39:06')[0m


Processing UsersController#show (for 0.0.0.0 at 2010-03-28 17:39:06) [GET]
  Parameters: {"action"=>"show", "id"=>"2", "controller"=>"users"}
  [4;35;1mLoggedUser Load (0.2ms)[0m   [0mSELECT * FROM "logged_users" WHERE ("logged_users"."ip" = '0.0.0.0' AND "logged_users"."session" = 'test session') LIMIT 1[0m
  [4;36;1mLoggedUser Update (0.1ms)[0m   [0;1mUPDATE "logged_users" SET "updated_at" = '2010-03-28 15:39:06', "session_ts" = '2010-03-28 15:39:06' WHERE "id" = 2053932786[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
Redirected to http://test.host/users
  [4;36;1mService Load (0.1ms)[0m   [0;1mSELECT * FROM "services" INNER JOIN "services_users" ON "services".id = "services_users".service_id WHERE ("services_users".user_id = 2 ) [0m
  [4;35;1mService Load (0.1ms)[0m   [0mSELECT * FROM "services" INNER JOIN "services_users" ON "services".id = "services_users".service_id WHERE ("services_users".user_id = 2 ) [0m
Completed in 5ms (DB: 2) | 302 Found [http://test.host/users/2]
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
  [4;35;1mLoggedUser Create (0.2ms)[0m   [0mINSERT INTO "logged_users" ("created_at", "session", "updated_at", "user_id", "ip", "session_ts") VALUES('2010-03-28 15:39:06', 'test session', '2010-03-28 15:39:06', 2, '0.0.0.0', '2010-03-28 15:39:06')[0m


Processing UsersController#update (for 0.0.0.0 at 2010-03-28 17:39:06) [PUT]
  Parameters: {"action"=>"update", "id"=>"2", "controller"=>"users", "user"=>{"full_name"=>"New name"}}
  [4;36;1mLoggedUser Load (0.2ms)[0m   [0;1mSELECT * FROM "logged_users" WHERE ("logged_users"."ip" = '0.0.0.0' AND "logged_users"."session" = 'test session') LIMIT 1[0m
  [4;35;1mLoggedUser Update (0.1ms)[0m   [0mUPDATE "logged_users" SET "updated_at" = '2010-03-28 15:39:06', "session_ts" = '2010-03-28 15:39:06' WHERE "id" = 2053932786[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
Redirected to http://test.host/users
Completed in 4ms (DB: 2) | 302 Found [http://test.host/users/2?user%5Bfull_name%5D=New+name]
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mLoggedUser Create (0.2ms)[0m   [0;1mINSERT INTO "logged_users" ("created_at", "session", "updated_at", "user_id", "ip", "session_ts") VALUES('2010-03-28 15:39:06', 'test session', '2010-03-28 15:39:06', 1, '0.0.0.0', '2010-03-28 15:39:06')[0m
  [4;35;1mService Load (0.2ms)[0m   [0mSELECT * FROM "services" WHERE ("services"."id" = 2053932785) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mINSERT INTO "services_users" ("service_id", "user_id") VALUES (2053932785, 1)[0m
  [4;35;1mService Load (0.1ms)[0m   [0mSELECT "services".id FROM "services" WHERE ("services"."name" = 'Service 1' AND "services".id <> 2053932785) LIMIT 1[0m
  [4;36;1mService Load (0.1ms)[0m   [0;1mSELECT "services".id FROM "services" WHERE ("services"."controller" = 'service_test_1' AND "services".id <> 2053932785) LIMIT 1[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mINSERT INTO "services_users" ("service_id", "user_id") VALUES (2053932785, 2)[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM "services" INNER JOIN "services_users" ON "services".id = "services_users".service_id WHERE ("services_users".user_id = 2 ) [0m


Processing UsersController#removeservice (for 0.0.0.0 at 2010-03-28 17:39:06) [POST]
  Parameters: {"action"=>"removeservice", "service_id"=>"2053932785", "user_id"=>"2", "controller"=>"users"}
  [4;36;1mLoggedUser Load (0.2ms)[0m   [0;1mSELECT * FROM "logged_users" WHERE ("logged_users"."ip" = '0.0.0.0' AND "logged_users"."session" = 'test session') LIMIT 1[0m
  [4;35;1mLoggedUser Update (0.1ms)[0m   [0mUPDATE "logged_users" SET "updated_at" = '2010-03-28 15:39:06', "session_ts" = '2010-03-28 15:39:06' WHERE "id" = 2053932786[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
  [4;36;1mService Load (0.2ms)[0m   [0;1mSELECT * FROM "services" WHERE ("services"."id" = 2053932785) [0m
  [4;35;1mUser Load (10.7ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mService Load (0.1ms)[0m   [0;1mSELECT "services".id FROM "services" INNER JOIN "services_users" ON "services".id = "services_users".service_id WHERE ("services"."id" = 2053932785) AND ("services_users".user_id = 1 ) LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mDELETE FROM "services_users" WHERE user_id = 2 AND service_id IN (2053932785)[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT "users".id FROM "users" WHERE ("users"."username" = 'test1' AND "users".id <> 2) LIMIT 1[0m
  [4;35;1mService Load (0.1ms)[0m   [0mSELECT * FROM "services" INNER JOIN "services_users" ON "services".id = "services_users".service_id WHERE ("services_users".user_id = 2 ) [0m
  [4;36;1mService Load (0.3ms)[0m   [0;1mSELECT * FROM "services" INNER JOIN "services_users" ON "services".id = "services_users".service_id WHERE ("services_users".user_id = 1 ) [0m
Redirected to http://test.host/service_test_1/removefromuser?user_id=2
Completed in 68ms (DB: 14) | 302 Found [http://test.host/users/removeservice?service_id=2053932785&user_id=2]
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM "services" INNER JOIN "services_users" ON "services".id = "services_users".service_id WHERE ("services_users".user_id = 2 ) [0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mLoggedUser Create (0.2ms)[0m   [0mINSERT INTO "logged_users" ("created_at", "session", "updated_at", "user_id", "ip", "session_ts") VALUES('2010-03-28 15:39:06', 'test session', '2010-03-28 15:39:06', 1, '0.0.0.0', '2010-03-28 15:39:06')[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m


Processing UsersController#show (for 0.0.0.0 at 2010-03-28 17:39:06) [GET]
  Parameters: {"action"=>"show", "id"=>"2", "controller"=>"users"}
  [4;35;1mLoggedUser Load (0.2ms)[0m   [0mSELECT * FROM "logged_users" WHERE ("logged_users"."ip" = '0.0.0.0' AND "logged_users"."session" = 'test session') LIMIT 1[0m
  [4;36;1mLoggedUser Update (0.1ms)[0m   [0;1mUPDATE "logged_users" SET "updated_at" = '2010-03-28 15:39:06', "session_ts" = '2010-03-28 15:39:06' WHERE "id" = 2053932786[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mService Load (0.3ms)[0m   [0;1mSELECT * FROM "services" [0m
  [4;35;1mService Load (0.1ms)[0m   [0mSELECT * FROM "services" INNER JOIN "services_users" ON "services".id = "services_users".service_id WHERE ("services_users".user_id = 2 ) [0m
Rendering template within layouts/ohm
Rendering users/show
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users".parent_id = 2) [0m
  [4;35;1mDomain Load (0.1ms)[0m   [0mSELECT * FROM "domains" WHERE ("domains".user_id = 2) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM "domains" WHERE ("domains".user_id = 2) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM "services" INNER JOIN "services_users" ON "services".id = "services_users".service_id WHERE ("services_users".user_id = 2 ) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM "users" WHERE ("users".parent_id = 2) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM "users" WHERE ("users".parent_id = 2) [0m
  [4;36;1mService Load (0.1ms)[0m   [0;1mSELECT * FROM "services" INNER JOIN "services_users" ON "services".id = "services_users".service_id WHERE ("services_users".user_id = 1 ) [0m
Completed in 16ms (View: 11, DB: 3) | 200 OK [http://test.host/users/2]
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
  [4;36;1mLoggedUser Create (0.2ms)[0m   [0;1mINSERT INTO "logged_users" ("created_at", "session", "updated_at", "user_id", "ip", "session_ts") VALUES('2010-03-28 15:39:06', 'test session', '2010-03-28 15:39:06', 2, '0.0.0.0', '2010-03-28 15:39:06')[0m


Processing UsersController#profileupdate (for 0.0.0.0 at 2010-03-28 17:39:06) [POST]
  Parameters: {"action"=>"profileupdate", "controller"=>"users", "user"=>{"full_name"=>"New Name"}}
  [4;35;1mLoggedUser Load (0.2ms)[0m   [0mSELECT * FROM "logged_users" WHERE ("logged_users"."ip" = '0.0.0.0' AND "logged_users"."session" = 'test session') LIMIT 1[0m
  [4;36;1mLoggedUser Update (0.1ms)[0m   [0;1mUPDATE "logged_users" SET "updated_at" = '2010-03-28 15:39:06', "session_ts" = '2010-03-28 15:39:06' WHERE "id" = 2053932786[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT "users".id FROM "users" WHERE ("users"."username" = 'test1' AND "users".id <> 2) LIMIT 1[0m
  [4;36;1mService Load (0.1ms)[0m   [0;1mSELECT * FROM "services" INNER JOIN "services_users" ON "services".id = "services_users".service_id WHERE ("services_users".user_id = 2 ) [0m
  [4;35;1mService Load (0.1ms)[0m   [0mSELECT * FROM "services" INNER JOIN "services_users" ON "services".id = "services_users".service_id WHERE ("services_users".user_id = 1 ) [0m
  [4;36;1mUser Update (0.1ms)[0m   [0;1mUPDATE "users" SET "updated_at" = '2010-03-28 15:39:06', "full_name" = 'New Name' WHERE "id" = 2[0m
Redirected to http://test.host/
Completed in 8ms (DB: 2) | 302 Found [http://test.host/users/profileupdate?user%5Bfull_name%5D=New+Name]
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mLoggedUser Create (0.2ms)[0m   [0;1mINSERT INTO "logged_users" ("created_at", "session", "updated_at", "user_id", "ip", "session_ts") VALUES('2010-03-28 15:39:06', 'test session', '2010-03-28 15:39:06', 1, '0.0.0.0', '2010-03-28 15:39:06')[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m


Processing UsersController#update (for 0.0.0.0 at 2010-03-28 17:39:06) [PUT]
  Parameters: {"action"=>"update", "id"=>"2", "controller"=>"users", "user"=>{"full_name"=>"New name"}}
  [4;36;1mLoggedUser Load (0.2ms)[0m   [0;1mSELECT * FROM "logged_users" WHERE ("logged_users"."ip" = '0.0.0.0' AND "logged_users"."session" = 'test session') LIMIT 1[0m
  [4;35;1mLoggedUser Update (0.1ms)[0m   [0mUPDATE "logged_users" SET "updated_at" = '2010-03-28 15:39:06', "session_ts" = '2010-03-28 15:39:06' WHERE "id" = 2053932786[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT "users".id FROM "users" WHERE ("users"."username" = 'test1' AND "users".id <> 2) LIMIT 1[0m
  [4;36;1mService Load (0.1ms)[0m   [0;1mSELECT * FROM "services" INNER JOIN "services_users" ON "services".id = "services_users".service_id WHERE ("services_users".user_id = 2 ) [0m
  [4;35;1mService Load (0.1ms)[0m   [0mSELECT * FROM "services" INNER JOIN "services_users" ON "services".id = "services_users".service_id WHERE ("services_users".user_id = 1 ) [0m
  [4;36;1mUser Update (0.1ms)[0m   [0;1mUPDATE "users" SET "updated_at" = '2010-03-28 15:39:06', "full_name" = 'New name' WHERE "id" = 2[0m
Redirected to http://test.host/users/2
Completed in 9ms (DB: 2) | 302 Found [http://test.host/users/2?user%5Bfull_name%5D=New+name]
